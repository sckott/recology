<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Altmetrics from anywhere | Recology</title>
<meta name="keywords" content="R, API, altmetrics">
<meta name="description" content="The Lagotto application is a Rails app that collects and serves up via RESTful API article level metrics data for research objects. So far, this application has only been applied to scholarly articles, but will see action on datasets soon.
Martin Fenner has lead the development of Lagotto. He recently set up a discussion site if you want to chat about it.
The application has a nice GUI interface, and a quite nice RESTful API.">
<meta name="author" content="Scott Chamberlain">
<link rel="canonical" href="http://localhost:1313/2014/12/altmetrics-anywhere/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a4ec0cdfac731fabf363c0b5d5ab206254bbf9b6aaf985d695c6bb534196df16.css" integrity="sha256-pOwM36xzH6vzY8C11asgYlS7&#43;baq&#43;YXWlca7U0GW3xY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/2014/12/altmetrics-anywhere/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Recology (Alt + H)">Recology</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/index.xml" title="RSS">
                    <span>RSS</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Altmetrics from anywhere
    </h1>
    <div class="post-meta"><span title='2014-12-08 00:00:00 +0000 UTC'>December 8, 2014</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain

</div>
  </header> 
  <div class="post-content"><p>The Lagotto application is a Rails app that collects and serves up via RESTful API article level metrics data for research objects. So far, this application has only been applied to scholarly articles, but will <a href="https://articlemetrics.github.io/MDC/">see action on datasets soon</a>.</p>
<p><a href="https://blog.martinfenner.org/">Martin Fenner</a> has lead the development of Lagotto. He recently set up <a href="https://discuss.lagotto.io/">a discussion site</a> if you want to chat about it.</p>
<p>The application has a <a href="https://alm.plos.org/">nice GUI interface</a>, and a quite nice <a href="https://alm.plos.org/docs/api">RESTful API</a>.</p>
<p>Lagotto is open source! Because of this, and the quality of the software, other publishers have started using it to gather and deliver publicly article level metrics data, including:</p>
<ul>
<li><a href="https://lagotto.svr.elifesciences.org/">eLife</a></li>
<li><a href="https://pkp-alm.lib.sfu.ca/">Public Knowledge Project (PKP)</a></li>
<li><a href="https://metricus.copernicus.org/">Copernicus</a></li>
<li><a href="https://det.labs.crossref.org/">Crossref</a></li>
<li><a href="https://alm.pensoft.net:81/">Pensoft</a></li>
</ul>
<p>The PLOS instance at <a href="https://alm.plos.org/">https://alm.plos.org/</a> is always the most up to date with the Lagotto software, but <a href="https://det.labs.crossref.org/">Crossref</a> has the largest number of articles.</p>
<p>I&rsquo;ve been working on three clients for the Lagotto REST API, including for a while now on <code>R</code>, recently on <code>Python</code>, and just last week on <code>Ruby</code>.</p>
<p>Please do try the clients, report bugs, request features - you know the open source drill&hellip;</p>
<p>I&rsquo;d say the R client is the most mature, while Python is less so, end the Ruby gem the least mature.</p>
<h2 id="installation">Installation<a hidden class="anchor" aria-hidden="true" href="#installation">#</a></h2>
<p>R</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;devtools&#34;</span>)
</span></span><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;ropensci/alm&#34;</span>)
</span></span></code></pre></div><p>Python</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>git clone https<span style="color:#f92672">://</span>github.com<span style="color:#f92672">/</span>cameronneylon<span style="color:#f92672">/</span>pyalm.git
</span></span><span style="display:flex;"><span>cd pyalm
</span></span><span style="display:flex;"><span>git checkout scott
</span></span><span style="display:flex;"><span>python setup.py install
</span></span></code></pre></div><p>Ruby</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>gem install httparty json rake
</span></span><span style="display:flex;"><span>git clone https<span style="color:#f92672">://</span>github.com<span style="color:#f92672">/</span>sckott<span style="color:#f92672">/</span>alm.git
</span></span><span style="display:flex;"><span>cd alm
</span></span><span style="display:flex;"><span>make <span style="color:#75715e"># which runs build and install tasks</span>
</span></span></code></pre></div><p>If you don&rsquo;t have <code>make</code>, then just run <code>gem build alm.gemspec</code> and 	<code>gem install alm-0.1.0.gem</code> seperately.</p>
<h2 id="example">Example<a hidden class="anchor" aria-hidden="true" href="#example">#</a></h2>
<p>In this example, we&rsquo;ll get altmetrics data for two DOIs: <a href="https://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797">10.1371/journal.pone.0029797</a>, and <a href="https://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798">10.1371/journal.pone.0029798</a> (click on links to go to paper).</p>
<h3 id="r">R<a hidden class="anchor" aria-hidden="true" href="#r">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#39;alm&#39;</span>)
</span></span><span style="display:flex;"><span>ids <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;10.1371/journal.pone.0029797&#34;</span>,<span style="color:#e6db74">&#34;10.1371/journal.pone.0029798&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">alm_ids</span>(ids, info<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;summary&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $meta</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   total total_pages page error</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1     2           1    1    NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$`10.1371/journal.pone.0029798`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$`10.1371/journal.pone.0029798`$info</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 10.1371/journal.pone.0029798</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                                     title</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                canonical_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 https://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;       pmid   pmcid                        mendeley_uuid</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 22253786 3256171 b08cc99e-b526-3f0c-adaa-d5ee6d0d978a</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;            update_date     issued</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 2014-12-09T02:52:47Z 2012-01-11</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$`10.1371/journal.pone.0029798`$signposts</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            doi viewed saved discussed cited</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 10.1371/journal.pone.0029798   4346    14         2    26</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$`10.1371/journal.pone.0029797`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$`10.1371/journal.pone.0029797`$info</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 10.1371/journal.pone.0029797</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                             title</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                canonical_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 https://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;       pmid   pmcid                        mendeley_uuid</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 22253785 3256195 897fbbd6-5a23-3552-8077-97251b82c1e1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;            update_date     issued</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 2014-12-09T02:52:46Z 2012-01-11</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$`10.1371/journal.pone.0029797`$signposts</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            doi viewed saved discussed cited</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 10.1371/journal.pone.0029797  34282    81       244     8</span>
</span></span></code></pre></div><h3 id="python">Python<a hidden class="anchor" aria-hidden="true" href="#python">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>import pyalm
</span></span><span style="display:flex;"><span>ids <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;10.1371/journal.pone.0029797&#34;</span>,<span style="color:#e6db74">&#34;10.1371/journal.pone.0029798&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pyalm.get_alm</span>(ids, info<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;summary&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; {&#39;articles&#39;: [&lt;ArticleALM Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; DOI 10.1371/journal.pone.0029798&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   &lt;ArticleALM Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;         DOI 10.1371/journal.pone.0029797&gt;],</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  &#39;meta&#39;: {u&#39;error&#39;: None, u&#39;page&#39;: 1, u&#39;total&#39;: 2, u&#39;total_pages&#39;: 1}}</span>
</span></span></code></pre></div><h3 id="ruby">Ruby<a hidden class="anchor" aria-hidden="true" href="#ruby">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;alm&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Alm.alm</span>(ids<span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;10.1371/journal.pone.0029797&#34;</span>,<span style="color:#e6db74">&#34;10.1371/journal.pone.0029798&#34;</span>], key<span style="color:#f92672">:</span> ENV[<span style="color:#e6db74">&#39;PLOS_API_KEY&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; =&gt; {&#34;total&#34;=&gt;2,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  &#34;total_pages&#34;=&gt;1,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  &#34;page&#34;=&gt;1,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  &#34;error&#34;=&gt;nil,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  &#34;data&#34;=&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [{&#34;doi&#34;=&gt;&#34;10.1371/journal.pone.0029798&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;title&#34;=&gt;&#34;Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;issued&#34;=&gt;{&#34;date-parts&#34;=&gt;[[2012, 1, 11]]},</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;canonical_url&#34;=&gt;&#34;https://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;pmid&#34;=&gt;&#34;22253786&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;pmcid&#34;=&gt;&#34;3256171&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;mendeley_uuid&#34;=&gt;&#34;b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;viewed&#34;=&gt;4346,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;saved&#34;=&gt;14,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;discussed&#34;=&gt;2,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;cited&#34;=&gt;26,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;update_date&#34;=&gt;&#34;2014-12-09T02:52:47Z&#34;},</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    {&#34;doi&#34;=&gt;&#34;10.1371/journal.pone.0029797&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;title&#34;=&gt;&#34;Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;issued&#34;=&gt;{&#34;date-parts&#34;=&gt;[[2012, 1, 11]]},</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;canonical_url&#34;=&gt;&#34;https://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;pmid&#34;=&gt;&#34;22253785&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;pmcid&#34;=&gt;&#34;3256195&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;mendeley_uuid&#34;=&gt;&#34;897fbbd6-5a23-3552-8077-97251b82c1e1&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;viewed&#34;=&gt;34282,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;saved&#34;=&gt;81,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;discussed&#34;=&gt;244,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;cited&#34;=&gt;8,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     &#34;update_date&#34;=&gt;&#34;2014-12-09T02:52:46Z&#34;}]}</span>
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/r/">R</a></li>
      <li><a href="http://localhost:1313/tags/api/">API</a></li>
      <li><a href="http://localhost:1313/tags/altmetrics/">Altmetrics</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Recology</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
