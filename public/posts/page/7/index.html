<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Posts | Recology</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Recology">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a4ec0cdfac731fabf363c0b5d5ab206254bbf9b6aaf985d695c6bb534196df16.css" integrity="sha256-pOwM36xzH6vzY8C11asgYlS7&#43;baq&#43;YXWlca7U0GW3xY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Recology (Alt + H)">Recology</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/index.xml" title="RSS">
                    <span>RSS</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">lawn - a new package to do geospatial analysis
    </h2>
  </header>
  <div class="entry-content">
    <p>lawn is an R wrapper for the Javascript library turf.js for advanced geospatial analysis. In addition, we have a few functions to interface with the geojson-random Javascript library.
lawn includes traditional spatial operations, helper functions for creating GeoJSON data, and data classification and statistics tools.
There is an additional helper function (see view()) in this package to help visualize data with interactive maps via the leaflet package (https://github.com/rstudio/leaflet). Note that leaflet is not required to install lawn - it’s in Suggests, not Imports or Depends.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-05-18 00:00:00 +0000 UTC'>May 18, 2015</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to lawn - a new package to do geospatial analysis" href="http://localhost:1313/2015/05/mow-the-lawn/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">openadds - open addresses client
    </h2>
  </header>
  <div class="entry-content">
    <p>openadds talks to Openaddresses.io. a run down of its things:
Install devtools::install_github(&#34;sckott/openadds&#34;) library(&#34;openadds&#34;) List datasets Scrapes links to datasets from the openaddresses site
dat &lt;- oa_list() dat[2:6] #&gt; [1] &#34;https://data.openaddresses.io.s3.amazonaws.com/20150511/au-tas-launceston.csv&#34; #&gt; [2] &#34;https://s3.amazonaws.com/data.openaddresses.io/20141127/au-victoria.zip&#34; #&gt; [3] &#34;https://data.openaddresses.io.s3.amazonaws.com/20150511/be-flanders.zip&#34; #&gt; [4] &#34;https://data.openaddresses.io.s3.amazonaws.com/20150417/ca-ab-calgary.zip&#34; #&gt; [5] &#34;https://data.openaddresses.io.s3.amazonaws.com/20150511/ca-ab-grande_prairie.zip&#34; Search for datasets Uses oa_list() internally, then searches through columns requested.
oa_search(country = &#34;us&#34;, state = &#34;ca&#34;) #&gt; Source: local data frame [68 x 5] #&gt; #&gt; country state city ext #&gt; 1 us ca san_mateo_county .zip #&gt; 2 us ca alameda_county .zip #&gt; 3 us ca alameda_county .zip #&gt; 4 us ca amador .zip #&gt; 5 us ca amador .zip #&gt; 6 us ca bakersfield .zip #&gt; 7 us ca bakersfield .zip #&gt; 8 us ca berkeley .zip #&gt; 9 us ca berkeley .zip #&gt; 10 us ca butte_county .zip #&gt; .. ... ... ... ... #&gt; Variables not shown: url (chr) Get data Passing in a URL
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-05-18 00:00:00 +0000 UTC'>May 18, 2015</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to openadds - open addresses client" href="http://localhost:1313/2015/05/openadds/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">geojsonio - a new package to do geojson things
    </h2>
  </header>
  <div class="entry-content">
    <p>geojsonio converts geographic data to GeoJSON and TopoJSON formats - though the focus is mostly on GeoJSON
For those not familiar GeoJSON it is a format for encoding a variety of geographic data structures. GeoJSON supports the following geometry types: Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeometryCollection. These geometry types are also found in well known text (WKT), and have equivalents in R’s spatial classes. Read the spec for more detailed information.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-04-30 00:00:00 +0000 UTC'>April 30, 2015</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to geojsonio - a new package to do geojson things" href="http://localhost:1313/2015/04/geojson-io/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">the new way - httsnap
    </h2>
  </header>
  <div class="entry-content">
    <p>Inspired by httpie, a Python command line client as a sort of drop in replacement for curl, I am playing around with something similar-ish in R, at least in spirit. I started a little R pkg called httsnap with the following ideas:
The web is increasingly a JSON world, so set content-type and accept headers to applications/json by default The workflow follows logically, or at least should, from, hey, I got this url, to i need to add some options, to execute request Whenever possible, transform output to data.frame’s - facilitating downstream manipulation via dplyr, etc. Do GET requests by default. Specify a different type if you don’t want GET. Some functionality does GET by default, though in some cases you need to specify GET You can use non-standard evaluation to easily pass in query parameters without worrying about &amp;’s, URL escaping, etc. (see Query()) Same for body params (see Body()) Install Install and load httsnap
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-04-29 00:00:00 +0000 UTC'>April 29, 2015</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to the new way - httsnap" href="http://localhost:1313/2015/04/the-new-way/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Faster solr with csv
    </h2>
  </header>
  <div class="entry-content">
    <p>With the help of user input, I’ve tweaked solr just a bit to make things faster using default setings. I imagine the main interface for people using the solr R client is via solr_search(), which used to have wt=json by default. Changing this to wt=csv gives better performance. And it sorta makes sense to use csv, as the point of using an R client is probably do get data eventually into a data.frame, so it makes sense to go csv format (Already in tabular format) if it’s faster too.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-03-20 00:00:00 +0000 UTC'>March 20, 2015</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Faster solr with csv" href="http://localhost:1313/2015/03/faster-solr/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">PUT dataframes on your couch
    </h2>
  </header>
  <div class="entry-content">
    <p>It would be nice to easily push each row or column of a data.frame into CouchDB instead of having to prepare them yourself into JSON, then push in to couch. I recently added ability to push data.frame’s into couch using the normal PUT /{db} method, and added support for the couch bulk API.
Install install.packages(&#34;devtools&#34;) devtools::install_github(&#34;sckott/sofa&#34;) library(&#34;sofa&#34;) PUT /db You can write directly from a data.frame, either by rows or columns. First, rows:
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-03-12 00:00:00 +0000 UTC'>March 12, 2015</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to PUT dataframes on your couch" href="http://localhost:1313/2015/03/couch-dataframes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">csl - an R client for Citation Style Language data
    </h2>
  </header>
  <div class="entry-content">
    <p>CSL (Citation Style Language) is used quite widely now to specify citations in a standard fashion. csl is an R client for exploring CSL styles, and is inspired by the Ruby gem csl. For example, csl is given back in the PLOS Lagotto article level metric API (follow https://alm.plos.org/api/v5/articles?ids=10.1371%252Fjournal.pone.0025110&amp;info=detail&amp;source_id=crossref).
Let me know if you have any feedback at the repo https://github.com/ropensci/csl
Install install.packages(&#34;devtools&#34;) devtools::install_github(&#34;ropensci/csl&#34;) library(&#34;csl&#34;) Load CSL style from a URL You can load CSL styles from either a URL or a local file on your machine. Firt, from a URL. In this case from the Zotero style repository, for the American Journal or Political Science.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-03-11 00:00:00 +0000 UTC'>March 11, 2015</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to csl - an R client for Citation Style Language data" href="http://localhost:1313/2015/03/csl-client/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Elasticsearch backup and restore
    </h2>
  </header>
  <div class="entry-content">
    <p>setup backup curl -XPUT &#39;http://localhost:9200/_snapshot/my_backup/&#39; -d &#39;{ &#34;type&#34;: &#34;fs&#34;, &#34;settings&#34;: { &#34;location&#34;: &#34;/Users/sacmac/esbackups/my_backup&#34;, &#34;compress&#34;: true } }&#39; create backup http PUT &#34;localhost:9200/_snapshot/my_backup/snapshot_2?wait_for_completion=true&#34; get info on snapshot http &#34;localhost:9200/_snapshot/my_backup/snapshot_2&#34; restore curl -XPOST &#34;localhost:9200/_snapshot/my_backup/snapshot_2/_restore&#34; partial restore, including various options that can be used curl -XPOST &#34;localhost:9200/_snapshot/my_backup/snapshot_2/_restore&#34; -d &#39;{ &#34;indices&#34;: &#34;index_1,index_2&#34;, &#34;ignore_unavailable&#34;: &#34;true&#34;, &#34;include_global_state&#34;: false, &#34;rename_pattern&#34;: &#34;index_(.&#43;)&#34;, &#34;rename_replacement&#34;: &#34;restored_index_$1&#34; }&#39; </p>
  </div>
  <footer class="entry-footer"><span title='2015-02-26 21:00:00 -0800 PST'>February 26, 2015</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Elasticsearch backup and restore" href="http://localhost:1313/2015/02/elasticsearch-backup-restore/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">note to self, secure elasticsearch
    </h2>
  </header>
  <div class="entry-content">
    <p>Recently I spun up a box on a cloud hosting provider planning to make a tens of thousdands of queries to an Elasticsearch instance on the same box. I could have done this on my own machine, but didn’t want to take up compute resources.
I installed R and Elasticsearch on the box, then went about doing my thang.
A day later when things were still running, the hosting provider sent me a message that apparently my box had been serving up a DDoS attack.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-02-26 10:00:00 -0800 PST'>February 26, 2015</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to note to self, secure elasticsearch" href="http://localhost:1313/2015/02/secure-elasticsearch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">httping - ping and time http requests
    </h2>
  </header>
  <div class="entry-content">
    <p>I’ve been working on a little thing called httping - a small R package that started as a pkg to Ping urls and time requests. It’s a port of the Ruby gem httping. The httr package is in Depends in this package, so its functions can be called directly, without having to load httr explicitly yourself.
In addition to timing requests, I’ve been tinkering with how to make http requests, with curl options accepting and returning the same object so they can be chained together, and then that object passed to a http verb like GET. Maybe this is a bad idea, but maybe not.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-01-30 00:00:00 +0000 UTC'>January 30, 2015</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to httping - ping and time http requests" href="http://localhost:1313/2015/01/httping/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/6/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/posts/page/8/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Recology</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
