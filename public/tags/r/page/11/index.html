<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>R | Recology</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/tags/r/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f4cda22486791d430ef692108ba33a982c3c552eca57e99456bb55aa4bd22568.css" integrity="sha256-9M2iJIZ5HUMO9pIQi6M6mCw8VS7KV&#43;mUVrtVqkvSJWg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/r/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/tags/r/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Recology (Alt + H)">Recology</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/index.xml" title="RSS">
                    <span>RSS</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    R
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Getting data on your government
    </h2>
  </header>
  <div class="entry-content">
    <p>I created an R package a while back to interact with some APIs that serve up data on what our elected represenatives are up to, including the New York Times Congress API, and the Sunlight Labs API.
What kinds of things can you do with govdat? Here are a few examples.
How do the two major parties differ in the use of certain words (searches the congressional record using the Sunlight Labs Capitol Words API)?
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-09-01 00:00:00 +0000 UTC'>September 1, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Getting data on your government" href="http://localhost:1313/2012/09/gov-dat/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Getting ecology and evolution journal titles from R
    </h2>
  </header>
  <div class="entry-content">
    <p>So I want to mine some #altmetrics data for some research I’m thinking about doing. The steps would be:
Get journal titles for ecology and evolution journals. Get DOI’s for all papers in all the above journal titles. Get altmetrics data on each DOI. Do some fancy analyses. Make som pretty figs. Write up results. It’s early days, so jus working on the first step. However, getting a list of journals in ecology and evolution is frustratingly hard. This turns out to not be that easy if you are (1) trying to avoid Thomson Reuters, and (2) want a machine interface way to do it (read: API).
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-31 00:00:00 +0000 UTC'>August 31, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Getting ecology and evolution journal titles from R" href="http://localhost:1313/2012/08/get-ecoevo-journal-titles/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Making matrices with zeros and ones
    </h2>
  </header>
  <div class="entry-content">
    <p>So I was trying to figure out a fast way to make matrices with randomly allocated 0 or 1 in each cell of the matrix. I reached out on Twitter, and got many responses (thanks tweeps!).
Here is the solution I came up with. See if you can tell why it would be slow.
{% highlight r linenos %} mm &lt;- matrix(0, 10, 5) apply(mm, c(1, 2), function(x) sample(c(0, 1), 1)) {% endhighlight %}
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-30 08:02:00 -0800 -0800'>August 30, 2012</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Making matrices with zeros and ones" href="http://localhost:1313/2012/08/making-matrices/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ggplot2 maps with insets
    </h2>
  </header>
  <div class="entry-content">
    <p> UPDATE: changed data source so that the entire example can be run by anyone on their own machine. Also, per Joachim’s suggestion, I put a box around the blown up area of the map. In addition, rgeos and maptools removed, not needed.
Here’s a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the gridExtra package.
Install libraries install.packages(c(&#34;ggplot2&#34;, &#34;maps&#34;, &#34;grid&#34;, &#34;gridExtra&#34;)) library(&#34;ggplot2&#34;) library(&#34;maps&#34;) library(&#34;grid&#34;) library(&#34;gridExtra&#34;) Create a data frame dat &lt;- data.frame(ecosystem = rep(c(&#34;oak&#34;, &#34;steppe&#34;, &#34;prairie&#34;), each = 8), lat = rnorm(24, mean = 51, sd = 1), lon = rnorm(24, mean = -113, sd = 5)) head(dat) #&gt; ecosystem lat lon #&gt; 1 oak 49.58285 -107.6930 #&gt; 2 oak 52.58942 -116.6920 #&gt; 3 oak 50.49277 -114.5542 #&gt; 4 oak 50.05943 -116.5660 #&gt; 5 oak 51.76492 -112.1457 #&gt; 6 oak 52.82153 -112.8858 Get maps using the maps library Get a map of Canada
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-22 00:00:00 +0000 UTC'>August 22, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to ggplot2 maps with insets" href="http://localhost:1313/2012/08/ggplot-inset-map/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Recent R packages for ecology and evolution
    </h2>
  </header>
  <div class="entry-content">
    <p>Many R packages/tools have come out recently for doing ecology and evolution. All of the below were described in Methods in Ecology and Evolution, except for spider, which came out in Molecular Ecology Resources. Here are some highlights.
mvabund paper - get R pkg Model-based analysis of multivariate abundance data. Visualising data, fitting predictive models, checking assumptions, hypothesis testing. popdemo paper - get R pkg Population demography using projection matrix analysis. motmot paper - get R pkg Models of trait macroevolution on trees spider paper - get R pkg Analysis of species identity and evolution, with particular reference to DNA barcoding BaSTA paper - get R pkg Bayesian estimation of age-specific survival from incomplete mark–recapture/recovery data with covariates abc paper - get R pkg Approximate Bayesian Computation (ABC) RNetLogo paper - get R pkg Running and exploring individual-based models implemented in NetLogo phytools paper - get R pkg Tools for phylogenetic comparative biology smatr paper - get R pkg Estimation and inference about allometric lines RBrownie paper - get R pkg ? Testing hypotheses about rates of evolutionary change polytomy resolver paper - get R pkg Resolve polytomies on dated phylogenies with their R scripts [here][]. And a cool tool came out for the Python programming language.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-06-14 00:00:00 +0000 UTC'>June 14, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Recent R packages for ecology and evolution" href="http://localhost:1313/2012/06/recent-r-eeb-packages/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">mvabund - new R pkg for multivariate abundance data
    </h2>
  </header>
  <div class="entry-content">
    <p>There is a new R package in town, mvabund, which does, as they say “statistical methods for analysing multivariate abundance data”. The authors introduced the paper in an online early paper in Methods in Ecology and Evolution here, R package here.
The package is meant to visualize data, fit predictive models, check model assumptions, and test hypotheses about community-environment associations.
Here is a quick example (originally from https://gist.github.com/2112141)
#### mvabund play # install mvabund from CRAN pkg repository install.packages(&#34;mvabund&#34;) require(mvabund) # plot abundance by copepod species data(Tasmania) attach(Tasmania) tasmvabund &lt;- mvabund(Tasmania$copepods) plot(tasmvabund ~ treatment, col = as.numeric(block)) # fit negative binomial model for each species and plot residuals vs. fitted tas.nb &lt;- manyglm(copepods ~ block*treatment, family=&#34;negative.binomial&#34;) plot(tas.nb) ...</p>
  </div>
  <footer class="entry-footer"><span title='2012-03-19 00:00:00 +0000 UTC'>March 19, 2012</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to mvabund - new R pkg for multivariate abundance data" href="http://localhost:1313/2012/03/mvabund/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Take the INNGE survey on math and ecology
    </h2>
  </header>
  <div class="entry-content">
    <p>Many ecologists are R users, but we vary in our understanding of the math and statistical theory behind models we use. There is no clear consensus on what should be the basic mathematical training of ecologists.
To learn what the community thinks, we invite you to fill out a short and anonymous questionnaire on this topic here.
The questionnaire was designed by Frédéric Barraquand, a graduate student at Université Pierre et Marie Curie, in collaboration with the International Network of Next-Generation Ecologists (INNGE).
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-02-17 00:00:00 +0000 UTC'>February 17, 2012</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Take the INNGE survey on math and ecology" href="http://localhost:1313/2012/02/math-ecology-survey/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Scraping Flora of North America
    </h2>
  </header>
  <div class="entry-content">
    <p>So Flora of North America is an awesome collection of taxonomic information for plants across the continent. However, the information within is not easily machine readable.
So, a little web scraping is called for.
rfna is an R package to collect information from the Flora of North America.
So far, you can:
Get taxonomic names from web pages that index the names. Then get daughter URLs for those taxa, which then have their own 2nd order daughter URLs you can scrape, or scrape the 1st order daughter page. Query Asteraceae taxa for whether they have paleate or epaleate receptacles. This function is something I needed, but more functions will be made like this to get specific traits. Further functions will do search, etc.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-01-27 00:00:00 +0000 UTC'>January 27, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Scraping Flora of North America" href="http://localhost:1313/2012/01/flora-north-america-scraping/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RNetLogo - A package for running NetLogo from R
    </h2>
  </header>
  <div class="entry-content">
    <p>Described in a new Methods in Ecology and Evolution paper here, a new R package RNetLogo allows you to use NetLogo from R.
NetLogo is software is a “multi-agent programmable modeling environment”. NetLogo can be used in individual- and agent-based modeling, and is used in the book Agent-based and Individual-based Modeling: A Practical Introduction by Railsback &amp; Grimm.
I have not tried the package yet, but looks interesting. I am always a fan of running stand-alone programs from R if possible.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-01-23 00:00:00 +0000 UTC'>January 23, 2012</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to RNetLogo - A package for running NetLogo from R" href="http://localhost:1313/2012/01/rnetlogo/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Function for phylogeny resolution
    </h2>
  </header>
  <div class="entry-content">
    <p>UPDATE: Yeah, so the treeresstats function had a problem in one of the calculations. I fixed that and added some more calulcations to the function.
I couldn’t find any functions to calculate number of polytomies, and related metrics.
Here’s a simple function that gives four metrics on a phylo tree object:
# calculate tree resolution stats treeresstats &lt;- function(x) { require(phangorn) # load the phangorn package todo &lt;- ( 1&#43;Ntip(x)) : (Ntip(x) &#43; Nnode(x) ) trsize_tips &lt;- Ntip(x) trsize_nodes &lt;- Nnode(x) polytomyvec &lt;- sapply(todo, function(y) length(Children(x, y))) numpolys &lt;- length(polytomyvec[polytomyvec &gt; 2]) numpolysbytrsize_tips &lt;- numpolys/trsize_tips numpolysbytrsize_nodes &lt;- numpolys/trsize_nodes proptipsdescpoly &lt;- sum(polytomyvec[polytomyvec &gt; 2])/trsize_tips propnodesdich &lt;- length(polytomyvec[polytomyvec == 2])/trsize_nodes list(trsize_tips = trsize_tips, trsize_nodes = trsize_nodes, numpolys = numpolys, numpolysbytrsize_tips = numpolysbytrsize_tips, numpolysbytrsize_nodes = numpolysbytrsize_nodes, proptipsdescpoly = proptipsdescpoly, propnodesdich = propnodesdich) } # Single tree example tree &lt;- read.tree(text=&#34;((((((artemisia_species:44,lactuca_species:44,senecio_species:44)6:46,campanula_species:90)5:17.75,((asclepias_species:71,galium_species:71)8:18.375,plantago_species:89.375)7:18.375)4:17.75,((cerastium_species:41.833332,silene_species:41.833332)10:41.833332,chenopodium_species:83.666664)9:41.833336)3:17.75,((geum_species:47,potentilla_species:47)12:48.125,lepidium_species:95.125)11:48.125)2:17.75,(bromus_species:12,elymus_species:12)13:149)1;&#34;) dat &lt;- treeresstats(tree) dat # Many trees example maketrees &lt;- function(numtrees) { require(ape); require(plyr) trees &lt;- rmtree(numtrees, 20) llply(trees, di2multi, tol = 0.5) } trees &lt;- maketrees(30) dat &lt;- ldply(trees, function(x) data.frame(treeresstats(x))) dat Here’s output from the gist above:
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-01-13 00:00:00 +0000 UTC'>January 13, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Function for phylogeny resolution" href="http://localhost:1313/2012/01/phylogeny-resolution/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/tags/r/page/10/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/tags/r/page/12/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/">Recology</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
