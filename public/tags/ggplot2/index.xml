<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Ggplot2 on Recology</title>
    <link>http://localhost:1313/tags/ggplot2/</link>
    <description>Recent content in Ggplot2 on Recology</description>
    <generator>Hugo -- 0.144.1</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 22 May 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/ggplot2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Logistic plot reboot</title>
      <link>http://localhost:1313/2014/05/logplotreboot/</link>
      <pubDate>Thu, 22 May 2014 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2014/05/logplotreboot/</guid>
      <description>&lt;p&gt;Someone asked about plotting something like this today&lt;/p&gt;
&lt;p&gt;I &lt;a href=&#34;http://localhost:1313/posts/2012-01-10-logistic-regression-barplot-fig/&#34;&gt;wrote a few functions previously&lt;/a&gt; to do something like this. However, since then &lt;code&gt;ggplot2&lt;/code&gt; has changed, and one of the functions no longer works.&lt;/p&gt;
&lt;p&gt;Hence, I fixed &lt;code&gt;opts()&lt;/code&gt; to &lt;code&gt;theme()&lt;/code&gt;, &lt;code&gt;theme_blank()&lt;/code&gt; to &lt;code&gt;element_blank()&lt;/code&gt;, and &lt;code&gt;panel.background = element_blank()&lt;/code&gt; to &lt;code&gt;plot.background = element_blank()&lt;/code&gt; to get the histograms to show up with the line plot and not cover it.&lt;/p&gt;
&lt;p&gt;The new functions:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;loghistplot  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;(data) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;names&lt;/span&gt;(data) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;y&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# rename columns&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# get min and max axis values&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  min_x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  max_x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  min_y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  max_y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# get bin numbers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  bin_no &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;hist&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;x, plot &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;counts) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# create plots&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  a &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;(base_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;glm&amp;#34;&lt;/span&gt;, family &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;binomial&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                colour&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.5&lt;/span&gt;, alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(limits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(min_x,max_x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(panel.grid.major &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.grid.minor&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          plot.background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Probability\n&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\nYour X Variable&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  theme_loghist &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(panel.grid.major &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.grid.minor&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          axis.text.y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          axis.text.x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          axis.ticks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.border &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          plot.background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  b &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(data[data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unique&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y)[1], ], &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;(base_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grey&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_y_continuous&lt;/span&gt;(limits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,bin_no)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(limits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(min_x,max_x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    theme_loghist &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(y&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;, x&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  c &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(data[data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unique&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y)[2], ], &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;(base_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grey&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_y_continuous&lt;/span&gt;(trans&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;reverse&amp;#39;&lt;/span&gt;, limits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(bin_no,&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(limits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(min_x,max_x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    theme_loghist &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(y&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;, x&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;grid.newpage&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;pushViewport&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;viewport&lt;/span&gt;(layout &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;grid.layout&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  vpa_ &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;viewport&lt;/span&gt;(width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  vpb_ &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;viewport&lt;/span&gt;(width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  vpc_ &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;viewport&lt;/span&gt;(width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt;(b, vp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; vpb_)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt;(c, vp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; vpc_)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;print&lt;/span&gt;(a, vp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; vpa_)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;logpointplot  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;(data) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;names&lt;/span&gt;(data) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;y&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# rename columns&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# get min and max axis values&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  min_x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  max_x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;x)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  min_y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  max_y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;(data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;y)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# create plots&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;(base_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;, position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;position_jitter&lt;/span&gt;(w&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, h&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.02&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;glm&amp;#34;&lt;/span&gt;, family &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;binomial&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                colour&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.5&lt;/span&gt;, alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(limits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(min_x,max_x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(panel.grid.major &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.grid.minor&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;(),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          panel.background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;element_blank&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Probability\n&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\nYour X Variable&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Install &lt;code&gt;ggplot2&lt;/code&gt; and &lt;code&gt;gridExtra&lt;/code&gt; if you don&amp;rsquo;t have them:&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>Someone asked about plotting something like this today</p>
<p>I <a href="/posts/2012-01-10-logistic-regression-barplot-fig/">wrote a few functions previously</a> to do something like this. However, since then <code>ggplot2</code> has changed, and one of the functions no longer works.</p>
<p>Hence, I fixed <code>opts()</code> to <code>theme()</code>, <code>theme_blank()</code> to <code>element_blank()</code>, and <code>panel.background = element_blank()</code> to <code>plot.background = element_blank()</code> to get the histograms to show up with the line plot and not cover it.</p>
<p>The new functions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>loghistplot  <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(data) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(data) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;x&#39;</span>,<span style="color:#e6db74">&#39;y&#39;</span>) <span style="color:#75715e"># rename columns</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># get min and max axis values</span>
</span></span><span style="display:flex;"><span>  min_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  max_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  min_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>  max_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># get bin numbers</span>
</span></span><span style="display:flex;"><span>  bin_no <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">hist</span>(data<span style="color:#f92672">$</span>x, plot <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)<span style="color:#f92672">$</span>counts) <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># create plots</span>
</span></span><span style="display:flex;"><span>  a <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(data, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x, y <span style="color:#f92672">=</span> y)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;glm&#34;</span>, family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;binomial&#34;</span>, se <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>                colour<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;black&#39;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          plot.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>()) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Probability\n&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\nYour X Variable&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  theme_loghist <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          axis.ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          plot.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>())
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  b <span style="color:#f92672">&lt;-</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(data[data<span style="color:#f92672">$</span>y <span style="color:#f92672">==</span> <span style="color:#a6e22e">unique</span>(data<span style="color:#f92672">$</span>y)[1], ], <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_histogram</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;grey&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_y_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,bin_no)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    theme_loghist <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  c <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(data[data<span style="color:#f92672">$</span>y <span style="color:#f92672">==</span> <span style="color:#a6e22e">unique</span>(data<span style="color:#f92672">$</span>y)[2], ], <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_histogram</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;grey&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_y_continuous</span>(trans<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;reverse&#39;</span>, limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(bin_no,<span style="color:#ae81ff">0</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    theme_loghist <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">grid.newpage</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">pushViewport</span>(<span style="color:#a6e22e">viewport</span>(layout <span style="color:#f92672">=</span> <span style="color:#a6e22e">grid.layout</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  vpa_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>  vpb_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>  vpc_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">print</span>(b, vp <span style="color:#f92672">=</span> vpb_)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">print</span>(c, vp <span style="color:#f92672">=</span> vpc_)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">print</span>(a, vp <span style="color:#f92672">=</span> vpa_)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>logpointplot  <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(data) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(data) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;x&#39;</span>,<span style="color:#e6db74">&#39;y&#39;</span>) <span style="color:#75715e"># rename columns</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># get min and max axis values</span>
</span></span><span style="display:flex;"><span>  min_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  max_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  min_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>  max_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># create plots</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(data, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x, y <span style="color:#f92672">=</span> y)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_point</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, position <span style="color:#f92672">=</span> <span style="color:#a6e22e">position_jitter</span>(w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, h<span style="color:#f92672">=</span><span style="color:#ae81ff">0.02</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;glm&#34;</span>, family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;binomial&#34;</span>, se <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>                colour<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;black&#39;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>          panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>()) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Probability\n&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\nYour X Variable&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Install <code>ggplot2</code> and <code>gridExtra</code> if you don&rsquo;t have them:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;ggplot2&#34;</span>,<span style="color:#e6db74">&#34;gridExtra&#34;</span>), repos <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://cran.rstudio.com&#34;</span>)
</span></span></code></pre></div><p>And their use:</p>
<p><strong>Logistic histogram plots</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">loghistplot</span>(data<span style="color:#f92672">=</span>mtcars[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;mpg&#34;</span>,<span style="color:#e6db74">&#34;vs&#34;</span>)])
</span></span></code></pre></div><p><img alt="plot of chunk unnamed-chunk-5" loading="lazy" src="/2014-05-22-logplotreboot/unnamed-chunk-5.png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">loghistplot</span>(movies[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;rating&#34;</span>,<span style="color:#e6db74">&#34;Action&#34;</span>)])
</span></span></code></pre></div><p><img alt="plot of chunk unnamed-chunk-6" loading="lazy" src="/2014-05-22-logplotreboot/unnamed-chunk-6.png"></p>
<p><strong>Logistic point plots</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">loghistplot</span>(data<span style="color:#f92672">=</span>mtcars[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;mpg&#34;</span>,<span style="color:#e6db74">&#34;vs&#34;</span>)])
</span></span></code></pre></div><p><img alt="plot of chunk unnamed-chunk-7" loading="lazy" src="/2014-05-22-logplotreboot/unnamed-chunk-7.png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">loghistplot</span>(movies[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;rating&#34;</span>,<span style="color:#e6db74">&#34;Action&#34;</span>)])
</span></span></code></pre></div><p><img alt="plot of chunk unnamed-chunk-8" loading="lazy" src="/2014-05-22-logplotreboot/unnamed-chunk-8.png"></p>
]]></content:encoded>
    </item>
    <item>
      <title>R ecology workshop</title>
      <link>http://localhost:1313/2013/07/r-ecology-workshop/</link>
      <pubDate>Wed, 31 Jul 2013 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2013/07/r-ecology-workshop/</guid>
      <description>&lt;p&gt;After &lt;a href=&#34;http://sckott.github.io/2013/07/r-resources/&#34;&gt;my presentation yesterday&lt;/a&gt; to a group of grad students on R resources, I did a presentation today on intro to R data manipulation, visualizations, and analyses/visualizations of biparite networks and community level analyses (diversity, rarefaction, ordination, etc.). As I said &lt;a href=&#34;http://sckott.github.io/2013/07/r-resources/&#34;&gt;yesterday&lt;/a&gt; I&amp;rsquo;ve been playing with two ways to make reproducible presentations in R: &lt;a href=&#34;http://www.rstudio.com/ide/docs/presentations/overview&#34;&gt;RStudio&amp;rsquo;s presentations&lt;/a&gt; built in to RStudio IDE, and &lt;a href=&#34;http://slidify.org/&#34;&gt;Slidify&lt;/a&gt;. Yesterday I went with RStudio&amp;rsquo;s product - today I used Slidify. See the Markdown file for the presentation &lt;a href=&#34;https://github.com/sckott/posterstalks/blob/gh-pages/sfu/resources/r_resources.Rpres&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>After <a href="http://sckott.github.io/2013/07/r-resources/">my presentation yesterday</a> to a group of grad students on R resources, I did a presentation today on intro to R data manipulation, visualizations, and analyses/visualizations of biparite networks and community level analyses (diversity, rarefaction, ordination, etc.). As I said <a href="http://sckott.github.io/2013/07/r-resources/">yesterday</a> I&rsquo;ve been playing with two ways to make reproducible presentations in R: <a href="http://www.rstudio.com/ide/docs/presentations/overview">RStudio&rsquo;s presentations</a> built in to RStudio IDE, and <a href="http://slidify.org/">Slidify</a>. Yesterday I went with RStudio&rsquo;s product - today I used Slidify. See the Markdown file for the presentation <a href="https://github.com/sckott/posterstalks/blob/gh-pages/sfu/resources/r_resources.Rpres">here</a>.</p>
<p>Check out the presentation slides <a href="https://bitly.com/sfuworkshop">here</a>, and if you want, fork <a href="http://bit.ly/1bKVX2O">the code on Github</a>, change it, submit changes back to me, etc. (click on the image to go to slides)</p>
<p>How I actually ran the 2 hr workshop was to present a few slides, then live demo writing the code out with students following along, with a number of times where they do something on their own.</p>
<p><a href="https://bitly.com/sfuworkshop"><img loading="lazy" src="/pres.png"></a></p>
]]></content:encoded>
    </item>
    <item>
      <title>ggplot2 maps with insets</title>
      <link>http://localhost:1313/2012/08/ggplot-inset-map/</link>
      <pubDate>Wed, 22 Aug 2012 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2012/08/ggplot-inset-map/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;UPDATE: changed data source so that the entire example can be run by anyone on their own machine. Also, per Joachim&amp;rsquo;s suggestion, I put a box around the blown up area of the map. In addition, rgeos and maptools removed, not needed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Here&amp;rsquo;s a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the &lt;code&gt;gridExtra&lt;/code&gt; package.&lt;/p&gt;
&lt;h3 id=&#34;install-libraries&#34;&gt;Install libraries&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;install.packages&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ggplot2&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;maps&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grid&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gridExtra&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ggplot2&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;maps&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grid&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gridExtra&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;create-a-data-frame&#34;&gt;Create a data frame&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dat &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(ecosystem &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rep&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;oak&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;steppe&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;prairie&amp;#34;&lt;/span&gt;), each &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    lat &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;51&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;), lon &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-113&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(dat)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt;   ecosystem      lat       lon&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt; 1       oak 49.58285 -107.6930&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt; 2       oak 52.58942 -116.6920&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt; 3       oak 50.49277 -114.5542&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt; 4       oak 50.05943 -116.5660&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt; 5       oak 51.76492 -112.1457&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&amp;gt; 6       oak 52.82153 -112.8858&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;get-maps-using-the-maps-library&#34;&gt;Get maps using the maps library&lt;/h3&gt;
&lt;p&gt;Get a map of Canada&lt;/p&gt;</description>
      <content:encoded><![CDATA[<blockquote>
<p>UPDATE: changed data source so that the entire example can be run by anyone on their own machine. Also, per Joachim&rsquo;s suggestion, I put a box around the blown up area of the map. In addition, rgeos and maptools removed, not needed.</p></blockquote>
<p>Here&rsquo;s a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the <code>gridExtra</code> package.</p>
<h3 id="install-libraries">Install libraries</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;ggplot2&#34;</span>, <span style="color:#e6db74">&#34;maps&#34;</span>, <span style="color:#e6db74">&#34;grid&#34;</span>, <span style="color:#e6db74">&#34;gridExtra&#34;</span>))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;ggplot2&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;maps&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;grid&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;gridExtra&#34;</span>)
</span></span></code></pre></div><h3 id="create-a-data-frame">Create a data frame</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>dat <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(ecosystem <span style="color:#f92672">=</span> <span style="color:#a6e22e">rep</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;oak&#34;</span>, <span style="color:#e6db74">&#34;steppe&#34;</span>, <span style="color:#e6db74">&#34;prairie&#34;</span>), each <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>),
</span></span><span style="display:flex;"><span>    lat <span style="color:#f92672">=</span> <span style="color:#a6e22e">rnorm</span>(<span style="color:#ae81ff">24</span>, mean <span style="color:#f92672">=</span> <span style="color:#ae81ff">51</span>, sd <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>), lon <span style="color:#f92672">=</span> <span style="color:#a6e22e">rnorm</span>(<span style="color:#ae81ff">24</span>, mean <span style="color:#f92672">=</span> <span style="color:#ae81ff">-113</span>, sd <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>))
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">head</span>(dat)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   ecosystem      lat       lon</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1       oak 49.58285 -107.6930</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2       oak 52.58942 -116.6920</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3       oak 50.49277 -114.5542</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4       oak 50.05943 -116.5660</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5       oak 51.76492 -112.1457</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6       oak 52.82153 -112.8858</span>
</span></span></code></pre></div><h3 id="get-maps-using-the-maps-library">Get maps using the maps library</h3>
<p>Get a map of Canada</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>canadamap <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">map</span>(<span style="color:#e6db74">&#34;world&#34;</span>, <span style="color:#e6db74">&#34;Canada&#34;</span>, plot <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)<span style="color:#a6e22e">[c</span>(<span style="color:#e6db74">&#34;x&#34;</span>, <span style="color:#e6db74">&#34;y&#34;</span>)])
</span></span></code></pre></div><p>Get a map of smaller extent</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>canadamapsmall <span style="color:#f92672">&lt;-</span> canadamap[canadamap<span style="color:#f92672">$</span>x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">-90</span> <span style="color:#f92672">&amp;</span> canadamap<span style="color:#f92672">$</span>y <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">54</span>, ]
</span></span><span style="display:flex;"><span>canadamapsmall_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">na.omit</span>(canadamapsmall)
</span></span></code></pre></div><p>This should get your corner points for the box, picking min and max of lat and lon</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(insetrect <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(xmin <span style="color:#f92672">=</span> <span style="color:#a6e22e">min</span>(canadamapsmall_<span style="color:#f92672">$</span>x), xmax <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(canadamapsmall_<span style="color:#f92672">$</span>x),
</span></span><span style="display:flex;"><span>    ymin <span style="color:#f92672">=</span> <span style="color:#a6e22e">min</span>(canadamapsmall_<span style="color:#f92672">$</span>y), ymax <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(canadamapsmall_<span style="color:#f92672">$</span>y)))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;        xmin      xmax     ymin     ymax</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 -133.0975 -90.38942 48.04721 53.99915</span>
</span></span></code></pre></div><h3 id="make-the-maps">Make the maps</h3>
<p>Create a theme to be used by both plots</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>ptheme <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">theme</span>(
</span></span><span style="display:flex;"><span>  panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;black&#39;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, linetype <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>),
</span></span><span style="display:flex;"><span>  panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>  panel.grid.minor <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>  panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;white&#39;</span>),
</span></span><span style="display:flex;"><span>  legend.key <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>()
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>The inset map, all of Canada</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>a <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(canadamap) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">theme_bw</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">22</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">geom_path</span>(data <span style="color:#f92672">=</span> canadamap, <span style="color:#a6e22e">aes</span>(x, y), colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>, fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">geom_rect</span>(data <span style="color:#f92672">=</span> insetrect, <span style="color:#a6e22e">aes</span>(xmin <span style="color:#f92672">=</span> xmin, xmax <span style="color:#f92672">=</span> xmax, ymin <span style="color:#f92672">=</span> ymin, ymax <span style="color:#f92672">=</span> ymax), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;blue&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, linetype <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  ptheme <span style="color:#f92672">%+%</span> <span style="color:#a6e22e">theme</span>(
</span></span><span style="display:flex;"><span>    legend.position <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.15</span>, <span style="color:#ae81ff">0.80</span>),
</span></span><span style="display:flex;"><span>    axis.ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>    axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>    axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>()
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">labs</span>(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><p>The larger map, zoomed in, with the data</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>b <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(dat, <span style="color:#a6e22e">aes</span>(lon, lat, colour <span style="color:#f92672">=</span> ecosystem)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">theme_bw</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">22</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">geom_jitter</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.6</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">geom_path</span>(data <span style="color:#f92672">=</span> canadamapsmall, <span style="color:#a6e22e">aes</span>(x, y), colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>, fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">scale_size</span>(guide <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  ptheme <span style="color:#f92672">%+%</span> <span style="color:#a6e22e">theme</span>(
</span></span><span style="display:flex;"><span>    legend.position <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.20</span>),
</span></span><span style="display:flex;"><span>    legend.text <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>, face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>),
</span></span><span style="display:flex;"><span>    legend.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>, face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>), 
</span></span><span style="display:flex;"><span>    axis.ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_line</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">labs</span>(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><h3 id="print-maps">Print maps</h3>
<p>One an inset of the other. This approach uses the <code>gridExtra</code> package for flexible alignment, etc. of ggplot graphs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">grid.newpage</span>()
</span></span><span style="display:flex;"><span>vpb_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)  <span style="color:#75715e"># the larger map</span>
</span></span><span style="display:flex;"><span>vpa_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.4</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.4</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.8</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.8</span>)  <span style="color:#75715e"># the inset in upper right</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(b, vp <span style="color:#f92672">=</span> vpb_)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(a, vp <span style="color:#f92672">=</span> vpa_)
</span></span></code></pre></div><p><img alt="plot of chunk unnamed-chunk-11" loading="lazy" src="/unnamed-chunk-11-1.png"></p>
<p>Written in <a href="http://daringfireball.net/projects/markdown/">Markdown</a>, with help from <a href="http://yihui.name/knitr/">knitr</a>, and nice knitr highlighting/etc. in in <a href="http://rstudio.org/">RStudio</a>.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Visualize your Github stats (forks and watchers) in a browser with R!</title>
      <link>http://localhost:1313/2012/05/opencpu-github-stats/</link>
      <pubDate>Sat, 05 May 2012 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2012/05/opencpu-github-stats/</guid>
      <description>&lt;p&gt;So &lt;a href=&#34;http://opencpu.org/&#34;&gt;OpenCPU&lt;/a&gt; is pretty awesome.  You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it.&lt;/p&gt;
&lt;p&gt;Go &lt;a href=&#34;http://beta.opencpu.org/apps/opencpu.demo/storefunction/&#34;&gt;here&lt;/a&gt; to store a function.  And you can output lots of different types of things: png, pdf, json, etc - see &lt;a href=&#34;http://opencpu.org/documentation/outputs/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a function I created (originally from &lt;a href=&#34;https://gist.github.com/2602432&#34;&gt;https://gist.github.com/2602432&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Store a function with man lines&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Go Here: http://beta.opencpu.org/apps/opencpu.demo/storefunction/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# number: x3e50ee0780&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# link: http://beta.opencpu.org/R/call/store:tmp/x3e50ee0780/png?id=&amp;#39;ropensci&amp;#39;&amp;amp;type=&amp;#39;org&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;the &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; (id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hadley&amp;#39;&lt;/span&gt;, type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(RCurl); &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(RJSONIO); &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(ggplot2); &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(reshape2); &lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(plyr)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(type &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;){ url &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://api.github.com/users/&amp;#34;&lt;/span&gt; } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(type &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;org&amp;#39;&lt;/span&gt;){ url &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://api.github.com/orgs/&amp;#34;&lt;/span&gt; } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;stop&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parameter &amp;#39;type&amp;#39; has to be either &amp;#39;user&amp;#39; or &amp;#39;org&amp;#39; &amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  url2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;paste&lt;/span&gt;(url, id, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/repos?per_page=100&amp;#34;&lt;/span&gt;, sep &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  xx &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getURL&lt;/span&gt;(url2)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  tt &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fromJSON&lt;/span&gt;(xx)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;length&lt;/span&gt;(tt) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) { tt &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; tt } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    { &lt;span style=&#34;color:#a6e22e&#34;&gt;stop&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;user or organization not found - search GitHub? - https://github.com/&amp;#34;&lt;/span&gt;) }   
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ldply&lt;/span&gt;(tt, &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;(x) &lt;span style=&#34;color:#a6e22e&#34;&gt;t&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;name, x&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;forks, x&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;watchers)))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;names&lt;/span&gt;(out) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Repo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Forks&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Watchers&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Forks &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.integer&lt;/span&gt;(out&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Forks)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Watchers &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.integer&lt;/span&gt;(out&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Watcher)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;melt&lt;/span&gt;(out, id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.numeric&lt;/span&gt;(out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Repo &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Repo)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  repoorder &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unique&lt;/span&gt;(out2&lt;span style=&#34;color:#a6e22e&#34;&gt;[order&lt;/span&gt;(out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;value, decreasing&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;),][,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Repo &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(out2&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;Repo, levels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; repoorder)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(out2, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(Repo, value)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_bar&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;coord_flip&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;facet_wrap&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt;variable) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;(base_size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;the&lt;/span&gt;() &lt;span style=&#34;color:#75715e&#34;&gt;# default for hadley&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;the&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;defunkt&amp;#39;&lt;/span&gt;, type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# works - a user with even more repos than Hadley&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;the&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ropensci&amp;#39;&lt;/span&gt;, type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;org&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# works - organization example&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;the&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;jeroenooms&amp;#39;&lt;/span&gt;, type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# works - organization example&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;the&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;SChamberlain&amp;#39;&lt;/span&gt;, type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;org&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# error message - mismatch of username with org type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;the&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;adsff&amp;#39;&lt;/span&gt;, type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# error message - name does not exist&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It makes a &lt;a href=&#34;http://had.co.nz/ggplot2/&#34;&gt;ggplot2&lt;/a&gt; graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>So <a href="http://opencpu.org/">OpenCPU</a> is pretty awesome.  You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it.</p>
<p>Go <a href="http://beta.opencpu.org/apps/opencpu.demo/storefunction/">here</a> to store a function.  And you can output lots of different types of things: png, pdf, json, etc - see <a href="http://opencpu.org/documentation/outputs/">here</a>.</p>
<p>Here&rsquo;s a function I created (originally from <a href="https://gist.github.com/2602432">https://gist.github.com/2602432</a>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Store a function with man lines</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Go Here: http://beta.opencpu.org/apps/opencpu.demo/storefunction/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># number: x3e50ee0780</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># link: http://beta.opencpu.org/R/call/store:tmp/x3e50ee0780/png?id=&#39;ropensci&#39;&amp;type=&#39;org&#39;</span>
</span></span><span style="display:flex;"><span>the <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span> (id <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;hadley&#39;</span>, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;user&#39;</span>) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">require</span>(RCurl); <span style="color:#a6e22e">require</span>(RJSONIO); <span style="color:#a6e22e">require</span>(ggplot2); <span style="color:#a6e22e">require</span>(reshape2); <span style="color:#a6e22e">require</span>(plyr)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(type <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;user&#39;</span>){ url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.github.com/users/&#34;</span> } <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(type <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;org&#39;</span>){ url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.github.com/orgs/&#34;</span> } <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;parameter &#39;type&#39; has to be either &#39;user&#39; or &#39;org&#39; &#34;</span>)
</span></span><span style="display:flex;"><span>  url2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(url, id, <span style="color:#e6db74">&#34;/repos?per_page=100&#34;</span>, sep <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>  xx <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">getURL</span>(url2)
</span></span><span style="display:flex;"><span>  tt <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">fromJSON</span>(xx)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">length</span>(tt) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) { tt <span style="color:#f92672">&lt;-</span> tt } <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    { <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;user or organization not found - search GitHub? - https://github.com/&#34;</span>) }   
</span></span><span style="display:flex;"><span>  out <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ldply</span>(tt, <span style="color:#66d9ef">function</span>(x) <span style="color:#a6e22e">t</span>(<span style="color:#a6e22e">c</span>(x<span style="color:#f92672">$</span>name, x<span style="color:#f92672">$</span>forks, x<span style="color:#f92672">$</span>watchers)))
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(out) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Repo&#34;</span>, <span style="color:#e6db74">&#34;Forks&#34;</span>, <span style="color:#e6db74">&#34;Watchers&#34;</span>)
</span></span><span style="display:flex;"><span>  out<span style="color:#f92672">$</span>Forks <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.integer</span>(out<span style="color:#f92672">$</span>Forks)
</span></span><span style="display:flex;"><span>  out<span style="color:#f92672">$</span>Watchers <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.integer</span>(out<span style="color:#f92672">$</span>Watcher)
</span></span><span style="display:flex;"><span>  out2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">melt</span>(out, id <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>  out2<span style="color:#f92672">$</span>value <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.numeric</span>(out2<span style="color:#f92672">$</span>value)
</span></span><span style="display:flex;"><span>  out2<span style="color:#f92672">$</span>Repo <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.factor</span>(out2<span style="color:#f92672">$</span>Repo)
</span></span><span style="display:flex;"><span>  repoorder <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">unique</span>(out2<span style="color:#a6e22e">[order</span>(out2<span style="color:#f92672">$</span>value, decreasing<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>),][,<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>  out2<span style="color:#f92672">$</span>Repo <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(out2<span style="color:#f92672">$</span>Repo, levels <span style="color:#f92672">=</span> repoorder)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(out2, <span style="color:#a6e22e">aes</span>(Repo, value)) <span style="color:#f92672">+</span> <span style="color:#a6e22e">geom_bar</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">coord_flip</span>() <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">facet_wrap</span>(<span style="color:#f92672">~</span>variable) <span style="color:#f92672">+</span> <span style="color:#a6e22e">theme_bw</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>() <span style="color:#75715e"># default for hadley</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;defunkt&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#75715e"># works - a user with even more repos than Hadley</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ropensci&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;org&#39;</span>) <span style="color:#75715e"># works - organization example</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;jeroenooms&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#75715e"># works - organization example</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;SChamberlain&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;org&#39;</span>) <span style="color:#75715e"># error message - mismatch of username with org type</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;adsff&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#75715e"># error message - name does not exist</span>
</span></span></code></pre></div><p>It makes a <a href="http://had.co.nz/ggplot2/">ggplot2</a> graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.</p>
<p>Here&rsquo;s an example from the function.  Paste the following in to your browser and you should get the below figure.</p>
<p><a href="http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png">http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png</a></p>
<p><img alt="had" loading="lazy" src="/hadley.png"></p>
<p>And you can specify user or organization name using arguments in the URL</p>
<p><a href="http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type='org'&amp;id='ropensci'">http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type='org'&amp;id='ropensci'</a></p>
<p><img alt="ropensci" loading="lazy" src="/ropensci.png"></p>
<p>Sweet. Have fun.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Presenting results of logistic regression</title>
      <link>http://localhost:1313/2012/01/logistic-regression-barplot-fig/</link>
      <pubDate>Tue, 10 Jan 2012 07:50:00 -0600</pubDate>
      <guid>http://localhost:1313/2012/01/logistic-regression-barplot-fig/</guid>
      <description>&lt;p&gt;So my advisor pointed out this &amp;rsquo;new&amp;rsquo; (well, 2004), way of plotting results of logistic regression results.  The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (&lt;a href=&#34;http://esapubs.org/bulletin/backissues/085-3/bulletinjuly2004_2column.htm#tools1&#34;&gt;here&lt;/a&gt;).  I tried to come up with a  solution using, what else, ggplot2.  I don&amp;rsquo;t have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn&amp;rsquo;t want to support second y-axes in ggplot2, but they can probably be hacked on).&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>So my advisor pointed out this &rsquo;new&rsquo; (well, 2004), way of plotting results of logistic regression results.  The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (<a href="http://esapubs.org/bulletin/backissues/085-3/bulletinjuly2004_2column.htm#tools1">here</a>).  I tried to come up with a  solution using, what else, ggplot2.  I don&rsquo;t have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn&rsquo;t want to support second y-axes in ggplot2, but they can probably be hacked on).</p>
<p>Here&rsquo;s the code (originally was in <a href="https://gist.github.com/1589136">https://gist.github.com/1589136</a>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Define the function</span>
</span></span><span style="display:flex;"><span>loghistplot  <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(data) {
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">require</span>(ggplot2); <span style="color:#a6e22e">require</span>(gridExtra) <span style="color:#75715e"># load packages</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(data) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;x&#39;</span>,<span style="color:#e6db74">&#39;y&#39;</span>) <span style="color:#75715e"># rename columns</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># get min and max axis values</span>
</span></span><span style="display:flex;"><span>  min_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  max_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  min_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>  max_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># get bin numbers</span>
</span></span><span style="display:flex;"><span>  bin_no <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(<span style="color:#a6e22e">hist</span>(data<span style="color:#f92672">$</span>x)<span style="color:#f92672">$</span>counts) <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># create plots</span>
</span></span><span style="display:flex;"><span>  a <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(data, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x, y <span style="color:#f92672">=</span> y)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;glm&#34;</span>, family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;binomial&#34;</span>, se <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>                colour<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;black&#39;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#     scale_y_continuous(limits=c(0,1), breaks=c(0,1)) +</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">opts</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>()) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Probability\n&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\nYour X Variable&#34;</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  b <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(data[data<span style="color:#f92672">$</span>y <span style="color:#f92672">==</span> <span style="color:#a6e22e">unique</span>(data<span style="color:#f92672">$</span>y)[1], ], <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_histogram</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;grey&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_y_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,bin_no)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">opts</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         axis.ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>()) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  c <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(data[data<span style="color:#f92672">$</span>y <span style="color:#f92672">==</span> <span style="color:#a6e22e">unique</span>(data<span style="color:#f92672">$</span>y)[2], ], <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_histogram</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;grey&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_y_continuous</span>(trans<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;reverse&#39;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_y_continuous</span>(trans<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;reverse&#39;</span>, limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(bin_no,<span style="color:#ae81ff">0</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">opts</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(), axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         axis.ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>()) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">grid.newpage</span>()
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">pushViewport</span>(<span style="color:#a6e22e">viewport</span>(layout <span style="color:#f92672">=</span> <span style="color:#a6e22e">grid.layout</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>)))
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  vpa_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>  vpb_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>  vpc_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">viewport</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">print</span>(b, vp <span style="color:#f92672">=</span> vpb_)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">print</span>(c, vp <span style="color:#f92672">=</span> vpc_)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">print</span>(a, vp <span style="color:#f92672">=</span> vpa_)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Examples</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># loghistplot(mtcars[,c(&#34;mpg&#34;,&#34;vs&#34;)])</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># loghistplot(movies[,c(&#34;rating&#34;,&#34;Action&#34;)])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>logpointplot  <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(data) {
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">require</span>(ggplot2); <span style="color:#a6e22e">require</span>(gridExtra) <span style="color:#75715e"># load packages</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(data) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;x&#39;</span>,<span style="color:#e6db74">&#39;y&#39;</span>) <span style="color:#75715e"># rename columns</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># get min and max axis values</span>
</span></span><span style="display:flex;"><span>  min_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  max_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>x)
</span></span><span style="display:flex;"><span>  min_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>  max_y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(data<span style="color:#f92672">$</span>y)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># create plots</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(data, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> x, y <span style="color:#f92672">=</span> y)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_point</span>(alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, position <span style="color:#f92672">=</span> <span style="color:#a6e22e">position_jitter</span>(w<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, h<span style="color:#f92672">=</span><span style="color:#ae81ff">0.02</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_smooth</span>(method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;glm&#34;</span>, family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;binomial&#34;</span>, se <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex;"><span>                colour<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;black&#39;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_continuous</span>(limits<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(min_x,max_x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">opts</span>(panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.grid.minor<span style="color:#f92672">=</span><span style="color:#a6e22e">theme_blank</span>(),
</span></span><span style="display:flex;"><span>         panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">theme_blank</span>()) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Probability\n&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\nYour X Variable&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Examples</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logpointplot(mtcars[,c(&#34;mpg&#34;,&#34;vs&#34;)])</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logpointplot(movies[,c(&#34;rating&#34;,&#34;Action&#34;)])</span>
</span></span></code></pre></div><p>Here&rsquo;s a few examples using datasets provided with the ggplot2 package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">loghistplot</span>(mtcars[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;mpg&#34;</span>,<span style="color:#e6db74">&#34;vs&#34;</span>)])
</span></span></code></pre></div><p><img alt="mtcars plot" loading="lazy" src="/public/img/mtcarsplot.png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">loghistplot</span>(movies[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;rating&#34;</span>,<span style="color:#e6db74">&#34;Action&#34;</span>)])
</span></span></code></pre></div><p><img alt="movies plot" loading="lazy" src="/public/img/moviesplot.png"></p>
<p>And two examples of the logpointplot function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">logpointplot</span>(mtcars[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;mpg&#34;</span>,<span style="color:#e6db74">&#34;vs&#34;</span>)])
</span></span></code></pre></div><p><img alt="mtcars point plot" loading="lazy" src="/public/img/logpointplot1.png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">logpointplot</span>(movies[,<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;rating&#34;</span>,<span style="color:#e6db74">&#34;Action&#34;</span>)])
</span></span></code></pre></div><p><img alt="movies point plot" loading="lazy" src="/public/img/logpointplot2.png"></p>
]]></content:encoded>
    </item>
    <item>
      <title>Weecology can has new mammal dataset</title>
      <link>http://localhost:1313/2011/12/weecology-can-has-new-mammal-dataset/</link>
      <pubDate>Thu, 29 Dec 2011 08:11:00 -0600</pubDate>
      <guid>http://localhost:1313/2011/12/weecology-can-has-new-mammal-dataset/</guid>
      <description>&lt;p&gt;So the &lt;a href=&#34;http://weecology.org/&#34;&gt;Weecology&lt;/a&gt; folks have published a large dataset on mammal communities in a data paper in &lt;a href=&#34;http://www.esajournals.org/doi/abs/10.1890/11-0262.1&#34;&gt;Ecology&lt;/a&gt;. I know nothing about mammal communities, but that doesn&amp;rsquo;t mean one can&amp;rsquo;t play with the data&amp;hellip;&lt;/p&gt;
&lt;h3 id=&#34;their-dataset-consists-of-five-csv-files&#34;&gt;Their dataset consists of five csv files:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;communities,&lt;/li&gt;
&lt;li&gt;references,&lt;/li&gt;
&lt;li&gt;sites,&lt;/li&gt;
&lt;li&gt;species, and&lt;/li&gt;
&lt;li&gt;trapping data&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;where-are-these-sites-and-by-the-way-do-they-vary-much-in-altitude&#34;&gt;Where are these sites, and by the way, do they vary much in altitude?&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png%22&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;lets-zoom-in-on-just-the-states&#34;&gt;Let&amp;rsquo;s zoom in on just the states&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png%22&#34;&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>So the <a href="http://weecology.org/">Weecology</a> folks have published a large dataset on mammal communities in a data paper in <a href="http://www.esajournals.org/doi/abs/10.1890/11-0262.1">Ecology</a>. I know nothing about mammal communities, but that doesn&rsquo;t mean one can&rsquo;t play with the data&hellip;</p>
<h3 id="their-dataset-consists-of-five-csv-files">Their dataset consists of five csv files:</h3>
<ul>
<li>communities,</li>
<li>references,</li>
<li>sites,</li>
<li>species, and</li>
<li>trapping data</li>
</ul>
<h3 id="where-are-these-sites-and-by-the-way-do-they-vary-much-in-altitude">Where are these sites, and by the way, do they vary much in altitude?</h3>
<p><img loading="lazy" src="http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png"></p>
<p><img loading="lazy" src="http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png%22"></p>
<h3 id="lets-zoom-in-on-just-the-states">Let&rsquo;s zoom in on just the states</h3>
<p><img loading="lazy" src="http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png%22"></p>
<h3 id="what-phylogenies-can-we-get-for-the-species-in-this-dataset">What phylogenies can we get for the species in this dataset?</h3>
<p>We can use the <a href="http://cran.r-project.org/web/packages/treebase/">rOpenSci package treebase</a> to search the online phylogeny repository <a href="http://www.treebase.org/treebase-web/home.html">TreeBASE</a>. Limiting to returning a max of 1 tree (to save time), we can see that X species are in at least 1 tree on the TreeBASE database. Nice.</p>
<p>So there are 321 species in the database with at least 1 tree in the TreeBASE database. Of course there could be many more, but we limited results from TreeBASE to just 1 tree per query.</p>
<h3 id="heres-the-code">Here&rsquo;s the code:</h3>

<script src="https://gist.github.com/1534730.js?file=mammaldataset.R"></script>

]]></content:encoded>
    </item>
    <item>
      <title>Recology is 1 yr old</title>
      <link>http://localhost:1313/2011/12/recology-is-1-yr-old/</link>
      <pubDate>Fri, 23 Dec 2011 18:52:00 -0600</pubDate>
      <guid>http://localhost:1313/2011/12/recology-is-1-yr-old/</guid>
      <description>&lt;p&gt;This blog has lasted a whole year already. Thanks for reading and commenting.&lt;/p&gt;
&lt;h3 id=&#34;there-are-a-couple-of-announcements&#34;&gt;There are a couple of announcements:&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Less blogging: I hope to put in many more years blogging here, but in full disclosure &lt;a href=&#34;http://jecologyblog.wordpress.com/&#34;&gt;I am blogging for Journal of Ecology&lt;/a&gt; now, so I am going to be (and already have been) blogging less here.&lt;/li&gt;
&lt;li&gt;More blogging: If anyone wants to write guest posts at Recology on the topics of using R for ecology and evolution, or open science, please contact me.&lt;/li&gt;
&lt;li&gt;Different blogging: I was going to roll out the new dynamic views for this blog, but Google doesn&amp;rsquo;t allow javascript, which is how I include code using GitHub gists. Oh well&amp;hellip;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anywho, here is the breakdown of visits to this blog, visualized using #ggplot2, of course. There were a total of about 23,000 pageviews in the first year of this blog.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>This blog has lasted a whole year already. Thanks for reading and commenting.</p>
<h3 id="there-are-a-couple-of-announcements">There are a couple of announcements:</h3>
<ol>
<li>Less blogging: I hope to put in many more years blogging here, but in full disclosure <a href="http://jecologyblog.wordpress.com/">I am blogging for Journal of Ecology</a> now, so I am going to be (and already have been) blogging less here.</li>
<li>More blogging: If anyone wants to write guest posts at Recology on the topics of using R for ecology and evolution, or open science, please contact me.</li>
<li>Different blogging: I was going to roll out the new dynamic views for this blog, but Google doesn&rsquo;t allow javascript, which is how I include code using GitHub gists. Oh well&hellip;</li>
</ol>
<p>Anywho, here is the breakdown of visits to this blog, visualized using #ggplot2, of course. There were a total of about 23,000 pageviews in the first year of this blog.</p>
<p>Here is the pie chart code I used:</p>

<script src="https://gist.github.com/1515754.js?file=piechart.R"></script> 

<p>Visits to top ten posts:</p>
<p><img loading="lazy" src="http://farm8.staticflickr.com/7158/6613213609_e491cd6f95_d.jpg"></p>
<p>Visits by by pages:</p>
<p><img loading="lazy" src="http://farm8.staticflickr.com/7033/6613216069_6c7b0d2aca_d.jpg"></p>
<p>Visits by top referring sites:</p>
<p><img loading="lazy" src="http://farm8.staticflickr.com/7008/6613217859_a03bcfee3e_d.jpg"></p>
<p>Visits by country:</p>
<p><img loading="lazy" src="http://farm8.staticflickr.com/7027/6613219049_97cf21a84e_d.jpg"></p>
<p>Visits by browsers:</p>
<p><img loading="lazy" src="http://farm8.staticflickr.com/7147/6613232905_5a98d82f87_d.jpg"></p>
<p>Visits by operating system:</p>
<p><img loading="lazy" src="http://farm8.staticflickr.com/7005/6613236311_7cab55afd6_d.jpg"></p>
]]></content:encoded>
    </item>
    <item>
      <title>I Work For The Internet !</title>
      <link>http://localhost:1313/2011/12/i-work-for-internet/</link>
      <pubDate>Tue, 13 Dec 2011 09:35:00 -0600</pubDate>
      <guid>http://localhost:1313/2011/12/i-work-for-internet/</guid>
      <description>&lt;p&gt;UPDATE: code and figure updated at 647 AM CST on 19 Dec &amp;lsquo;11. Also, see Jarrett Byrnes (improved) fork of my gist &lt;a href=&#34;https://gist.github.com/1474802&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The site &lt;a href=&#34;http://iworkfortheinternet.org/&#34;&gt;I WORK FOR THE INTERNET&lt;/a&gt; is collecting pictures and first names (last name initials only) to show collective support against SOPA (the Stop Online Piracy Act). Please stop by their site and add your name/picture.&lt;/p&gt;
&lt;p&gt;I used the #rstats package twitteR, created by Jeff Gentry, to search for tweets from people signing this site with their picture, then plotted using ggplot2, and also used Hadley&amp;rsquo;s lubridate to round timestamps on tweets to be able to bin tweets in to time slots for plotting.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>UPDATE: code and figure updated at 647 AM CST on 19 Dec &lsquo;11. Also, see Jarrett Byrnes (improved) fork of my gist <a href="https://gist.github.com/1474802">here</a>.</p>
<p>The site <a href="http://iworkfortheinternet.org/">I WORK FOR THE INTERNET</a> is collecting pictures and first names (last name initials only) to show collective support against SOPA (the Stop Online Piracy Act). Please stop by their site and add your name/picture.</p>
<p>I used the #rstats package twitteR, created by Jeff Gentry, to search for tweets from people signing this site with their picture, then plotted using ggplot2, and also used Hadley&rsquo;s lubridate to round timestamps on tweets to be able to bin tweets in to time slots for plotting.</p>
<p>Tweets containing the phrase &lsquo;I work for the internet&rsquo; by time:</p>
<p><img loading="lazy" src="http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s1600/Rplot01.png"></p>
<p>Here&rsquo;s the code as a GitHub gist. Sometimes the searchTwitter fxn doesn&rsquo;t returns an error, which I don&rsquo;t understand, but you can play with it:</p>

<script src="https://gist.github.com/1472619.js?file=iworkfortheinternet.R"></script>

]]></content:encoded>
    </item>
    <item>
      <title>My talk on doing phylogenetics in R</title>
      <link>http://localhost:1313/2011/11/my-talk-on-doing-phylogenetics-in-r/</link>
      <pubDate>Fri, 18 Nov 2011 13:15:00 -0600</pubDate>
      <guid>http://localhost:1313/2011/11/my-talk-on-doing-phylogenetics-in-r/</guid>
      <description>&lt;p&gt;I gave a talk today on doing very basic phylogenetics in R, including getting sequence data, aligning sequence data, plotting trees, doing trait evolution stuff, etc.&lt;/p&gt;
&lt;p&gt;Please comment if you have code for doing bayesian phylogenetic inference in R.  I know phyloch has function mrbayes, but can&amp;rsquo;t get it to work&amp;hellip;&lt;/p&gt;

&lt;div id=&#34;__ss_10222772&#34; style=&#34;width: 425px;&#34;&gt;&lt;strong style=&#34;display: block; margin: 12px 0 4px;&#34;&gt;&lt;a href=&#34;http://www.slideshare.net/schamber/phylogenetics-in-r&#34; target=&#34;_blank&#34; title=&#34;Phylogenetics in R&#34;&gt;Phylogenetics in R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&#34;0&#34; height=&#34;355&#34; marginheight=&#34;0&#34; marginwidth=&#34;0&#34; scrolling=&#34;no&#34; src=&#34;http://www.slideshare.net/slideshow/embed_code/10222772&#34; width=&#34;425&#34;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&#34;padding: 5px 0 12px;&#34;&gt;View more &lt;a href=&#34;http://www.slideshare.net/&#34; target=&#34;_blank&#34;&gt;presentations&lt;/a&gt; from &lt;a href=&#34;http://www.slideshare.net/schamber&#34; target=&#34;_blank&#34;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[<p>I gave a talk today on doing very basic phylogenetics in R, including getting sequence data, aligning sequence data, plotting trees, doing trait evolution stuff, etc.</p>
<p>Please comment if you have code for doing bayesian phylogenetic inference in R.  I know phyloch has function mrbayes, but can&rsquo;t get it to work&hellip;</p>

<div id="__ss_10222772" style="width: 425px;"><strong style="display: block; margin: 12px 0 4px;"><a href="http://www.slideshare.net/schamber/phylogenetics-in-r" target="_blank" title="Phylogenetics in R">Phylogenetics in R</a></strong> <iframe frameborder="0" height="355" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/10222772" width="425"></iframe> <br /><div style="padding: 5px 0 12px;">View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/schamber" target="_blank">schamber</a> </div></div>

]]></content:encoded>
    </item>
    <item>
      <title>My little presentation on getting web data through R</title>
      <link>http://localhost:1313/2011/10/my-little-presentation-on-getting-web/</link>
      <pubDate>Fri, 28 Oct 2011 11:16:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/10/my-little-presentation-on-getting-web/</guid>
      <description>&lt;div id=&#34;__ss_9926321&#34; style=&#34;width: 425px;&#34;&gt;&lt;span style=&#34;display: block; margin: 12px 0 4px;&#34;&gt;With examples from &lt;a href=&#34;http://ropensci.org/&#34;&gt;rOpenSci&lt;/a&gt; R packages.&amp;nbsp;&lt;/span&gt;&lt;span style=&#34;display: block; margin: 12px 0 4px;&#34;&gt;p.s. I am no expert at this...&lt;/span&gt;&lt;strong style=&#34;display: block; margin: 12px 0 4px;&#34;&gt;&lt;br /&gt;&lt;/strong&gt;&lt;strong style=&#34;display: block; margin: 12px 0 4px;&#34;&gt;&lt;a href=&#34;http://www.slideshare.net/schamber/web-data-from-r&#34; target=&#34;_blank&#34; title=&#34;Web data from R&#34;&gt;Web data from R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&#34;0&#34; height=&#34;355&#34; marginheight=&#34;0&#34; marginwidth=&#34;0&#34; scrolling=&#34;no&#34; src=&#34;http://www.slideshare.net/slideshow/embed_code/9926321&#34; width=&#34;425&#34;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&#34;padding: 5px 0 12px;&#34;&gt;View more &lt;a href=&#34;http://www.slideshare.net/&#34; target=&#34;_blank&#34;&gt;presentations&lt;/a&gt; from &lt;a href=&#34;http://www.slideshare.net/schamber&#34; target=&#34;_blank&#34;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;</description>
      <content:encoded><![CDATA[
<div id="__ss_9926321" style="width: 425px;"><span style="display: block; margin: 12px 0 4px;">With examples from <a href="http://ropensci.org/">rOpenSci</a> R packages.&nbsp;</span><span style="display: block; margin: 12px 0 4px;">p.s. I am no expert at this...</span><strong style="display: block; margin: 12px 0 4px;"><br /></strong><strong style="display: block; margin: 12px 0 4px;"><a href="http://www.slideshare.net/schamber/web-data-from-r" target="_blank" title="Web data from R">Web data from R</a></strong> <iframe frameborder="0" height="355" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/9926321" width="425"></iframe> <br /><div style="padding: 5px 0 12px;">View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/schamber" target="_blank">schamber</a> </div></div>

]]></content:encoded>
    </item>
  </channel>
</rss>
