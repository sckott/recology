<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Ggplot2 | Recology</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/tags/ggplot2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a4ec0cdfac731fabf363c0b5d5ab206254bbf9b6aaf985d695c6bb534196df16.css" integrity="sha256-pOwM36xzH6vzY8C11asgYlS7&#43;baq&#43;YXWlca7U0GW3xY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/tags/ggplot2/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/tags/ggplot2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Recology (Alt + H)">Recology</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/links" title="Links">
                    <span>Links</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/index.xml" title="RSS">
                    <span>RSS</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Ggplot2
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Logistic plot reboot
    </h2>
  </header>
  <div class="entry-content">
    <p>Someone asked about plotting something like this today
I wrote a few functions previously to do something like this. However, since then ggplot2 has changed, and one of the functions no longer works.
Hence, I fixed opts() to theme(), theme_blank() to element_blank(), and panel.background = element_blank() to plot.background = element_blank() to get the histograms to show up with the line plot and not cover it.
The new functions:
loghistplot &lt;- function(data) { names(data) &lt;- c(&#39;x&#39;,&#39;y&#39;) # rename columns # get min and max axis values min_x &lt;- min(data$x) max_x &lt;- max(data$x) min_y &lt;- min(data$y) max_y &lt;- max(data$y) # get bin numbers bin_no &lt;- max(hist(data$x, plot = FALSE)$counts) &#43; 5 # create plots a &lt;- ggplot(data, aes(x = x, y = y)) &#43; theme_bw(base_size=16) &#43; geom_smooth(method = &#34;glm&#34;, family = &#34;binomial&#34;, se = TRUE, colour=&#39;black&#39;, size=1.5, alpha = 0.3) &#43; scale_x_continuous(limits=c(min_x,max_x)) &#43; theme(panel.grid.major = element_blank(), panel.grid.minor=element_blank(), panel.background = element_blank(), plot.background = element_blank()) &#43; labs(y = &#34;Probability\n&#34;, x = &#34;\nYour X Variable&#34;) theme_loghist &lt;- list( theme(panel.grid.major = element_blank(), panel.grid.minor=element_blank(), axis.text.y = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.border = element_blank(), panel.background = element_blank(), plot.background = element_blank()) ) b &lt;- ggplot(data[data$y == unique(data$y)[1], ], aes(x = x)) &#43; theme_bw(base_size=16) &#43; geom_histogram(fill = &#34;grey&#34;) &#43; scale_y_continuous(limits=c(0,bin_no)) &#43; scale_x_continuous(limits=c(min_x,max_x)) &#43; theme_loghist &#43; labs(y=&#39;\n&#39;, x=&#39;\n&#39;) c &lt;- ggplot(data[data$y == unique(data$y)[2], ], aes(x = x)) &#43; theme_bw(base_size=16) &#43; geom_histogram(fill = &#34;grey&#34;) &#43; scale_y_continuous(trans=&#39;reverse&#39;, limits=c(bin_no,0)) &#43; scale_x_continuous(limits=c(min_x,max_x)) &#43; theme_loghist &#43; labs(y=&#39;\n&#39;, x=&#39;\n&#39;) grid.newpage() pushViewport(viewport(layout = grid.layout(1,1))) vpa_ &lt;- viewport(width = 1, height = 1, x = 0.5, y = 0.5) vpb_ &lt;- viewport(width = 1, height = 1, x = 0.5, y = 0.5) vpc_ &lt;- viewport(width = 1, height = 1, x = 0.5, y = 0.5) print(b, vp = vpb_) print(c, vp = vpc_) print(a, vp = vpa_) } logpointplot &lt;- function(data) { names(data) &lt;- c(&#39;x&#39;,&#39;y&#39;) # rename columns # get min and max axis values min_x &lt;- min(data$x) max_x &lt;- max(data$x) min_y &lt;- min(data$y) max_y &lt;- max(data$y) # create plots ggplot(data, aes(x = x, y = y)) &#43; theme_bw(base_size=16) &#43; geom_point(size = 3, alpha = 0.5, position = position_jitter(w=0, h=0.02)) &#43; geom_smooth(method = &#34;glm&#34;, family = &#34;binomial&#34;, se = TRUE, colour=&#39;black&#39;, size=1.5, alpha = 0.3) &#43; scale_x_continuous(limits=c(min_x,max_x)) &#43; theme(panel.grid.major = element_blank(), panel.grid.minor=element_blank(), panel.background = element_blank()) &#43; labs(y = &#34;Probability\n&#34;, x = &#34;\nYour X Variable&#34;) } Install ggplot2 and gridExtra if you don’t have them:
...</p>
  </div>
  <footer class="entry-footer"><span title='2014-05-22 00:00:00 +0000 UTC'>May 22, 2014</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Logistic plot reboot" href="http://localhost:1313/2014/05/logplotreboot/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">R ecology workshop
    </h2>
  </header>
  <div class="entry-content">
    <p>After my presentation yesterday to a group of grad students on R resources, I did a presentation today on intro to R data manipulation, visualizations, and analyses/visualizations of biparite networks and community level analyses (diversity, rarefaction, ordination, etc.). As I said yesterday I’ve been playing with two ways to make reproducible presentations in R: RStudio’s presentations built in to RStudio IDE, and Slidify. Yesterday I went with RStudio’s product - today I used Slidify. See the Markdown file for the presentation here.
...</p>
  </div>
  <footer class="entry-footer"><span title='2013-07-31 00:00:00 +0000 UTC'>July 31, 2013</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to R ecology workshop" href="http://localhost:1313/2013/07/r-ecology-workshop/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ggplot2 maps with insets
    </h2>
  </header>
  <div class="entry-content">
    <p> UPDATE: changed data source so that the entire example can be run by anyone on their own machine. Also, per Joachim’s suggestion, I put a box around the blown up area of the map. In addition, rgeos and maptools removed, not needed.
Here’s a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the gridExtra package.
Install libraries install.packages(c(&#34;ggplot2&#34;, &#34;maps&#34;, &#34;grid&#34;, &#34;gridExtra&#34;)) library(&#34;ggplot2&#34;) library(&#34;maps&#34;) library(&#34;grid&#34;) library(&#34;gridExtra&#34;) Create a data frame dat &lt;- data.frame(ecosystem = rep(c(&#34;oak&#34;, &#34;steppe&#34;, &#34;prairie&#34;), each = 8), lat = rnorm(24, mean = 51, sd = 1), lon = rnorm(24, mean = -113, sd = 5)) head(dat) #&gt; ecosystem lat lon #&gt; 1 oak 49.58285 -107.6930 #&gt; 2 oak 52.58942 -116.6920 #&gt; 3 oak 50.49277 -114.5542 #&gt; 4 oak 50.05943 -116.5660 #&gt; 5 oak 51.76492 -112.1457 #&gt; 6 oak 52.82153 -112.8858 Get maps using the maps library Get a map of Canada
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-08-22 00:00:00 +0000 UTC'>August 22, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to ggplot2 maps with insets" href="http://localhost:1313/2012/08/ggplot-inset-map/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Visualize your Github stats (forks and watchers) in a browser with R!
    </h2>
  </header>
  <div class="entry-content">
    <p>So OpenCPU is pretty awesome. You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it.
Go here to store a function. And you can output lots of different types of things: png, pdf, json, etc - see here.
Here’s a function I created (originally from https://gist.github.com/2602432):
# Store a function with man lines # Go Here: http://beta.opencpu.org/apps/opencpu.demo/storefunction/ # number: x3e50ee0780 # link: http://beta.opencpu.org/R/call/store:tmp/x3e50ee0780/png?id=&#39;ropensci&#39;&amp;type=&#39;org&#39; the &lt;- function (id = &#39;hadley&#39;, type = &#39;user&#39;) { require(RCurl); require(RJSONIO); require(ggplot2); require(reshape2); require(plyr) if(type == &#39;user&#39;){ url = &#34;https://api.github.com/users/&#34; } else if(type == &#39;org&#39;){ url = &#34;https://api.github.com/orgs/&#34; } else stop(&#34;parameter &#39;type&#39; has to be either &#39;user&#39; or &#39;org&#39; &#34;) url2 &lt;- paste(url, id, &#34;/repos?per_page=100&#34;, sep = &#34;&#34;) xx &lt;- getURL(url2) tt &lt;- fromJSON(xx) if(!length(tt) == 1) { tt &lt;- tt } else { stop(&#34;user or organization not found - search GitHub? - https://github.com/&#34;) } out &lt;- ldply(tt, function(x) t(c(x$name, x$forks, x$watchers))) names(out) &lt;- c(&#34;Repo&#34;, &#34;Forks&#34;, &#34;Watchers&#34;) out$Forks &lt;- as.integer(out$Forks) out$Watchers &lt;- as.integer(out$Watcher) out2 &lt;- melt(out, id = 1) out2$value &lt;- as.numeric(out2$value) out2$Repo &lt;- as.factor(out2$Repo) repoorder &lt;- unique(out2[order(out2$value, decreasing=FALSE),][,1]) out2$Repo &lt;- factor(out2$Repo, levels = repoorder) ggplot(out2, aes(Repo, value)) &#43; geom_bar() &#43; coord_flip() &#43; facet_wrap(~variable) &#43; theme_bw(base_size = 18) } the() # default for hadley the(id=&#39;defunkt&#39;, type=&#39;user&#39;) # works - a user with even more repos than Hadley the(id=&#39;ropensci&#39;, type=&#39;org&#39;) # works - organization example the(id=&#39;jeroenooms&#39;, type=&#39;user&#39;) # works - organization example the(id=&#39;SChamberlain&#39;, type=&#39;org&#39;) # error message - mismatch of username with org type the(id=&#39;adsff&#39;, type=&#39;user&#39;) # error message - name does not exist It makes a ggplot2 graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-05-05 00:00:00 +0000 UTC'>May 5, 2012</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Visualize your Github stats (forks and watchers) in a browser with R!" href="http://localhost:1313/2012/05/opencpu-github-stats/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Presenting results of logistic regression
    </h2>
  </header>
  <div class="entry-content">
    <p>So my advisor pointed out this ’new’ (well, 2004), way of plotting results of logistic regression results. The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (here). I tried to come up with a solution using, what else, ggplot2. I don’t have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn’t want to support second y-axes in ggplot2, but they can probably be hacked on).
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-01-10 07:50:00 -0600 -0600'>January 10, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Presenting results of logistic regression" href="http://localhost:1313/2012/01/logistic-regression-barplot-fig/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Weecology can has new mammal dataset
    </h2>
  </header>
  <div class="entry-content">
    <p>So the Weecology folks have published a large dataset on mammal communities in a data paper in Ecology. I know nothing about mammal communities, but that doesn’t mean one can’t play with the data…
Their dataset consists of five csv files: communities, references, sites, species, and trapping data Where are these sites, and by the way, do they vary much in altitude? Let’s zoom in on just the states ...</p>
  </div>
  <footer class="entry-footer"><span title='2011-12-29 08:11:00 -0600 -0600'>December 29, 2011</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Weecology can has new mammal dataset" href="http://localhost:1313/2011/12/weecology-can-has-new-mammal-dataset/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Recology is 1 yr old
    </h2>
  </header>
  <div class="entry-content">
    <p>This blog has lasted a whole year already. Thanks for reading and commenting.
There are a couple of announcements: Less blogging: I hope to put in many more years blogging here, but in full disclosure I am blogging for Journal of Ecology now, so I am going to be (and already have been) blogging less here. More blogging: If anyone wants to write guest posts at Recology on the topics of using R for ecology and evolution, or open science, please contact me. Different blogging: I was going to roll out the new dynamic views for this blog, but Google doesn’t allow javascript, which is how I include code using GitHub gists. Oh well… Anywho, here is the breakdown of visits to this blog, visualized using #ggplot2, of course. There were a total of about 23,000 pageviews in the first year of this blog.
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-12-23 18:52:00 -0600 -0600'>December 23, 2011</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to Recology is 1 yr old" href="http://localhost:1313/2011/12/recology-is-1-yr-old/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">I Work For The Internet !
    </h2>
  </header>
  <div class="entry-content">
    <p>UPDATE: code and figure updated at 647 AM CST on 19 Dec ‘11. Also, see Jarrett Byrnes (improved) fork of my gist here.
The site I WORK FOR THE INTERNET is collecting pictures and first names (last name initials only) to show collective support against SOPA (the Stop Online Piracy Act). Please stop by their site and add your name/picture.
I used the #rstats package twitteR, created by Jeff Gentry, to search for tweets from people signing this site with their picture, then plotted using ggplot2, and also used Hadley’s lubridate to round timestamps on tweets to be able to bin tweets in to time slots for plotting.
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-12-13 09:35:00 -0600 -0600'>December 13, 2011</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to I Work For The Internet !" href="http://localhost:1313/2011/12/i-work-for-internet/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">My talk on doing phylogenetics in R
    </h2>
  </header>
  <div class="entry-content">
    <p>I gave a talk today on doing very basic phylogenetics in R, including getting sequence data, aligning sequence data, plotting trees, doing trait evolution stuff, etc.
Please comment if you have code for doing bayesian phylogenetic inference in R. I know phyloch has function mrbayes, but can’t get it to work…
Phylogenetics in R View more presentations from schamber </p>
  </div>
  <footer class="entry-footer"><span title='2011-11-18 13:15:00.001 -0600 -0600'>November 18, 2011</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to My talk on doing phylogenetics in R" href="http://localhost:1313/2011/11/my-talk-on-doing-phylogenetics-in-r/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">My little presentation on getting web data through R
    </h2>
  </header>
  <div class="entry-content">
    <p>With examples from rOpenSci R packages. p.s. I am no expert at this...
Web data from R View more presentations from schamber </p>
  </div>
  <footer class="entry-footer"><span title='2011-10-28 11:16:00.003 -0500 -0500'>October 28, 2011</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Scott Chamberlain</footer>
  <a class="entry-link" aria-label="post link to My little presentation on getting web data through R" href="http://localhost:1313/2011/10/my-little-presentation-on-getting-web/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://localhost:1313/tags/ggplot2/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Recology</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
