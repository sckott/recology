<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Github on Recology</title>
    <link>http://localhost:1313/tags/github/</link>
    <description>Recent content in Github on Recology</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 05 Jan 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/github/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>gistr - R client for GitHub gists</title>
      <link>http://localhost:1313/2015/01/gistr-github-gists/</link>
      <pubDate>Mon, 05 Jan 2015 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2015/01/gistr-github-gists/</guid>
      <description><![CDATA[<p>GitHub has this site <a href="https://gist.github.com/">https://gist.github.com/</a> in which we can share code, text, images, maps, plots, etc super easily, without having to open up a repo, etc. GitHub gists are a great way to throw up an example use case to show someone, or show code that&rsquo;s throwing errors to a support person, etc. In addition, there&rsquo;s API access, which means we can interact with Gists not just from their web interface, but from the command line, or any programming language. There are clients for <a href="https://github.com/mbostock/gistup">Node.js</a>, <a href="https://rubygems.org/gems/gist">Ruby</a>, <a href="https://pypi.python.org/pypi/gists/0.4.6">Python</a>, and on and on. But AFAIK there wasn&rsquo;t one for R. Along with <a href="https://github.com/ramnathv">Ramnath</a> and others, we&rsquo;ve been working on an R client for gists. <code>v0.1</code> is <a href="https://cran.r-project.org/web/packages/gistr/index.html">now on CRAN</a>. Below is an overview.</p>
<p>One useful thing about this package in terms of other R packages is that you can now depend on <code>gistr</code> to easily share results as Gists. For example, you can share maps as gists (via geojson, rendered as interactive map), or code, or plots, etc. That is, you don&rsquo;t have to re-write an interface to Github Gists yourself. We plan on using <code>gistr</code> in a few rOpenSci packages.</p>
<h2 id="installation">Installation</h2>
<h2 id="installation-1">Installation</h2>
<p>Install from CRAN</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;gistr&#34;</span>)
</span></span></code></pre></div><p>Or the development version from GitHub</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;devtools&#34;</span>)
</span></span><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;ropensci/gistr&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;gistr&#34;</span>)
</span></span></code></pre></div><h2 id="authentication">Authentication</h2>
<p>There are two ways to authorise <code>gistr</code> to work with your GitHub account:</p>
<ul>
<li>Generate a personal access token (PAT) at <a href="https://help.github.com/articles/creating-an-access-token-for-command-line-use">https://help.github.com/articles/creating-an-access-token-for-command-line-use</a> and record it in the <code>GITHUB_PAT</code> envar.</li>
<li>Interactively login into your GitHub account and authorise with OAuth.</li>
</ul>
<p>Using the PAT is recommended.</p>
<p>Using the <code>gist_auth()</code> function you can authenticate seperately first, or if you&rsquo;re not authenticated, this function will run internally with each functionn call. If you have a PAT, that will be used, if not, OAuth will be used.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist_auth</span>()
</span></span></code></pre></div><h2 id="workflow">Workflow</h2>
<p>In <code>gistr</code> you can use pipes to pass outputs from one function to another. If you have used <code>dplyr</code> with pipes you can see the difference, and perhaps the utility, of this workflow over the traditional workflow in R. You can use a non-piping or a piping workflow with <code>gistr</code>. Examples below use a mix of both workflows. Here is an example of a piping wofklow (with some explanation):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;minepublic&#34;</span>)[[6]] <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># List my public gists, and index 1st</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">add_files</span>(<span style="color:#e6db74">&#34;~/alm_othersources.md&#34;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># Add new file to that gist</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">update</span>() <span style="color:#75715e"># update sends a PATCH command to Gists API to add file to your gist</span>
</span></span></code></pre></div><p>And a non-piping workflow that does the same exact thing:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>g <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">gists</span>(what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;minepublic&#34;</span>)[[1]]
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">add_files</span>(g, <span style="color:#e6db74">&#34;~/alm_othersources.md&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">update</span>(g)
</span></span></code></pre></div><p>Or you could string them all together in one line (but it&rsquo;s rather difficult to follow what&rsquo;s going on because you have to read from the inside out)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">update</span>(<span style="color:#a6e22e">add_files</span>(<span style="color:#a6e22e">gists</span>(what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;minepublic&#34;</span>)[[1]], <span style="color:#e6db74">&#34;~/alm_othersources.md&#34;</span>))
</span></span></code></pre></div><h2 id="rate-limit-information">Rate limit information</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">rate_limit</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Rate limit: 5000</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Remaining:  4948</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Resets in:  46 minutes</span>
</span></span></code></pre></div><h2 id="list-gists">List gists</h2>
<p>Limiting to a few results here to keep it brief</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(per_page <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;575fd0342ae15f89645f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/575fd0342ae15f89645f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Script to disable the mouse acceleration on Ubuntu (and probably also other distributions). Read the &#39;usage&#39; section.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:41:49Z / 2015-01-04T17:41:50Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: disable-mouse-accel.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[2]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;1ebff1af906f214f98cd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/1ebff1af906f214f98cd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Ladda</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:41:45Z / 2015-01-04T17:41:45Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: Ladda.markdown, index.html, script.js, style.css</span>
</span></span></code></pre></div><p>Since a certain date/time</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(since<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2014-05-26T00:00:00Z&#39;</span>, per_page <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;575fd0342ae15f89645f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/575fd0342ae15f89645f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Script to disable the mouse acceleration on Ubuntu (and probably also other distributions). Read the &#39;usage&#39; section.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:41:49Z / 2015-01-04T17:41:50Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: disable-mouse-accel.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[2]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;1ebff1af906f214f98cd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/1ebff1af906f214f98cd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Ladda</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:41:45Z / 2015-01-04T17:41:45Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: Ladda.markdown, index.html, script.js, style.css</span>
</span></span></code></pre></div><p>Request different types of gists, one of public, minepublic, mineall, or starred.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(<span style="color:#e6db74">&#39;minepublic&#39;</span>, per_page <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;588921d4111e00551bcf</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/588921d4111e00551bcf</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:33:47Z / 2015-01-04T17:33:56Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: code.R</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[2]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;54c0195ee8753c7aaf9f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/54c0195ee8753c7aaf9f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: a new cool gist</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:33:47Z / 2015-01-04T17:33:47Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: stuff.md</span>
</span></span></code></pre></div><h2 id="list-a-single-gist">List a single gist</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist</span>(id <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;f1403260eb92f5dfa7e1&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;f1403260eb92f5dfa7e1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/f1403260eb92f5dfa7e1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Querying bitly from R </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2014-10-15T20:40:12Z / 2014-10-15T21:54:29Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: bitly_r.md</span>
</span></span></code></pre></div><h2 id="create-gist">Create gist</h2>
<p>You can pass in files</p>
<p>First, get a file to work with</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>stuffpath <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">system.file</span>(<span style="color:#e6db74">&#34;examples&#34;</span>, <span style="color:#e6db74">&#34;stuff.md&#34;</span>, package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gistr&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist_create</span>(files<span style="color:#f92672">=</span>stuffpath, description<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a new cool gist&#39;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist_create</span>(files<span style="color:#f92672">=</span>stuffpath, description<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a new cool gist&#39;</span>, browse <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;aa391404638f2f368b99</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/aa391404638f2f368b99</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: a new cool gist</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:37Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: stuff.md</span>
</span></span></code></pre></div><p>Or, wrap <code>gist_create()</code> around some code in your R session/IDE, like so, with just the function name, and a <code>{'</code> at the start and a <code>}'</code> at the end.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist_create</span>(code<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">x &lt;- letters
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">numbers &lt;- runif(8)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">numbers
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[1] 0.3229318 0.5933054 0.7778408 0.3898947 0.1309717 0.7501378 0.3206379 0.3379005
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span>}, browse<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;85158117880f197df422</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/85158117880f197df422</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:37Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: code.R</span>
</span></span></code></pre></div><p>You can also knit an input file before posting as a gist:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>file <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">system.file</span>(<span style="color:#e6db74">&#34;examples&#34;</span>, <span style="color:#e6db74">&#34;stuff.Rmd&#34;</span>, package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gistr&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gist_create</span>(file, description<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a new cool gist&#39;</span>, knit<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;4162b9c53479fbc298db</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/4162b9c53479fbc298db</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: a new cool gist</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2014-10-27T16:07:31Z / 2014-10-27T16:07:31Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: stuff.md</span>
</span></span></code></pre></div><p>Or code blocks before (note that code blocks without knitr block demarcations will result in unexecuted code):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist_create</span>(code<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">x &lt;- letters
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">(numbers &lt;- runif(8))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span>}, knit<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;ec45c396dee4aa492139</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/ec45c396dee4aa492139</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2014-10-27T16:09:09Z / 2014-10-27T16:09:09Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: file81720d1ceff.md</span>
</span></span></code></pre></div><h2 id="knit-code-from-file-path-code-block-or-gist-file">knit code from file path, code block, or gist file</h2>
<p>knit a local file</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>file <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">system.file</span>(<span style="color:#e6db74">&#34;examples&#34;</span>, <span style="color:#e6db74">&#34;stuff.Rmd&#34;</span>, package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gistr&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">run</span>(file, knitopts <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(quiet<span style="color:#f92672">=</span><span style="color:#66d9ef">TRUE</span>)) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">gist_create</span>(browse <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;d5d86e11964c36cb4f1e</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/d5d86e11964c36cb4f1e</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:42:38Z / 2015-01-04T17:42:38Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: stuff.md</span>
</span></span></code></pre></div><p>knit a code block (<code>knitr</code> code block notation missing, do add that in) (result not shown)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">run</span>({<span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">x &lt;- letters
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">(numbers &lt;- runif(8))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span>}) <span style="color:#f92672">%&gt;%</span> gist_create
</span></span></code></pre></div><p>knit a file from a gist, has to get file first (result not shown)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(<span style="color:#e6db74">&#39;minepublic&#39;</span>)[[1]] <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">run</span>() <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">update</span>()
</span></span></code></pre></div><h2 id="list-commits-on-a-gist">List commits on a gist</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>()[[1]] <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">commits</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;commit&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Version: faa7a40f4b55aa7914be7685c75d5c80731971bb</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   User: sckott</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Commited: 2015-01-04T17:42:37Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Commits [total, additions, deletions]: [5,5,0]</span>
</span></span></code></pre></div><h2 id="star-a-gist">Star a gist</h2>
<p>Star</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist</span>(<span style="color:#e6db74">&#39;7ddb9810fc99c84c65ec&#39;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">star</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;7ddb9810fc99c84c65ec</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/7ddb9810fc99c84c65ec</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2014-06-27T17:50:37Z / 2014-06-27T17:50:37Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: code.R, manifest.yml, rrt_manifest.yml</span>
</span></span></code></pre></div><p>Unstar</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist</span>(<span style="color:#e6db74">&#39;7ddb9810fc99c84c65ec&#39;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">unstar</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;7ddb9810fc99c84c65ec</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/7ddb9810fc99c84c65ec</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2014-06-27T17:50:37Z / 2014-06-27T17:50:37Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: code.R, manifest.yml, rrt_manifest.yml</span>
</span></span></code></pre></div><h2 id="update-a-gist">Update a gist</h2>
<p>Add files</p>
<p>First, path to file</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>file <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">system.file</span>(<span style="color:#e6db74">&#34;examples&#34;</span>, <span style="color:#e6db74">&#34;alm_othersources.md&#34;</span>, package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gistr&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;minepublic&#34;</span>)[[1]] <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">add_files</span>(file) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">update</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;85158117880f197df422</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/85158117880f197df422</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:42Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: alm_othersources.md, code.R</span>
</span></span></code></pre></div><p>Delete files</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>(what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;minepublic&#34;</span>)[[1]] <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">delete_files</span>(file) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">update</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;85158117880f197df422</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/85158117880f197df422</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:42Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: code.R</span>
</span></span></code></pre></div><h2 id="open-a-gist-in-your-default-browser">Open a gist in your default browser</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>()[[1]] <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">browse</span>()
</span></span></code></pre></div><blockquote>
<p>Opens the gist in your default browser</p>
</blockquote>
<h2 id="get-embed-script">Get embed script</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gists</span>()[[1]] <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">embed</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;&lt;script src=\&#34;https://gist.github.com/sckott/85158117880f197df422.js\&#34;&gt;&lt;/script&gt;&#34;</span>
</span></span></code></pre></div><h3 id="list-forks">List forks</h3>
<p>Returns a list of <code>gist</code> objects, just like <code>gists()</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">gist</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1642874&#39;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">forks</span>(per_page<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;1642989</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/1642989</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Spline Transition</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2012-01-19T21:45:20Z / 2014-12-10T03:25:19Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [[2]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;1643051</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/1643051</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Line Transition (Broken)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2012-01-19T21:51:30Z / 2014-04-09T03:11:36Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files:</span>
</span></span></code></pre></div><h2 id="fork-a-gist">Fork a gist</h2>
<p>Returns a <code>gist</code> object</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>g <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">gists</span>()
</span></span><span style="display:flex;"><span>(forked <span style="color:#f92672">&lt;-</span> g[[ <span style="color:#a6e22e">sample</span>(<span style="color:#a6e22e">seq_along</span>(g), <span style="color:#ae81ff">1</span>) ]] <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">fork</span>())
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;62b05dd4ebc2d29add15</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/62b05dd4ebc2d29add15</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description: Solution to level 1 in Untrusted: https://alex.nisnevich.com/untrusted/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2015-01-04T17:42:43Z / 2015-01-04T17:42:43Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: untrusted-lvl1-solution.js</span>
</span></span></code></pre></div><h2 id="example-use-case">Example use case</h2>
<p><em>Working with the Mapzen Pelias geocoding API</em></p>
<p>The API is described at <a href="https://github.com/pelias/pelias">https://github.com/pelias/pelias</a>, and is still in alpha they say. The steps: get data, make a gist. The data is returned from Mapzen as geojson, so all we have to do is literally push it up to GitHub gists and we&rsquo;re done b/c GitHub renders the map.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#39;httr&#39;</span>)
</span></span><span style="display:flex;"><span>base <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;https://pelias.mapzen.com/search&#34;</span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">GET</span>(base, query <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(input <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;coffee shop&#39;</span>, lat <span style="color:#f92672">=</span> <span style="color:#ae81ff">45.5</span>, lon <span style="color:#f92672">=</span> <span style="color:#ae81ff">-122.6</span>))
</span></span><span style="display:flex;"><span>json <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">content</span>(res, as <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;text&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">gist_create</span>(code <span style="color:#f92672">=</span> json, filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;pelias_test.geojson&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;gist&gt;017214637bcfeb198070</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   URL: https://gist.github.com/017214637bcfeb198070</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Description:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Public: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Created/Edited: 2014-10-28T14:42:36Z / 2014-10-28T14:42:36Z</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Files: pelias_test.geojson</span>
</span></span></code></pre></div><p>And here&rsquo;s that gist: <a href="https://gist.github.com/sckott/017214637bcfeb198070">https://gist.github.com/sckott/017214637bcfeb198070</a></p>
<p><img loading="lazy" src="/2015-01-05-gistr-github-gists/gistr_ss.png" alt="image"  />
</p>
]]></description>
    </item>
    <item>
      <title>Intro to alpha ckanr - R client for CKAN RESTful API</title>
      <link>http://localhost:1313/2014/11/ckanr-intro/</link>
      <pubDate>Wed, 26 Nov 2014 11:42:36 +0000</pubDate>
      <guid>http://localhost:1313/2014/11/ckanr-intro/</guid>
      <description><![CDATA[<p>Recently I had need to create a client for scraping museum metadata to help out some folks that use that kind of data. It&rsquo;s called <a href="https://github.com/ropensci/musemeta">musemeta</a>. One of the data sources in that package uses the open source <em>data portal software</em> <a href="https://ckan.org/">CKAN</a>, and so we can interact with <a href="https://docs.ckan.org/en/latest/api/index.html">the CKAN API</a> to get data. Since many groups can use CKAN API/etc infrastucture because it&rsquo;s open source, I thought why not have a general purpose R client for this, since <a href="https://github.com/ckan/ckan/wiki/CKAN-API-Clients">there are other clients</a> for Python, PHP, Ruby, etc.</p>
<p>Here&rsquo;s a bit of an intro:</p>
<h2 id="setup">Setup</h2>
<p>Get/load packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;devtools&#34;</span>)
</span></span><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;ropensci/ckanr&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;ckanr&#34;</span>)
</span></span></code></pre></div><blockquote>
<p>Note: the default URL is for <a href="https://data.techno-science.ca/">https://data.techno-science.ca/</a>. You can change that in the <code>url</code> parameter</p>
</blockquote>
<h2 id="some-package-details">Some package details</h2>
<p>All API alls are <code>POST</code> requests, and handled through a helper function called <code>ckan_POST()</code>. See <code>ckanr:::ckan_POST</code> to see the function.</p>
<p>There are some common parameters across most functions that are worth describing a bit:</p>
<ul>
<li><code>offset</code> (numeric) Where to start getting items from (optional, default: 0)</li>
<li><code>limit</code> (numeric) The maximum number of items to return (optional, default: 31)</li>
<li><code>url</code> Base url to use. Default: <a href="https://data.techno-science.ca">https://data.techno-science.ca</a></li>
<li><code>as</code> (character) One of <code>list</code> (default), <code>table</code>, or <code>json</code>. Parsing with table option uses <code>jsonlite::fromJSON(..., simplifyDataFrame = TRUE)</code>, which attempts to parse data to <code>data.frame</code>&rsquo;s when possible, so the result can vary.</li>
<li><code>...</code> Curl args passed on to <code>httr::POST</code></li>
</ul>
<h2 id="changes">Changes</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">changes</span>(limit <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, as <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;table&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                user_id                  timestamp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 b50449ea-1dcc-4d52-b620-fc95bf56034b 2014-11-06T18:58:08.001743</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b 2014-11-06T18:55:55.059527</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                              object_id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 cc6a523c-cecf-4a95-836b-295a11ce2bce</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 cc6a523c-cecf-4a95-836b-295a11ce2bce</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            revision_id data.package.maintainer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 5d11079e-fc05-4121-9fd5-fe086f5e5f33                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 4a591538-0584-487b-8ed1-3260d1d09d77                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   data.package.name data.package.metadata_modified data.package.author</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1              test     2014-11-06T18:55:54.772675                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2              test     2014-11-06T18:55:54.772675                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   data.package.url data.package.notes               data.package.owner_org</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                                     fafa260d-e2bf-46cd-9c35-34c1dfa46c57</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                                     fafa260d-e2bf-46cd-9c35-34c1dfa46c57</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   data.package.private data.package.maintainer_email</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                FALSE                              </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                FALSE                              </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   data.package.author_email data.package.state data.package.version</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                                      deleted                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                                       active                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;           data.package.creator_user_id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 b50449ea-1dcc-4d52-b620-fc95bf56034b</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                        data.package.id data.package.title</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 cc6a523c-cecf-4a95-836b-295a11ce2bce               test</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 cc6a523c-cecf-4a95-836b-295a11ce2bce               test</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;               data.package.revision_id data.package.type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 5d11079e-fc05-4121-9fd5-fe086f5e5f33           dataset</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 4a591538-0584-487b-8ed1-3260d1d09d77           dataset</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   data.package.license_id                                   id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1            notspecified 59c308c8-68b2-4b92-bc57-129378d31882</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2            notspecified a8577e2c-f742-49c2-bef3-ca3299e58704</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;     activity_type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 deleted package</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 changed package</span>
</span></span></code></pre></div><h2 id="list-datasets">List datasets</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">datasets</span>(as <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;table&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [1] &#34;artifact-data-agriculture&#34;                                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [2] &#34;artifact-data-aviation&#34;                                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [3] &#34;artifact-data-bookbinding&#34;                                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [4] &#34;artifact-data-chemistry&#34;                                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [5] &#34;artifact-data-communications&#34;                               </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [6] &#34;artifact-data-computing-technology&#34;                         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [7] &#34;artifact-data-domestic-technology&#34;                          </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [8] &#34;artifact-data-energy-electric&#34;                              </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [9] &#34;artifact-data-exploration-and-survey&#34;                       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [10] &#34;artifact-data-fisheries&#34;                                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [11] &#34;artifact-data-forestry&#34;                                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [12] &#34;artifact-data-horology&#34;                                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [13] &#34;artifact-data-industrial-technology&#34;                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [14] &#34;artifact-data-lighting-technology&#34;                          </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [15] &#34;artifact-data-location-canada-agriculture-and-food-museum&#34;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [16] &#34;artifact-data-location-canada-aviation-and-space-museum&#34;    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [17] &#34;artifact-data-location-canada-science-and-technology-museum&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [18] &#34;artifact-data-marine-transportation&#34;                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [19] &#34;artifact-data-mathematics&#34;                                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [20] &#34;artifact-data-medical-technology&#34;                           </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [21] &#34;artifact-data-meteorology&#34;                                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [22] &#34;artifact-data-metrology&#34;                                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [23] &#34;artifact-data-mining-and-metallurgy&#34;                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [24] &#34;artifact-data-motorized-ground-transportation&#34;              </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [25] &#34;artifact-data-non-motorized-ground-transportation&#34;          </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [26] &#34;artifact-data-on-loan&#34;                                      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [27] &#34;artifact-data-photography&#34;                                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [28] &#34;artifact-data-physics&#34;                                      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [29] &#34;artifact-data-printing&#34;                                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [30] &#34;artifact-data-railway-transportation&#34;                       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [31] &#34;artifact-dataset-fire-fighting&#34;</span>
</span></span></code></pre></div><h2 id="list-tags">List tags</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">tag_list</span>(<span style="color:#e6db74">&#39;aviation&#39;</span>, as<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;table&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   vocabulary_id                     display_name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1            NA                         Aviation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2            NA Canada Aviation and Space Museum</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                     id                             name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 cc1db2db-b08b-4888-897f-a17eade2461b                         Aviation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 8d05a650-bc7b-4b89-bcc8-c10177e60119 Canada Aviation and Space Museum</span>
</span></span></code></pre></div><h2 id="show-tags">Show tags</h2>
<p>Subset for readme brevity</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">tag_show</span>(<span style="color:#e6db74">&#39;Aviation&#39;</span>)<span style="color:#f92672">$</span>packages[[1]][1<span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>]  
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $owner_org</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;fafa260d-e2bf-46cd-9c35-34c1dfa46c57&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $maintainer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $relationships_as_object</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; list()</span>
</span></span></code></pre></div><h2 id="list-groups">List groups</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">group_list</span>(as<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;table&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                         display_name description</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                     Communications            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 Domestic and Industrial Technology            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3                         Everything            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4                           Location            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5                          Resources            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6         Scientific Instrumentation            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7                     Transportation            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                title</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                     Communications</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 Domestic and Industrial Technology</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3                         Everything</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4                           Location</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5                          Resources</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6         Scientific Instrumentation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7                     Transportation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                   image_display_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1       http://data.techno-science.ca/uploads/group/20141024-162305.6896412comm.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2    http://data.techno-science.ca/uploads/group/20141024-162324.3636615domtech.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 http://data.techno-science.ca/uploads/group/20141024-162448.0656596everything.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4   http://data.techno-science.ca/uploads/group/20141024-162528.8786547location.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5     http://data.techno-science.ca/uploads/group/20141024-162608.3732604resour.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6    http://data.techno-science.ca/uploads/group/20141024-162549.1925831sciinst.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7  http://data.techno-science.ca/uploads/group/20141024-162624.1872823transport.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   approval_status is_organization  state</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7        approved           FALSE active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                               image_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1       20141024-162305.6896412comm.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2    20141024-162324.3636615domtech.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 20141024-162448.0656596everything.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4   20141024-162528.8786547location.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5     20141024-162608.3732604resour.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6    20141024-162549.1925831sciinst.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7  20141024-162624.1872823transport.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            revision_id packages  type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 cc302424-2e68-4fcc-9a3a-6de60748c2e4        5 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 b7d95b87-5999-45f9-8775-c64094842551        2 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 c2f0c59a-a543-4d67-a61f-4f387068ba53        1 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 6816d571-d2bd-4131-b99d-80e7e6797492        4 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5 e37ee30d-577b-4349-8f0e-eaa4543497e8        6 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6 74eba42e-08b3-4400-b40f-3d6159ae6e9d       10 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7 a6cc4aab-eae9-42ba-9ab4-cbf45d5c6a0e        7 group</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                     id                               name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 5268ce18-e3b8-4802-b29e-30740b46e52d                     communications</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 5a9a8095-9e0c-485e-84f6-77f577607991 domestic-and-industrial-technology</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 d7dd233e-a1cc-43da-8152-f7ed15d26756                         everything</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 770fc9c0-d4f3-48b0-a4ee-e00c6882df1d                           location</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5 f6c205de-cc95-4308-ac9f-5a63f1a5c7ee                          resources</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6 b98ff457-2031-48b6-b681-9adb3afc501b         scientific-instrumentation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7 a73bf7be-310d-472e-83e1-43a3d87602ba                     transportation</span>
</span></span></code></pre></div><h2 id="show-groups">Show groups</h2>
<p>Subset for readme brevity</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">group_show</span>(<span style="color:#e6db74">&#39;communications&#39;</span>, as<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;table&#39;</span>)<span style="color:#f92672">$</span>users
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   openid about capacity     name                    created</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1     NA  &lt;NA&gt;    admin     marc 2014-10-24T14:44:29.885262</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2     NA          admin sepandar 2014-10-23T19:40:42.056418</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                         email_hash sysadmin</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 a32002c960476614370a16e9fb81f436    FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 10b930a228afd1da2647d62e70b71bf8     TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   activity_streams_email_notifications  state number_of_edits</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                                FALSE active             376</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                                FALSE active              44</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   number_administered_packages display_name fullname</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                           39         marc     &lt;NA&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                            1     sepandar         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                     id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 27778230-2e90-4818-9f00-bbf778c8fa09</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b</span>
</span></span></code></pre></div><h2 id="show-a-package">Show a package</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">package_show</span>(<span style="color:#e6db74">&#39;34d60b13-1fd5-430e-b0ec-c8bc7f4841cf&#39;</span>, as<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;table&#39;</span>)<span style="color:#f92672">$</span>resources
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                      resource_group_id cache_last_updated</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;           revision_timestamp webstore_last_updated</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 2014-10-28T18:13:22.213530                    NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 2014-11-04T02:59:50.567068                    NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 2014-11-05T21:23:58.533397                    NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 2014-11-05T21:25:16.848423                    NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                     id size  state hash</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 be2b0af8-24a8-4a55-8b30-89f5459b713a   NA active     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 7d65910e-4bdc-4f06-a213-e24e36762767   NA active     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 97622ad7-1507-4f6a-8acb-14e826447389   NA active     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 7a72498a-c49c-4e84-8b10-58991de10df6   NA active     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                    description format</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                                  XML Dataset    XML</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 Data dictionary for CSTMC artifact datasets.    XLS</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3       Tips for using the artifacts datasets.   .php</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4       Tips for using the artifacts datasets.   .php</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   tracking_summary.total tracking_summary.recent mimetype_inner url_type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                      0                       0             NA       NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                      0                       0             NA       NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3                      0                       0             NA       NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4                      0                       0             NA       NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   mimetype cache_url                               name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1       NA        NA Artifact Data - Vacuum Tubes (XML)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2       NA        NA                    Data Dictionary</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3       NA        NA                     Tips (English)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4       NA        NA                      Tips (French)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                      created</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 2014-10-28T18:13:22.240393</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 2014-11-04T02:59:50.643658</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 2014-11-04T18:14:23.952937</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 2014-11-05T21:25:16.887796</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                                                                                                    url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                         http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/groups-groupes/vacuum-tubes-tubes-electronique.xml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/cstmc-artifact-data-dictionary-dictionnaire-de-donnees-artefacts-smstc.xls</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3                                                                          http://techno-science.ca/en/open-data/tips-using-artifact-open-data-set.php</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4                                                                 http://techno-science.ca/fr/donnees-ouvertes/conseils-donnees-ouvertes-artefacts.php</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   webstore_url last_modified position                          revision_id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1           NA            NA        0 9a27d884-f181-4842-ab47-cda35a8bf99a</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2           NA            NA        1 5d27b3e6-7870-4c12-a122-9e9f5adee4a0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3           NA            NA        2 40993f16-402b-439c-9288-2f2b177e4b8f</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4           NA            NA        3 57f1488e-a140-4eb6-9329-fc13202a73af</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   resource_type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1            NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2            NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3            NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4            NA</span>
</span></span></code></pre></div><h2 id="search-for-packages">Search for packages</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>out <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">package_search</span>(q <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*:*&#39;</span>, rows <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, as<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;table&#34;</span>)<span style="color:#f92672">$</span>results
</span></span><span style="display:flex;"><span>out[, <span style="color:#f92672">!</span><span style="color:#a6e22e">names</span>(out) <span style="color:#f92672">%in%</span> <span style="color:#e6db74">&#39;resources&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                      license_title maintainer relationships_as_object</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 Open Government Licence - Canada                               NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 Open Government Licence - Canada                               NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   private maintainer_email         revision_timestamp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1   FALSE                  2014-11-05T23:17:46.220002</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2   FALSE                  2014-11-05T23:17:04.923594</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                     id           metadata_created</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 35d5484d-38ce-495e-8722-7857c4fd17bf 2014-10-28T20:13:11.572558</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 da65507d-b018-4d3b-bde3-5419cf29d144 2014-10-28T14:59:21.386177</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;            metadata_modified author author_email  state version</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 2014-11-05T23:17:46.220657                     active        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 2014-11-05T23:17:04.924229                     active        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                        creator_user_id    type num_resources</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 27778230-2e90-4818-9f00-bbf778c8fa09 dataset             4</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 27778230-2e90-4818-9f00-bbf778c8fa09 dataset             4</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                                                                       tags</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                         NA, Location, Location, 2014-10-28T20:13:11.572558, active, da88c5a2-3766-41ea-a75b-9c87047cc528</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 NA, Computing Technology, Computing Technology, 2014-10-28T14:59:21.386177, active, 5371dc28-9ce8-4f21-9afb-1f155f132bfe</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   tracking_summary.total tracking_summary.recent</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                     35                      10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                     24                       8</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                                                                                                                                                       groups</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                                                      Location, , http://data.techno-science.ca/uploads/group/20141024-162528.8786547location.jpg, Location, 770fc9c0-d4f3-48b0-a4ee-e00c6882df1d, location</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 Scientific Instrumentation, , http://data.techno-science.ca/uploads/group/20141024-162549.1925831sciinst.jpg, Scientific Instrumentation, b98ff457-2031-48b6-b681-9adb3afc501b, scientific-instrumentation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   license_id relationships_as_subject num_tags organization.description</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 ca-ogl-lgo                     NULL        1                         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 ca-ogl-lgo                     NULL        1                         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;         organization.created organization.title organization.name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 2014-10-24T14:49:36.878579              CSTMC             cstmc</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 2014-10-24T14:49:36.878579              CSTMC             cstmc</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   organization.revision_timestamp organization.is_organization</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1      2014-10-24T14:49:36.813670                         TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2      2014-10-24T14:49:36.813670                         TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   organization.state organization.image_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1             active                       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2             active                       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;               organization.revision_id organization.type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 7a325a56-46f1-419c-b7b2-ec7501edb35a      organization</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 7a325a56-46f1-419c-b7b2-ec7501edb35a      organization</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                        organization.id organization.approval_status</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 fafa260d-e2bf-46cd-9c35-34c1dfa46c57                     approved</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 fafa260d-e2bf-46cd-9c35-34c1dfa46c57                     approved</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                          name isopen url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 artifact-data-location-canada-science-and-technology-museum  FALSE    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                          artifact-data-computing-technology  FALSE    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                                                                                                                        notes</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 This dataset includes artifacts in the collection of the Canada Science and Technology Museums Corporation that are currently in the Canada Science and Technology Museum.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                                This dataset includes artifacts in the collection of the Canada Science and Technology Museums Corporation related to computing technology.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                              owner_org extras</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 fafa260d-e2bf-46cd-9c35-34c1dfa46c57   NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 fafa260d-e2bf-46cd-9c35-34c1dfa46c57   NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                            license_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 http://data.gc.ca/eng/open-government-licence-canada</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 http://data.gc.ca/eng/open-government-licence-canada</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                             title</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 Artifact Data - Location - Canada Science and Technology Museum</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                            Artifact Data - Computing Technology</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            revision_id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 694a977a-c238-47a4-8671-caddca4edfca</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 858cb240-76a0-406a-800c-e4ae6cc56ab9</span>
</span></span></code></pre></div><h2 id="search-for-resources">Search for resources</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">resource_search</span>(q <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;name:data&#39;</span>, limit <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, as<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;table&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $count</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 71</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $results</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                      resource_group_id cache_last_updated</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 01a82e52-01bf-4a9c-9b45-c4f9b92529fa                 NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 01a82e52-01bf-4a9c-9b45-c4f9b92529fa                 NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   webstore_last_updated                                   id size  state</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                    NA e179e910-27fb-44f4-a627-99822af49ffa   NA active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                    NA ba84e8b7-b388-4d2a-873a-7b107eb7f135   NA active</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   last_modified hash                                  description format</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1            NA                                       XML Dataset    XML</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2            NA      Data dictionary for CSTMC artifact datasets.    XLS</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   mimetype_inner url_type mimetype cache_url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1             NA       NA       NA        NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2             NA       NA       NA        NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                           name                    created</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 Artifact Data - Exploration and Survey (XML) 2014-10-28T15:50:35.374303</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                              Data Dictionary 2014-11-03T18:01:02.094210</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                                                                                                                    url</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1              http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/groups-groupes/exploration-and-survey-exploration-et-leve.xml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/cstmc-artifact-data-dictionary-dictionnaire-de-donnees-artefacts-smstc.xls</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   webstore_url position                          revision_id resource_type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1           NA        0 a22e6741-3e89-4db0-a802-ba594b1c1fad            NA</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2           NA        1 da1f8585-521d-47ef-8ead-7832474a3421            NA</span>
</span></span></code></pre></div><h2 id="future-work">Future work</h2>
<ul>
<li>There&rsquo;s already <a href="https://github.com/ropensci/ckanr/issues/4">an issue</a> to add support for <a href="http://docs.ckan.org/en/latest/maintaining/datastore.html">DataStore</a></li>
<li>This client needs to be tested against many other CKAN API instances to make sure it&rsquo;s robust</li>
<li>Add a test suite</li>
<li>Use cases: would be nice to include in the package documentation use cases</li>
<li>Other things? Get in touch on twitter <code>@recology_</code> or below</li>
</ul>
]]></description>
    </item>
    <item>
      <title>Fun with the GitHub API</title>
      <link>http://localhost:1313/2014/11/github-fun/</link>
      <pubDate>Wed, 26 Nov 2014 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2014/11/github-fun/</guid>
      <description><![CDATA[<p>Recently I&rsquo;ve had fun playing with the GitHub API, and here are some notes to self about this fun having.</p>
<h2 id="setup">Setup</h2>
<p>Get/load packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;devtools&#39;</span>,<span style="color:#e6db74">&#39;jsonlite&#39;</span>,<span style="color:#e6db74">&#39;httr&#39;</span>,<span style="color:#e6db74">&#39;yaml&#39;</span>))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;devtools&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;httr&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;yaml&#34;</span>)
</span></span></code></pre></div><h2 id="define-a-vector-of-package-names">Define a vector of package names</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>pkgs <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;alm&#34;</span>, <span style="color:#e6db74">&#34;bmc&#34;</span>, <span style="color:#e6db74">&#34;bold&#34;</span>, <span style="color:#e6db74">&#34;clifro&#34;</span>, <span style="color:#e6db74">&#34;ecoengine&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;elastic&#34;</span>, <span style="color:#e6db74">&#34;fulltext&#34;</span>, <span style="color:#e6db74">&#34;geonames&#34;</span>, <span style="color:#e6db74">&#34;gistr&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;RNeXML&#34;</span>, <span style="color:#e6db74">&#34;rnoaa&#34;</span>, <span style="color:#e6db74">&#34;rnpn&#34;</span>, <span style="color:#e6db74">&#34;traits&#34;</span>, <span style="color:#e6db74">&#34;rplos&#34;</span>, <span style="color:#e6db74">&#34;rsnps&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;rWBclimate&#34;</span>, <span style="color:#e6db74">&#34;solr&#34;</span>, <span style="color:#e6db74">&#34;spocc&#34;</span>, <span style="color:#e6db74">&#34;taxize&#34;</span>, <span style="color:#e6db74">&#34;togeojson&#34;</span>, <span style="color:#e6db74">&#34;treeBASE&#34;</span>)
</span></span><span style="display:flex;"><span>pkgs <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sort</span>(pkgs)
</span></span></code></pre></div><h2 id="define-functions">Define functions</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>github_auth <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(appname <span style="color:#f92672">=</span> <span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#34;gh_appname&#34;</span>), key <span style="color:#f92672">=</span> <span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#34;gh_id&#34;</span>),
</span></span><span style="display:flex;"><span>                        secret <span style="color:#f92672">=</span> <span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#34;gh_secret&#34;</span>)) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">is.null</span>(<span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#34;gh_token&#34;</span>))) {
</span></span><span style="display:flex;"><span>    myapp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">oauth_app</span>(appname, key, secret)
</span></span><span style="display:flex;"><span>    token <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">oauth2.0_token</span>(<span style="color:#a6e22e">oauth_endpoints</span>(<span style="color:#e6db74">&#34;github&#34;</span>), myapp)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">options</span>(gh_token <span style="color:#f92672">=</span> token)
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    token <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">getOption</span>(<span style="color:#e6db74">&#34;gh_token&#34;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span>(token)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>make_url <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(x, y, z) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;https://api.github.com/repos/%s/%s/%s&#34;</span>, x, y, z)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>process_result <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(x) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">stop_for_status</span>(x)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>x<span style="color:#f92672">$</span>headers<span style="color:#f92672">$</span>`content-type` <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;application/json; charset=utf-8&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;content type mismatch&#34;</span>)
</span></span><span style="display:flex;"><span>  tmp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">content</span>(x, as <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;text&#34;</span>)
</span></span><span style="display:flex;"><span>  jsonlite<span style="color:#f92672">::</span><span style="color:#a6e22e">fromJSON</span>(tmp, flatten <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>parse_file <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(x) {
</span></span><span style="display:flex;"><span>  tmp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">gsub</span>(<span style="color:#e6db74">&#34;\n\\s+&#34;</span>, <span style="color:#e6db74">&#34;\n&#34;</span>, 
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">paste</span>(<span style="color:#a6e22e">vapply</span>(<span style="color:#a6e22e">strsplit</span>(x, <span style="color:#e6db74">&#34;\n&#34;</span>)[[1]], RCurl<span style="color:#f92672">::</span>base64Decode,
</span></span><span style="display:flex;"><span>                           <span style="color:#a6e22e">character</span>(<span style="color:#ae81ff">1</span>), USE.NAMES <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>), collapse <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; &#34;</span>))
</span></span><span style="display:flex;"><span>  lines <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">readLines</span>(<span style="color:#a6e22e">textConnection</span>(tmp))
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">vapply</span>(lines, gsub, <span style="color:#a6e22e">character</span>(<span style="color:#ae81ff">1</span>), pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\\s&#34;</span>, replacement <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>         USE.NAMES <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>request <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(owner <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ropensci&#34;</span>, repo, file<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;DESCRIPTION&#34;</span>, <span style="color:#66d9ef">...</span>) {
</span></span><span style="display:flex;"><span>  req <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">GET</span>(<span style="color:#a6e22e">make_url</span>(owner, repo, <span style="color:#a6e22e">paste0</span>(<span style="color:#e6db74">&#34;contents/&#34;</span>, file)), 
</span></span><span style="display:flex;"><span>             config <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(token <span style="color:#f92672">=</span> <span style="color:#a6e22e">github_auth</span>(), <span style="color:#66d9ef">...</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(req<span style="color:#f92672">$</span>status_code <span style="color:#f92672">!=</span> <span style="color:#ae81ff">200</span>) { <span style="color:#66d9ef">NA</span> } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    cts <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">process_result</span>(req)<span style="color:#f92672">$</span>content
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">parse_file</span>(cts)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>has_term <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(what, <span style="color:#66d9ef">...</span>) <span style="color:#a6e22e">any</span>(<span style="color:#a6e22e">grepl</span>(what, <span style="color:#a6e22e">request</span>(<span style="color:#66d9ef">...</span>)))
</span></span><span style="display:flex;"><span>has_file <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(what, <span style="color:#66d9ef">...</span>) <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">all</span>(<span style="color:#a6e22e">is.na</span>(<span style="color:#a6e22e">request</span>(file <span style="color:#f92672">=</span> what, <span style="color:#66d9ef">...</span>)))) <span style="color:#66d9ef">FALSE</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">TRUE</span>
</span></span></code></pre></div><h2 id="do-stuff">Do stuff</h2>
<p>Does a package depend on a particular package? e.g., look for <code>httr</code> in the <code>DESCRIPTION</code> file (which is the default file name in <code>request()</code> above)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">has_term</span>(<span style="color:#e6db74">&#34;httr&#34;</span>, repo<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;taxize&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">has_term</span>(<span style="color:#e6db74">&#34;maptools&#34;</span>, repo<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;taxize&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] FALSE</span>
</span></span></code></pre></div><p>Do a series of R packages have a file for how to contribute <code>CONTRIBUTING.md</code>?</p>
<p>Yes</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">has_file</span>(<span style="color:#e6db74">&#34;CONTRIBUTING.md&#34;</span>, repo<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;taxize&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] TRUE</span>
</span></span></code></pre></div><p>Many packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">vapply</span>(pkgs, <span style="color:#66d9ef">function</span>(x) <span style="color:#a6e22e">has_file</span>(<span style="color:#e6db74">&#34;CONTRIBUTING.md&#34;</span>, repo<span style="color:#f92672">=</span>x), <span style="color:#a6e22e">logical</span>(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;        alm        bmc       bold     clifro  ecoengine    elastic </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      FALSE      FALSE      FALSE      FALSE      FALSE      FALSE </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   fulltext   geonames      gistr     RNeXML      rnoaa       rnpn </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;       TRUE      FALSE      FALSE       TRUE       TRUE      FALSE </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      rplos      rsnps rWBclimate       solr      spocc     taxize </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      FALSE      FALSE      FALSE      FALSE       TRUE       TRUE </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  togeojson     traits   treeBASE </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      FALSE      FALSE      FALSE</span>
</span></span></code></pre></div><h2 id="check-rate-limit">Check rate limit</h2>
<p>Define function</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>rate_limit <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(<span style="color:#66d9ef">...</span>) {
</span></span><span style="display:flex;"><span>  token <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">github_auth</span>()
</span></span><span style="display:flex;"><span>  req <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">GET</span>(<span style="color:#e6db74">&#34;https://api.github.com/rate_limit&#34;</span>, config <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(token <span style="color:#f92672">=</span> token, <span style="color:#66d9ef">...</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">process_result</span>(req)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Check it</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">rate_limit</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$core</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$core$limit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 5000</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$core$remaining</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 4925</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$core$reset</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 1417031016</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$search</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$search$limit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 30</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$search$remaining</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 30</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $resources$search$reset</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 1417028069</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $rate</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $rate$limit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 5000</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $rate$remaining</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 4925</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $rate$reset</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 1417031016</span>
</span></span></code></pre></div><p>Convert time to reset to human readable form</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">as.POSIXct</span>(<span style="color:#a6e22e">rate_limit</span>()<span style="color:#f92672">$</span>rate<span style="color:#f92672">$</span>reset, origin<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1970-01-01&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;2014-11-26 11:43:36 PST&#34;</span>
</span></span></code></pre></div>]]></description>
    </item>
    <item>
      <title>Jekyll - an intro</title>
      <link>http://localhost:1313/2013/11/jekyll-intro/</link>
      <pubDate>Wed, 20 Nov 2013 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2013/11/jekyll-intro/</guid>
      <description><![CDATA[<p>I started using Jekyll when I didn&rsquo;t really know HTML, CSS, or Ruby - so I&rsquo;ve had to learn a lot - but using Jekyll has been a great learning experience for all those languages.</p>
<p>I&rsquo;ve tried to boil down steps to building a Jekyll site or blog to the minimal steps:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="install-jekyll">Install Jekyll</h3>
<ul>
<li>Mac/Linux/Unix:
<ul>
<li>Install dependencies:
<ul>
<li><a href="http://www.ruby-lang.org/en/downloads/">Ruby</a></li>
<li><a href="http://rubygems.org/pages/download">RubyGems</a></li>
</ul>
</li>
<li>Install Jekyll using RubyGems <code>gem install jekyll</code> (you may need to do <code>sudo...</code>)</li>
<li>If you&rsquo;re having trouble installing, see the <a href="http://jekyllrb.com/docs/troubleshooting/">troubleshooting page</a>.</li>
</ul>
</li>
<li>Windows: Jekyll doesn&rsquo;t officially support installation on Windows - follow <a href="http://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html">these steps</a> for a Windows install.</li>
</ul>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="make-a-site">Make a site</h3>
<p>The easiest way to get started is by using the command <code>jekyll new SITENAME</code> - let&rsquo;s replace <code>SITENAME</code> with <code>foobar</code> for this example.</p>
<p>So we run <code>jekyll new foobar</code>, which gives us:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>New jekyll site installed in /Users/scottmac2/foobar.
</span></span></code></pre></div><p>Go into that directory, and run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd foobar
</span></span><span style="display:flex;"><span>jekyll serve
</span></span></code></pre></div><p>Which gives you the files and directories:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>|
</span></span><span style="display:flex;"><span>--|- _config.yml
</span></span><span style="display:flex;"><span>  |- _posts
</span></span><span style="display:flex;"><span>  |- css
</span></span><span style="display:flex;"><span>  |- _layouts
</span></span><span style="display:flex;"><span>  |- _site
</span></span><span style="display:flex;"><span>  |- index.html
</span></span></code></pre></div><p>Then point your browser to <a href="http://localhost:4000/">http://localhost:4000/</a>. And you should see the following:</p>
<p><img loading="lazy" src="http://f.cl.ly/items/2q322a2P3f2m2A3a3l0O/Screen%20Shot%202013-11-20%20at%209.54.21%20AM.png" alt=""  />
</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="write-a-new-blog-post">Write a new blog post</h3>
<p>We&rsquo;ll add a new file to the <code>_posts</code> folder.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>layout: post
</span></span><span style="display:flex;"><span>title:  My second post
</span></span><span style="display:flex;"><span>date:   2013-11-20
</span></span><span style="display:flex;"><span>categories: jekyll programming R
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>My second blog post!
</span></span></code></pre></div><p>Paste this in to a new file in the <code>_posts</code> folder, save as today&rsquo;s date ({{ page.date | date: &ldquo;%Y-%m-%d&rdquo; }}) plus the post name, which gives us {{ page.date | date: &ldquo;%Y-%m-%d&rdquo; }}-second-post.md.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="deploying">Deploying</h3>
<p>An obvious option given that Jekyll was built by Github, is to put it up on Github. Github has some instructions <a href="http://jekyllrb.com/docs/github-pages/">here</a>. Here is my attempt at instructions:</p>
<ul>
<li>If you don&rsquo;t have a Github account already, <a href="https://help.github.com/articles/signing-up-for-a-new-github-account">create one</a> - it&rsquo;s free.</li>
<li>Set up Git. Github&rsquo;s help for this: <a href="https://help.github.com/articles/set-up-git">https://help.github.com/articles/set-up-git</a></li>
<li>Creat a new repo on Github, with the same name as your repo on your machine, in this case <code>foobar</code>.</li>
<li>Make your new blog directory <code>foobar</code> a git repo by doing <code>git init</code> within the repo.</li>
<li>Add you files to be tracked by git via <code>git add --all</code></li>
<li>Commit your changes by <code>git commit -am 'new blog files added'</code></li>
<li>Make a <code>gh-pages</code> branch by doing <code>git branch gh-pages</code>.</li>
<li>Add link for your repo on Github: <code>git remote add origin https://github.com/&lt;yourgithubusername&gt;/foobar.git</code></li>
<li>Push to Github using <code>git push -u origin master</code></li>
</ul>
<p>Github gives you one repo that you can name <code>&lt;yourgithubusername&gt;.github.io</code> that will be viewable at the URL <code>http://&lt;yourgithubusername&gt;.github.io</code>. You can have your blog/website on the master branch, and you don&rsquo;t need to create a <code>gh-pages</code> branch. But if you have your site in any other named repo, you will need the <code>gh-pages</code> branch. If you don&rsquo;t use a <code>&lt;yourgithubusername&gt;.github.io</code> repo, your site will be viewable at <code>&lt;yourgithubusername&gt;.github.io/&lt;reponame&gt;</code>, in this case <code>&lt;yourgithubusername&gt;.github.io/foobar</code>.</p>
<p><em>Beginners take note:</em> Instead of the command line, you could use a Git GUI, from Github (<a href="http://mac.github.com/">OSX</a>, <a href="http://windows.github.com/">Windows</a>), or others, e.g., <a href="http://gitboxapp.com/">GitBox</a>.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="other-info">Other info</h3>
<p>That&rsquo;s the basics of how to get started. Inevitably, you&rsquo;ll run into problems with various dependencies. The <a href="http://jekyllrb.com/">Jekyll site</a> has a lot of documntation now, so go there for help - and see a roundup of links below.</p>
<p>For inspiration, here are many examples of sites that use Jekyll: <a href="http://jekyllrb.com/docs/sites/">http://jekyllrb.com/docs/sites/</a>. If you want to build off someone else&rsquo;s work, find one that provides their code.</p>
<hr>
<p>A roundup of links for building static sites with jekyll</p>
<ul>
<li><a href="http://net.tutsplus.com/tutorials/other/building-static-sites-with-jekyll/">http://net.tutsplus.com/tutorials/other/building-static-sites-with-jekyll/</a></li>
<li><a href="http://www.andrewmunsell.com/tutorials/jekyll-by-example/">http://www.andrewmunsell.com/tutorials/jekyll-by-example/</a></li>
<li><a href="http://jekyllbootstrap.com/">Jekyll Bootstrap</a></li>
<li>Jekyll thoughts by <a href="http://carlboettiger.info/index.html">Carl Boettiger</a>: <a href="http://carlboettiger.info/2012/12/30/learning-jekyll.html">http://carlboettiger.info/2012/12/30/learning-jekyll.html</a></li>
<li><a href="http://danielmcgraw.com/2011/04/14/The-Ultimate-Guide-To-Getting-Started-With-Jekyll-Part-1/">http://danielmcgraw.com/2011/04/14/The-Ultimate-Guide-To-Getting-Started-With-Jekyll-Part-1/</a></li>
<li><a href="http://mijingo.com/products/screencasts/static-websites-with-jekyll/">A book on building sites with Jekyll</a></li>
<li><a href="http://yeswejekyll.com/">http://yeswejekyll.com/</a></li>
<li><a href="http://hellarobots.com/2012/01/06/blogging-with-jekyll-quickstart.html">http://hellarobots.com/2012/01/06/blogging-with-jekyll-quickstart.html</a></li>
<li><a href="http://www.sitepoint.com/zero-to-jekyll-in-20-minutes/">http://www.sitepoint.com/zero-to-jekyll-in-20-minutes/</a></li>
</ul>
]]></description>
    </item>
    <item>
      <title>On writing, sharing, collaborating, and hosting code for science</title>
      <link>http://localhost:1313/2013/07/code/</link>
      <pubDate>Sat, 20 Jul 2013 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2013/07/code/</guid>
      <description><![CDATA[<p>I recently engaged with a number of tweeps in response to my tweet:</p>
<blockquote>
<p>Rule number 1 wrt science code: DO NOT post your code on your personal website</p>
</blockquote>
<p>That tweet wasn&rsquo;t super clear, and it&rsquo;s difficult to convey my thoughts in a tweet. What I should have said was do post your code - ideally on Github/Bitbucket/etc. Here goes with a much longer version to explain what I meant. The tweet was just about where to host code, whereas the following is about more than that, but related.</p>
<h3 id="code-writing-during-analyses-etc">Code writing during analyses, etc.</h3>
<p>When you write code to do simulations, analyses, data manipulation, visualization - whatever it is - it helps to version your code. That is, not naming files like <em>myfile_v1.r</em>, <em>myfile_v2.r</em>, etc., but with versioning using version control systems (VCS) like <a href="http://git-scm.com/">git</a>, <a href="http://subversion.apache.org/">svn</a>, <a href="http://mercurial.selenic.com/wiki/">mercurial</a>, etc. Although git will give you headaches during the learning process, it takes care of versioning your code for you, finding differences in different versions, helps you manage conflicts from different contributors, and allows you to restore that old code you accidentally deleted.</p>
<p>And you don&rsquo;t have to use git or svn on a code hosting site - you can use git or svn locally on your own machine. However, there are many benefits to putting your code up on the interwebs.</p>
<h3 id="collaborating-on-code">Collaborating on code</h3>
<p>Whenever you collaborate on code writing you have the extreme joy of dealing with conflicts. Perhaps you use Dropbox for collaborating on some code writing. Crap, now there is a line of code that messes up the analysis, and you don&rsquo;t know who put it there, and why it&rsquo;s there. Wouldn&rsquo;t it be nice to have a place to collect bugs in the code.</p>
<p>All of these things become easy if you host code on a service such as Github. If you are already versioning your code with git you are in luck - all you need to do is create an account on github/bitbucket and push your code up. If not, you should definitley learn git.</p>
<p>Hosting your code on Github (or Bitbucket, etc.) allows each collaborator to work separately on the code simultaneously, then merge their code together, while git helps you take care of merging. An awesome feature of git (and other VCS&rsquo;s) is branching. What the heck is that? Basically, you can create a complete copy of your git project, do any changes you want, then throw it away or merge it back in to your main branch. Pretty sweet.</p>
<h3 id="sharing-your-code">Sharing your code</h3>
<p>Whether sharing your code with a collaborator, or with the world, if you put code on a website created specifically for hosting code, I would argue your life would be easier. Groups like Github and Bitbucket have solved a lot of problems around versioning code, displaying it, etc., whereas your website (whether it be Google sites, Wordpress, Tumblr, etc.) can not say the same.</p>
<p>It is becoming clear to many that open science has many benefits. For the sake of transparency and contributing to the public science good, I would argue that sharing your code is the right thing to do, especially given that most of us are publicly funded. However, even if you don&rsquo;t want to share your code publicly, you can get free private hosting with an <a href="https://github.com/edu">academic discount on Github</a>, and Bitbucket gives you private hosting for free.</p>
<h3 id="contributing-to-the-software-you-use">Contributing to the software you use</h3>
<p>Much of the software you and I use in R, Python, etc. is likely hosted on a code hosting platform such as Github, Bitbucket, R-Forge, etc. Code gets better faster if its users report bugs and request features to the software authors. By creating an account on Github, for example, to host your own code, you can easily report bugs or request features where others are developing software you use. This is better than email as only those two people get the benefit of learning from the conversation - while engaging where the software is created, or on a related mailing list, helps everyone.</p>
<h3 id="on-long-term-availability-of-code">On long-term availability of code</h3>
<p>Where is the best place to host your code in the long-term. Some may trust their own website over a company - a company can go out of business, be sold to another company and then be shut down, etc. However, code on personal websites can also be lost if a person moves institutions, etc. If you use a VCS, and host your code on Bitbucket/Github/Etc., even if they shut down, you will always have the same code that was up on their site, and you can host it on the newer awesome code hosting site. In addition, even if a company shuts down and you have to move your code, you are getting all the benefits as stated above.</p>
<h3 id="anyway">Anyway&hellip;</h3>
<p>My point is this: do post your code somewhere, even if on your own site, but I think you&rsquo;ll find that you and others can get the most out of your code if you host it on Bitbucket, Github, etc. Do tell me if you think I&rsquo;m wrong and why.</p>
<h3 id="a-few-resources-if-youre-so-inclined">A few resources if you&rsquo;re so inclined</h3>
<ul>
<li><a href="http://hybridpedagogy.com/Journal/files/GitHub_for_Academics.html">Push, Pull, Fork: GitHub for Academics</a></li>
<li>Carl Boettiger has some interesting posts on <a href="http://carlboettiger.info/2012/05/06/research-workflow.html">research workflow</a> and <a href="http://carlboettiger.info/2012/12/06/github-issues-tracker:-the-perfect-research-todo-list">github issues as a research to do list</a></li>
<li>Do have a look at <a href="http://inundata.org/">Karthik Ram&rsquo;s</a> paper on how git can facilitate greater reproducibility and transparency in science <a href="http://www.scfbm.org/content/8/1/7/abstract">here</a>.</li>
<li>Github is posting a bunch of videos on Youtube that are quite helpful for learning how to use git and Github <a href="https://www.youtube.com/channel/UCP7RrmoueENv9TZts3HXXtw">here</a></li>
<li>Git GUIs make using git easier:
<ul>
<li><a href="http://www.sourcetreeapp.com/">SourceTree</a></li>
<li><a href="http://gitboxapp.com/">GitBox</a></li>
<li><a href="http://mac.github.com/">Github&rsquo;s git GUI</a></li>
</ul>
</li>
</ul>
]]></description>
    </item>
    <item>
      <title>Visualizing rOpenSci collaboration</title>
      <link>http://localhost:1313/2013/03/ropensci-collaboration/</link>
      <pubDate>Fri, 08 Mar 2013 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2013/03/ropensci-collaboration/</guid>
      <description><![CDATA[<p>We (<a href="http://ropensci.org/">rOpenSci</a>) have been writing code for R packages for a couple years, so it is time to take a look back at the data. What data you ask? The commits data from GitHub ~ data that records who did what and when.</p>
<p>Using the <a href="http://developer.github.com/v3/repos/commits/">Github commits API</a> we can gather data on who commited code to a Github repository, and when they did it. Then we can visualize this hitorical record.</p>
<h3 id="install-some-functions-for-interacting-with-the-github-api-via-r">Install some functions for interacting with the Github API via R</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#39;sandbox&#39;</span>, <span style="color:#e6db74">&#39;ropensci&#39;</span>) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(sandbox)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(httr)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(ggplot2)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(scales)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(reshape2)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(bipartite)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(doMC)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(plyr)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(ggthemes)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(picante)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># And authenticate - pops open a page in your default browser, then tells </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># you authentication was successful</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">github_auth</span>()
</span></span></code></pre></div><h3 id="get-all-repos-for-an-organization-here-ropensci-of-course">Get all repos for an organization, here ropensci of course</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>ropensci_repos <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">github_allrepos</span>(userorg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ropensci&#34;</span>)
</span></span></code></pre></div><h3 id="get-commits-broken-down-in-to-additions-and-deletions-though-below-we-just-collapse-them-to-all-commits">Get commits broken down in to additions and deletions, though below we just collapse them to all commits</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">registerDoMC</span>(cores <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>github_commits_safe <span style="color:#f92672">&lt;-</span> plyr<span style="color:#f92672">::</span><span style="color:#a6e22e">failwith</span>(<span style="color:#66d9ef">NULL</span>, github_commits)
</span></span><span style="display:flex;"><span>out <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">llply</span>(ropensci_repos, <span style="color:#66d9ef">function</span>(x) <span style="color:#a6e22e">github_commits_safe</span>(<span style="color:#e6db74">&#34;ropensci&#34;</span>, x, 
</span></span><span style="display:flex;"><span>    since <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;2009-01-01T&#34;</span>, limit <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>), .parallel <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">names</span>(out) <span style="color:#f92672">&lt;-</span> ropensci_repos
</span></span><span style="display:flex;"><span>out2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">compact</span>(out)
</span></span><span style="display:flex;"><span>outdf <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ldply</span>(out2)
</span></span></code></pre></div><h3 id="plot-commits-by-date-and-repo">Plot commits by date and repo</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>outdf_subset <span style="color:#f92672">&lt;-</span> outdf[<span style="color:#f92672">!</span>outdf<span style="color:#f92672">$</span>.id <span style="color:#f92672">%in%</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;citeulike&#34;</span>, <span style="color:#e6db74">&#34;challenge&#34;</span>, <span style="color:#e6db74">&#34;docs&#34;</span>, <span style="color:#e6db74">&#34;ropensci-book&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;usecases&#34;</span>, <span style="color:#e6db74">&#34;textmine&#34;</span>, <span style="color:#e6db74">&#34;usgs&#34;</span>, <span style="color:#e6db74">&#34;ropenscitoolkit&#34;</span>, <span style="color:#e6db74">&#34;neotoma&#34;</span>, <span style="color:#e6db74">&#34;rEWDB&#34;</span>, <span style="color:#e6db74">&#34;rgauges&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;rodash&#34;</span>, <span style="color:#e6db74">&#34;ropensci.github.com&#34;</span>, <span style="color:#e6db74">&#34;ROAuth&#34;</span>), ]
</span></span><span style="display:flex;"><span>outdf_subset<span style="color:#f92672">$</span>.id <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">tolower</span>(outdf_subset<span style="color:#f92672">$</span>.id)
</span></span><span style="display:flex;"><span>outdf_subset <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(outdf_subset, .(.id, date), summarise, value <span style="color:#f92672">=</span> <span style="color:#a6e22e">sum</span>(value))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mindates <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">llply</span>(<span style="color:#a6e22e">unique</span>(outdf_subset<span style="color:#f92672">$</span>.id), <span style="color:#66d9ef">function</span>(x) <span style="color:#a6e22e">min</span>(outdf_subset[outdf_subset<span style="color:#f92672">$</span>.id <span style="color:#f92672">==</span> 
</span></span><span style="display:flex;"><span>    x, <span style="color:#e6db74">&#34;date&#34;</span>]))
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">names</span>(mindates) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">unique</span>(outdf_subset<span style="color:#f92672">$</span>.id)
</span></span><span style="display:flex;"><span>mindates <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sort</span>(<span style="color:#a6e22e">do.call</span>(c, mindates))
</span></span><span style="display:flex;"><span>outdf_subset<span style="color:#f92672">$</span>.id <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(outdf_subset<span style="color:#f92672">$</span>.id, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">names</span>(mindates))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(outdf_subset, <span style="color:#a6e22e">aes</span>(date, value, fill <span style="color:#f92672">=</span> .id)) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_bar</span>(stat <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;identity&#34;</span>, width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_rangeframe</span>(sides <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;b&#34;</span>, colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;grey&#34;</span>) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme_bw</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_x_date</span>(labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">date_format</span>(<span style="color:#e6db74">&#34;%Y&#34;</span>), breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">date_breaks</span>(<span style="color:#e6db74">&#34;year&#34;</span>)) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scale_y_log10</span>() <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">facet_grid</span>(.id <span style="color:#f92672">~</span> .) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">labs</span>(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme</span>(axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>        axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>), 
</span></span><span style="display:flex;"><span>        axis.ticks.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>        strip.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(angle <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>, ), 
</span></span><span style="display:flex;"><span>        strip.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>), 
</span></span><span style="display:flex;"><span>        panel.grid.major <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>        panel.grid.minor <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>        legend.text <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>), 
</span></span><span style="display:flex;"><span>        legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>, 
</span></span><span style="display:flex;"><span>        panel.border <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>())
</span></span></code></pre></div><p><img loading="lazy" src="/commitsbydate.png" alt="center"  />
</p>
<p>The plot above plots the sum of additions+deletions, and is sorted by the first commit date of reach repo, with the first being <a href="https://github.com/ropensci/treeBASE">treebase</a>, which wraps the <a href="http://treebase.org/treebase-web/urlAPI.html">Treebase API</a>, and the most recent being <a href="https://github.com/ropensci/rWBclimate">rwbclimate</a>, which wraps the <a href="http://data.worldbank.org/developers/climate-data-api">World Blank climate data API</a>.</p>
<p>You can see that some repos have recieved commits more or less consistently over their life time, while others have seen a little development here and there.
w</p>
<h3 id="in-addition-there-are-quite-a-few-people-that-have-committed-code-now-to-ropensci-repos-calling-for-a-network-vizualization-of-course">In addition, there are quite a few people that have committed code now to rOpenSci repos, calling for a network vizualization of course.</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>outdf_network <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">droplevels</span>(outdf[<span style="color:#f92672">!</span>outdf<span style="color:#f92672">$</span>.id <span style="color:#f92672">%in%</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;citeulike&#34;</span>, <span style="color:#e6db74">&#34;challenge&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;docs&#34;</span>, <span style="color:#e6db74">&#34;ropensci-book&#34;</span>, <span style="color:#e6db74">&#34;usecases&#34;</span>, <span style="color:#e6db74">&#34;textmine&#34;</span>, <span style="color:#e6db74">&#34;usgs&#34;</span>, <span style="color:#e6db74">&#34;ropenscitoolkit&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;retriever&#34;</span>, <span style="color:#e6db74">&#34;rodash&#34;</span>, <span style="color:#e6db74">&#34;ropensci.github.com&#34;</span>, <span style="color:#e6db74">&#34;ROAuth&#34;</span>, <span style="color:#e6db74">&#34;rgauges&#34;</span>, <span style="color:#e6db74">&#34;sandbox&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;rfna&#34;</span>, <span style="color:#e6db74">&#34;rmetadata&#34;</span>, <span style="color:#e6db74">&#34;rhindawi&#34;</span>, <span style="color:#e6db74">&#34;rpmc&#34;</span>, <span style="color:#e6db74">&#34;rpensoft&#34;</span>, <span style="color:#e6db74">&#34;ritis&#34;</span>), ])
</span></span><span style="display:flex;"><span>casted <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">dcast</span>(outdf_network, .id <span style="color:#f92672">+</span> date <span style="color:#f92672">+</span> name <span style="color:#f92672">~</span> variable, fun.aggregate <span style="color:#f92672">=</span> length, 
</span></span><span style="display:flex;"><span>    value.var <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;value&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">names</span>(casted)[1] <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;repo&#34;</span>
</span></span><span style="display:flex;"><span>casted2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(casted, .(repo, name), summarise, commits <span style="color:#f92672">=</span> <span style="color:#a6e22e">sum</span>(additions))
</span></span><span style="display:flex;"><span>casted2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(repo <span style="color:#f92672">=</span> casted2<span style="color:#f92672">$</span>repo, weight <span style="color:#f92672">=</span> casted2<span style="color:#f92672">$</span>commits, name <span style="color:#f92672">=</span> casted2<span style="color:#f92672">$</span>name)
</span></span><span style="display:flex;"><span>mat <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sample2matrix</span>(casted2)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plotweb</span>(<span style="color:#a6e22e">sortweb</span>(mat, sort.order <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dec&#34;</span>), method <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;normal&#34;</span>, text.rot <span style="color:#f92672">=</span> <span style="color:#ae81ff">90</span>, 
</span></span><span style="display:flex;"><span>    adj.high <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">-0.3</span>, <span style="color:#ae81ff">0</span>), adj.low <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">-0.3</span>), y.width.low <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.05</span>, y.width.high <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.05</span>, 
</span></span><span style="display:flex;"><span>    ybig <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.09</span>, labsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.7</span>)
</span></span></code></pre></div><p><img loading="lazy" src="/collabnetwork.png" alt="center"  />
</p>
<p>The plot above shows repos on one side and contributors on the other. Some folks (the core rOpenSci team: cboettig, karthikram, emhart, and schamberlain) have committed quite a lot to many packages. We also have amny awesome contributors to our packages (some contributors and repos have been removed for clarity).</p>
<p>rOpenSci is truly a collaborative effort to develop tools for open science, so thanks to all our contributors - keep on forking, pull requesting, and commiting.</p>
]]></description>
    </item>
    <item>
      <title>Visualize your Github stats (forks and watchers) in a browser with R!</title>
      <link>http://localhost:1313/2012/05/opencpu-github-stats/</link>
      <pubDate>Sat, 05 May 2012 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2012/05/opencpu-github-stats/</guid>
      <description><![CDATA[<p>So <a href="http://opencpu.org/">OpenCPU</a> is pretty awesome.  You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it.</p>
<p>Go <a href="http://beta.opencpu.org/apps/opencpu.demo/storefunction/">here</a> to store a function.  And you can output lots of different types of things: png, pdf, json, etc - see <a href="http://opencpu.org/documentation/outputs/">here</a>.</p>
<p>Here&rsquo;s a function I created (originally from <a href="https://gist.github.com/2602432">https://gist.github.com/2602432</a>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Store a function with man lines</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Go Here: http://beta.opencpu.org/apps/opencpu.demo/storefunction/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># number: x3e50ee0780</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># link: http://beta.opencpu.org/R/call/store:tmp/x3e50ee0780/png?id=&#39;ropensci&#39;&amp;type=&#39;org&#39;</span>
</span></span><span style="display:flex;"><span>the <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span> (id <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;hadley&#39;</span>, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;user&#39;</span>) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">require</span>(RCurl); <span style="color:#a6e22e">require</span>(RJSONIO); <span style="color:#a6e22e">require</span>(ggplot2); <span style="color:#a6e22e">require</span>(reshape2); <span style="color:#a6e22e">require</span>(plyr)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(type <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;user&#39;</span>){ url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.github.com/users/&#34;</span> } <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(type <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;org&#39;</span>){ url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.github.com/orgs/&#34;</span> } <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;parameter &#39;type&#39; has to be either &#39;user&#39; or &#39;org&#39; &#34;</span>)
</span></span><span style="display:flex;"><span>  url2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(url, id, <span style="color:#e6db74">&#34;/repos?per_page=100&#34;</span>, sep <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>  xx <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">getURL</span>(url2)
</span></span><span style="display:flex;"><span>  tt <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">fromJSON</span>(xx)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">length</span>(tt) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) { tt <span style="color:#f92672">&lt;-</span> tt } <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    { <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;user or organization not found - search GitHub? - https://github.com/&#34;</span>) }   
</span></span><span style="display:flex;"><span>  out <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ldply</span>(tt, <span style="color:#66d9ef">function</span>(x) <span style="color:#a6e22e">t</span>(<span style="color:#a6e22e">c</span>(x<span style="color:#f92672">$</span>name, x<span style="color:#f92672">$</span>forks, x<span style="color:#f92672">$</span>watchers)))
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(out) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Repo&#34;</span>, <span style="color:#e6db74">&#34;Forks&#34;</span>, <span style="color:#e6db74">&#34;Watchers&#34;</span>)
</span></span><span style="display:flex;"><span>  out<span style="color:#f92672">$</span>Forks <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.integer</span>(out<span style="color:#f92672">$</span>Forks)
</span></span><span style="display:flex;"><span>  out<span style="color:#f92672">$</span>Watchers <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.integer</span>(out<span style="color:#f92672">$</span>Watcher)
</span></span><span style="display:flex;"><span>  out2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">melt</span>(out, id <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>  out2<span style="color:#f92672">$</span>value <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.numeric</span>(out2<span style="color:#f92672">$</span>value)
</span></span><span style="display:flex;"><span>  out2<span style="color:#f92672">$</span>Repo <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.factor</span>(out2<span style="color:#f92672">$</span>Repo)
</span></span><span style="display:flex;"><span>  repoorder <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">unique</span>(out2<span style="color:#a6e22e">[order</span>(out2<span style="color:#f92672">$</span>value, decreasing<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>),][,<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>  out2<span style="color:#f92672">$</span>Repo <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(out2<span style="color:#f92672">$</span>Repo, levels <span style="color:#f92672">=</span> repoorder)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(out2, <span style="color:#a6e22e">aes</span>(Repo, value)) <span style="color:#f92672">+</span> <span style="color:#a6e22e">geom_bar</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">coord_flip</span>() <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">facet_wrap</span>(<span style="color:#f92672">~</span>variable) <span style="color:#f92672">+</span> <span style="color:#a6e22e">theme_bw</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>() <span style="color:#75715e"># default for hadley</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;defunkt&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#75715e"># works - a user with even more repos than Hadley</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ropensci&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;org&#39;</span>) <span style="color:#75715e"># works - organization example</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;jeroenooms&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#75715e"># works - organization example</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;SChamberlain&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;org&#39;</span>) <span style="color:#75715e"># error message - mismatch of username with org type</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">the</span>(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;adsff&#39;</span>, type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#75715e"># error message - name does not exist</span>
</span></span></code></pre></div><p>It makes a <a href="http://had.co.nz/ggplot2/">ggplot2</a> graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.</p>
<p>Here&rsquo;s an example from the function.  Paste the following in to your browser and you should get the below figure.</p>
<p><a href="http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png">http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png</a></p>
<p><img loading="lazy" src="/hadley.png" alt="had"  />
</p>
<p>And you can specify user or organization name using arguments in the URL</p>
<p><a href="http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type='org'&amp;id='ropensci'">http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type='org'&amp;id='ropensci'</a></p>
<p><img loading="lazy" src="/ropensci.png" alt="ropensci"  />
</p>
<p>Sweet. Have fun.</p>
]]></description>
    </item>
  </channel>
</rss>
