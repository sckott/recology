<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Text-Mining on Recology</title>
    <link>http://localhost:1313/tags/text-mining/</link>
    <description>Recent content in Text-Mining on Recology</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 21 Mar 2019 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/text-mining/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>text mining, apis, and parsing api logs</title>
      <link>http://localhost:1313/2019/03/apis-text-mining-logs/</link>
      <pubDate>Thu, 21 Mar 2019 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2019/03/apis-text-mining-logs/</guid>
      <description>Acquiring full text articles fulltext is an R package I maintain to obtain full text versions of research articles for text mining.
It&amp;rsquo;s a hard problem, with a spaghetti web of code. One of the hard problems is figuring out what the URL is for the full text version of an article. Publishers do not have consistent URL patterns through time, and so you can not set rules once and never revisit them.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<h2 id="acquiring-full-text-articles">Acquiring full text articles</h2>
<p><a href="https://github.com/ropensci/fulltext/">fulltext</a> is an R package I maintain to obtain full text versions of research articles
for text mining.</p>
<p>It&rsquo;s a hard problem, with a spaghetti web of code. One of the hard problems is
figuring out what the URL is for the full text version of an article. Publishers
do not have consistent URL patterns through time, and so you can not set rules once
and never revisit them.</p>
<p>The <a href="https://github.com/CrossRef/rest-api-doc">Crossref API</a> has links available to
full text versions for publishers that choose to share them. However, even if
publishers choose to share their full text links, they may be out of date or completely
wrong (not actually lead to the full text).</p>
<p>There&rsquo;s a variety of other APIs out there for getting links to articles, but none
really hit the spot, which lead to the creation of the <a href="https://ftdoi.org/">ftdoi API</a>.</p>
<h2 id="the-ftdoi-api">the ftdoi API</h2>
<p>The <a href="https://ftdoi.org/">ftdoi API</a> is a web API, with it&rsquo;s main goal for getting a best guess at
the URL for the full text version of an article from its DOI (this is done via the
<code>/api/doi/{doi}/</code> route). The API gives back URLs for all those possible, including
pdf, xml, and html. Most publishers only give full text as PDF, but when XML is
available we give those URLs as well.</p>
<p>The API uses the rules maintained in the <a href="https://github.com/ropenscilabs/pubpatterns/tree/master/src">pubpatterns</a>
repo. The rules are only rough guidelines though and often require at least one
step of making a web request to the publishers site or another site, that&rsquo;s NOT
specified in the pubpatterns rules. For example, the <a href="https://github.com/ropenscilabs/pubpatterns/blob/master/src/biorxiv.json">Biorxiv file</a>
has notes about how to get the parts necessary for the full URL, but the actual logic
to do so in in the API code base <a href="https://github.com/ropenscilabs/pubpatternsapi/blob/master/utils.rb#L590-L601">here</a>.</p>
<p>The ftdoi API caches responses for requests for 24 hrs, so even if a request takes 5 seconds
or so to process, at least for the next 24 hrs it will be nearly instantaneous. We don&rsquo;t
want to cache indefinitely because URLs may be changed at any time by the publishers.</p>
<p>The <code>fulltext</code> package uses the ftdoi API internally, mostly hidden from users, to
get a full text URL.</p>
<h2 id="but-why-an-api">But why an API?</h2>
<p>Why not just have a set of rules in the <code>fulltext</code> R package, and go from there?
An API was relatively easy for me to stand up, and i think it has many benefits:
can be used by anything/anyone, not just R users; updates to publisher specific
rules for generating URLs can evolve independently of <code>fulltext</code>; the logs
can be used as a tool to improve the API.</p>
<h2 id="what-do-people-actually-want">what do people actually want?</h2>
<p>The ftdoi API has been running for a while now, maybe a year or so, and I&rsquo;ve been
collecting logs. Seems smart to look at the logs to determine what publishers
users are requesting articles from that the ftdoi API does not currently support,
so that the API can hopefully add those publishers. For obvious reasons, I can&rsquo;t share
the log data.</p>
<p>Load packages and define file path.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rcrossref)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(dplyr)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rex)
</span></span><span style="display:flex;"><span>logs <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;~/pubpatterns_api_calls.log&#34;</span>
</span></span></code></pre></div><p>The logs look like (IP addresses removed, some user agents shortened):</p>
<pre tabindex="0"><code>[28/Nov/2018:20:09:49 +0000] GET /api/members/  HTTP/2.0 200 4844 Mozilla/5.0 ...
[28/Nov/2018:20:23:15 +0000] GET /api/members/317/  HTTP/2.0 200 228 Mozilla/5.0 ...
[29/Nov/2018:01:52:58 +0000] GET /api/members/19/  HTTP/1.1 400 65 fulltext/1.1.0
[29/Nov/2018:01:52:58 +0000] GET /api/members/2308/  HTTP/1.1 400 65 fulltext/1.1.0
[29/Nov/2018:01:52:59 +0000] GET /api/members/239/  HTTP/1.1 400 65 fulltext/1.1.0
[29/Nov/2018:01:53:00 +0000] GET /api/members/2581/  HTTP/1.1 400 65 fulltext/1.1.0
[29/Nov/2018:01:53:00 +0000] GET /api/members/27/  HTTP/1.1 400 65 fulltext/1.1.0
[29/Nov/2018:01:53:01 +0000] GET /api/members/297/  HTTP/1.1 200 336 fulltext/1.1.0
[29/Nov/2018:01:53:01 +0000] GET /api/members/7995/  HTTP/1.1 400 65 fulltext/1.1.0
[29/Nov/2018:10:46:53 +0000] GET /api/members/unknown/  HTTP/1.1 400 65 fulltext/1.1.0.9130
</code></pre><p>Use the awesome <a href="https://github.com/kevinushey/rex/">rex</a> package from Kevin Ushey et al. to parse the logs, pulling out
just the Crossref member ID in the API request, as well as the HTTP status code. There
are of course other API requests in the logs, but we&rsquo;re only interested here in the ones
to the <code>/api/doi/{doi}/</code> route.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">tbl_df</span>(<span style="color:#a6e22e">scan</span>(logs, what <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;character&#34;</span>, sep <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;\n&#34;</span>) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">re_matches</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">rex</span>(
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/api/members/&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">capture</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;route&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">one_or_more</span>(numbers)
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;/&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      space, space, <span style="color:#e6db74">&#34;HTTP/&#34;</span>, numbers, <span style="color:#e6db74">&#34;.&#34;</span>, numbers, space,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">capture</span>(name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;status_code&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">one_or_more</span>(numbers)
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  ))
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">$</span>route <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.numeric</span>(df<span style="color:#f92672">$</span>route)
</span></span><span style="display:flex;"><span>df
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # A tibble: 896,035 x 2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    route status_code</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    &lt;dbl&gt; &lt;chr&gt;      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  1    NA &lt;NA&gt;       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  2   317 200        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  3    19 400        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  4  2308 400        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  5   239 400        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  6  2581 400        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  7    27 400        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  8   297 200        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  9  7995 400        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10    NA &lt;NA&gt;       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # … with 896,025 more rows</span>
</span></span></code></pre></div><p>Filter to those requests that resulted in a 400 HTTP status code, that is, they
resulted in no returned data, indicating that we likely do not have a mapping for that
Crossref member.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>res <span style="color:#f92672">&lt;-</span> df <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">filter</span>(status_code <span style="color:#f92672">==</span> <span style="color:#ae81ff">400</span>) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">select</span>(route) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(route) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">summarize</span>(count <span style="color:#f92672">=</span> <span style="color:#a6e22e">n</span>()) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">arrange</span>(<span style="color:#a6e22e">desc</span>(count))
</span></span><span style="display:flex;"><span>res
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # A tibble: 530 x 2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    route  count</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    &lt;dbl&gt;  &lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  1    10 345045</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  2   530   7165</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  3   286   3062</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  4   276   2975</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  5   239   2493</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  6  8611   1085</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  7    56    853</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  8   235    722</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  9   382    706</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10   175    590</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # … with 520 more rows</span>
</span></span></code></pre></div><p>Add crossref metadata</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(members <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cr_members</span>(res<span style="color:#f92672">$</span>route))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $meta</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # A tibble: 530 x 56</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;       id primary_name location last_status_che… total.dois current.dois</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    &lt;date&gt;           &lt;chr&gt;      &lt;chr&gt;       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  1    10 American Me… 330 N. … 2019-03-20       600092     14714       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  2   530 FapUNIFESP … FAP-UNI… 2019-03-20       353338     38339       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  3   286 Oxford Univ… Academi… 2019-03-20       3696643    289338      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  4   276 Ovid Techno… 100 Riv… 2019-03-20       2059352    167272      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  5   239 BMJ          BMA Hou… 2019-03-20       891239     61267       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  6  8611 AME Publish… c/o NAN… 2019-03-20       20067      15666       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  7    56 Cambridge U… The Edi… 2019-03-20       1529029    84018       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  8   235 American So… 1752 N … 2019-03-20       178890     13984       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  9   382 Joule Inc.   1031 Ba… 2019-03-20       12666      1868        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10   175 The Royal S… 6 Carlt… 2019-03-20       89219      7262        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # … with 520 more rows, and 50 more variables: backfile.dois &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   prefixes &lt;chr&gt;, coverge.affiliations.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.similarity.checking.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.funders.backfile &lt;chr&gt;, coverge.licenses.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.funders.current &lt;chr&gt;, coverge.affiliations.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.resource.links.backfile &lt;chr&gt;, coverge.orcids.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.update.policies.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.open.references.backfile &lt;chr&gt;, coverge.orcids.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.similarity.checking.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.references.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.award.numbers.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.update.policies.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.licenses.current &lt;chr&gt;, coverge.award.numbers.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.abstracts.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.resource.links.current &lt;chr&gt;, coverge.abstracts.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.open.references.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   coverge.references.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.abstracts.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.orcids.current &lt;chr&gt;, flags.deposits &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.affiliations.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.update.policies.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.similarity.checking.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.award.numbers.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.resource.links.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.articles &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.affiliations.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.funders.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.references.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.abstracts.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.licenses.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.award.numbers.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.open.references.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.open.references.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.references.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.resource.links.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.orcids.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.funders.backfile &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.update.policies.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.similarity.checking.current &lt;chr&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; #   flags.deposits.licenses.current &lt;chr&gt;, names &lt;chr&gt;, tokens &lt;chr&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $facets</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; NULL</span>
</span></span></code></pre></div><p>Add Crossref member names to the log data.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>alldat <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">left_join</span>(res, <span style="color:#a6e22e">select</span>(members<span style="color:#f92672">$</span>data, id, primary_name),
</span></span><span style="display:flex;"><span>  by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;route&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;id&#34;</span>))
</span></span><span style="display:flex;"><span>alldat
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # A tibble: 530 x 3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    route  count primary_name                             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;    &lt;dbl&gt;  &lt;int&gt; &lt;chr&gt;                                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  1    10 345045 American Medical Association (AMA)       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  2   530   7165 FapUNIFESP (SciELO)                      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  3   286   3062 Oxford University Press (OUP)            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  4   276   2975 Ovid Technologies (Wolters Kluwer Health)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  5   239   2493 BMJ                                      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  6  8611   1085 AME Publishing Company                   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  7    56    853 Cambridge University Press (CUP)         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  8   235    722 American Society for Microbiology        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  9   382    706 Joule Inc.                               </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10   175    590 The Royal Society                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; # … with 520 more rows</span>
</span></span></code></pre></div><p>Theres <strong>A LOT</strong> of requests to the American Medical Association. Coming in
a distant second is FapUNIFESP (SciELO), then the Oxford University Press,
Ovid Technologies (Wolters Kluwer Health), BMJ, and AME Publishing Company,
all with greater than 1000 requests.</p>
<p>These are some clear leads for publishers to work into the ftdoi API, working
my way down the data.frame to less frequently requested publishers.</p>
<h2 id="more-work-to-do">more work to do</h2>
<p>I&rsquo;ve got a good list of publishers which I know users want URLs for, so
I can get started implementing rules/etc. for those publishers. And I can
repeat this process from time to time to add more publishers in high demand.</p>
]]></content:encoded>
    </item>
    <item>
      <title>nonoyes - text analysis of Reply All podcast transcripts</title>
      <link>http://localhost:1313/2016/08/no-no-yes/</link>
      <pubDate>Thu, 25 Aug 2016 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2016/08/no-no-yes/</guid>
      <description>Setup URLs Episode names Transcripts Summary word usage Sentiment Most common positive and negative words Reply All is a great podcast. I&amp;rsquo;ve been wanting to learn some text analysis tools, and transcripts from the podcast are on their site.
Took some approaches outlined in the tidytext package in this vignette, and used the tokenizers package, and some of the tidyverse.
Code on github at sckott/nonoyes
Also check out the html version</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#urls">URLs</a></li>
<li><a href="#episode-names">Episode names</a></li>
<li><a href="#transcripts">Transcripts</a></li>
<li><a href="#summary-word-usage">Summary word usage</a></li>
<li><a href="#sentiment">Sentiment</a>
<ul>
<li><a href="#most-common-positive-and-negative-words">Most common positive and negative
words</a></li>
</ul>
</li>
</ul>
<p><a href="https://gimletmedia.com/show/reply-all/">Reply All</a> is a great podcast.
I&rsquo;ve been wanting to learn some text analysis tools, and transcripts
from the podcast are on their site.</p>
<p>Took some approaches outlined in the
<a href="https://cran.rstudio.com/web/packages/tidytext/">tidytext</a> package in
<a href="https://cran.rstudio.com/web/packages/tidytext/vignettes/tidytext.html">this
vignette</a>,
and used the
<a href="https://cran.rstudio.com/web/packages/tokenizers">tokenizers</a> package,
and some of the tidyverse.</p>
<p>Code on github at <a href="https://github.com/sckott/nonoyes">sckott/nonoyes</a></p>
<p>Also check out the <a href="https://htmlpreview.github.io/?https://github.com/sckott/nonoyes/blob/master/script.html">html version</a></p>
<h2 id="setup">Setup</h2>
<p>Load deps</p>
<pre><code>library(&quot;httr&quot;)
library(&quot;xml2&quot;)
library(&quot;stringi&quot;)
library(&quot;dplyr&quot;)
library(&quot;ggplot2&quot;)
library(&quot;tokenizers&quot;)
library(&quot;tidytext&quot;)
library(&quot;tidyr&quot;)
</code></pre>
<p>source helper functions</p>
<pre><code>source(&quot;funs.R&quot;)
</code></pre>
<p>set base url</p>
<pre><code>ra_base &lt;- &quot;https://gimletmedia.com/show/reply-all/episodes&quot;
</code></pre>
<h2 id="urls">URLs</h2>
<p>Make all urls for each page of episodes</p>
<pre><code>urls &lt;- c(ra_base, file.path(ra_base, &quot;page&quot;, 2:8))
</code></pre>
<p>Get urls for each episode</p>
<pre><code>res &lt;- lapply(urls, get_urls)
</code></pre>
<p>Remove those that are rebroadcasts, updates, or revisited</p>
<pre><code>res &lt;- grep(&quot;rebroadcast|update|revisited&quot;, unlist(res), value = TRUE, invert = TRUE)
</code></pre>
<h2 id="episode-names">Episode names</h2>
<p>Give some episodes numbers that don&rsquo;t have them</p>
<pre><code>epnames &lt;- sub(&quot;/$&quot;, &quot;&quot;, sub(&quot;https://gimletmedia.com/episode/&quot;, &quot;&quot;, res))
epnames &lt;- sub(&quot;the-anxiety-box&quot;, &quot;8-the-anxiety-box&quot;, epnames)
epnames &lt;- sub(&quot;french-connection&quot;, &quot;10-french-connection&quot;, epnames)
epnames &lt;- sub(&quot;ive-killed-people-and-i-have-hostages&quot;, &quot;15-ive-killed-people-and-i-have-hostages&quot;, epnames)
epnames &lt;- sub(&quot;6-this-proves-everything&quot;, &quot;75-this-proves-everything&quot;, epnames)
epnames &lt;- sub(&quot;zardulu&quot;, &quot;56-zardulu&quot;, epnames)
</code></pre>
<h2 id="transcripts">Transcripts</h2>
<p>Get transcripts</p>
<pre><code>txts &lt;- lapply(res, transcript_fetch, sleep = 1)
</code></pre>
<p>Parse transcripts</p>
<pre><code>txtsp &lt;- lapply(txts, transcript_parse)
</code></pre>
<h2 id="summary-word-usage">Summary word usage</h2>
<p>Summarise data for each transcript</p>
<pre><code>dat &lt;- stats::setNames(lapply(txtsp, function(m) {
  bind_rows(lapply(m, function(v) {
    tmp &lt;- unname(vapply(v, nchar, 1))
    data_frame(
      n = length(tmp),
      mean = mean(tmp),
      n_laugh = count_word(v, &quot;laugh&quot;),
      n_groan = count_word(v, &quot;groan&quot;)
    )
  }), .id = &quot;name&quot;)
}), epnames)
</code></pre>
<p>Bind data together to single dataframe, and filter, summarise</p>
<pre><code>data &lt;- bind_rows(dat, .id = &quot;episode&quot;) %&gt;%
  filter(!is.na(episode)) %&gt;%
  filter(grepl(&quot;^PJ$|^ALEX GOLDMAN$&quot;, name)) %&gt;%
  mutate(ep_no = as.numeric(strextract(episode, &quot;^[0-9]+&quot;))) %&gt;%
  group_by(ep_no) %&gt;%
  mutate(nrow = NROW(ep_no)) %&gt;%
  ungroup() %&gt;%
  filter(nrow == 2)
data
#&gt; # A tibble: 114 × 8
#&gt;                 episode         name     n      mean n_laugh n_groan ep_no
#&gt;                   &lt;chr&gt;        &lt;chr&gt; &lt;int&gt;     &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt; &lt;dbl&gt;
#&gt; 1            73-sandbox           PJ    89 130.65169       9       0    73
#&gt; 2            73-sandbox ALEX GOLDMAN    25  44.00000       1       1    73
#&gt; 3       72-dead-is-paul           PJ   137  67.77372      17       0    72
#&gt; 4       72-dead-is-paul ALEX GOLDMAN    90  61.82222       8       0    72
#&gt; 5  71-the-picture-taker           PJ    74  77.70270       3       0    71
#&gt; 6  71-the-picture-taker ALEX GOLDMAN    93 105.94624       6       0    71
#&gt; 7        69-disappeared           PJ    72  76.50000       2       0    69
#&gt; 8        69-disappeared ALEX GOLDMAN    50 135.90000       5       0    69
#&gt; 9      68-vampire-rules           PJ   142  88.00704       6       0    68
#&gt; 10     68-vampire-rules ALEX GOLDMAN   117  73.16239      13       0    68
#&gt; # ... with 104 more rows, and 1 more variables: nrow &lt;int&gt;
</code></pre>
<p>Number of words - seems PJ talks more, but didn&rsquo;t do quantiative
comparison</p>
<pre><code>ggplot(data, aes(ep_no, n, colour = name)) +
  geom_point(size = 3, alpha = 0.5) +
  geom_line(aes(group = ep_no), colour = &quot;black&quot;) +
  scale_color_discrete(labels = c('Alex', 'PJ'))
</code></pre>
<p><img loading="lazy" src="/2016-08-25-no-no-yes/unnamed-chunk-12-1.png" alt=""  />
</p>
<p>Laughs per episode - take home: PJ laughs a lot</p>
<pre><code>ggplot(data, aes(ep_no, n_laugh, colour = name)) +
  geom_point(size = 3, alpha = 0.5) +
  geom_line(aes(group = ep_no), colour = &quot;black&quot;) +
  scale_color_discrete(labels = c('Alex', 'PJ'))
</code></pre>
<p><img loading="lazy" src="/2016-08-25-no-no-yes/unnamed-chunk-13-1.png" alt=""  />
</p>
<h2 id="sentiment">Sentiment</h2>
<pre><code>zero &lt;- which(vapply(txtsp, length, 1) == 0)
txtsp_ &lt;- Filter(function(x) length(x) != 0, txtsp)
</code></pre>
<p>Tokenize words, and create data_frame</p>
<pre><code>wordz &lt;- stats::setNames(
  lapply(txtsp_, function(z) {
    bind_rows(
      if (is.null(try_tokenize(z$`ALEX GOLDMAN`))) {
        data_frame()
      } else {
        data_frame(
          name = &quot;Alex&quot;,
          word = try_tokenize(z$`ALEX GOLDMAN`)
        )
      },
      if (is.null(try_tokenize(z$PJ))) {
        data_frame()
      } else {
        data_frame(
          name = &quot;PJ&quot;,
          word = try_tokenize(z$PJ)
        )
      }
    )
  }), epnames[-zero])
</code></pre>
<p>Combine to single data_frame</p>
<pre><code>(wordz_df &lt;- bind_rows(wordz, .id = &quot;episode&quot;))
#&gt; # A tibble: 104,713 × 3
#&gt;       episode  name      word
#&gt;         &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;
#&gt; 1  73-sandbox  Alex      alex
#&gt; 2  73-sandbox  Alex   goldman
#&gt; 3  73-sandbox  Alex         i
#&gt; 4  73-sandbox  Alex generally
#&gt; 5  73-sandbox  Alex     don’t
#&gt; 6  73-sandbox  Alex      alex
#&gt; 7  73-sandbox  Alex    really
#&gt; 8  73-sandbox  Alex      alex
#&gt; 9  73-sandbox  Alex    groans
#&gt; 10 73-sandbox  Alex        so
#&gt; # ... with 104,703 more rows
</code></pre>
<p>Calculate sentiment using <code>tidytext</code></p>
<pre><code>bing &lt;- sentiments %&gt;%
  filter(lexicon == &quot;bing&quot;) %&gt;%
  select(-score)
sent &lt;- wordz_df %&gt;%
  inner_join(bing) %&gt;%
  count(name, episode, sentiment) %&gt;%
  spread(sentiment, n, fill = 0) %&gt;%
  mutate(sentiment = positive - negative) %&gt;%
  ungroup() %&gt;%
  filter(!is.na(episode)) %&gt;%
  complete(episode, name) %&gt;%
  mutate(ep_no = as.numeric(strextract(episode, &quot;^[0-9]+&quot;)))
sent
#&gt; # A tibble: 148 × 6
#&gt;                                        episode  name negative positive
#&gt;                                          &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;
#&gt; 1  1-an-app-sends-a-stranger-to-say-i-love-you  Alex       19       30
#&gt; 2  1-an-app-sends-a-stranger-to-say-i-love-you    PJ       14       14
#&gt; 3                         10-french-connection  Alex       15       32
#&gt; 4                         10-french-connection    PJ       16       36
#&gt; 5     11-did-errol-morris-brother-invent-email  Alex       NA       NA
#&gt; 6     11-did-errol-morris-brother-invent-email    PJ       25       30
#&gt; 7                           12-backend-trouble  Alex       20       15
#&gt; 8                           12-backend-trouble    PJ       40       59
#&gt; 9                              13-love-is-lies  Alex       NA       NA
#&gt; 10                             13-love-is-lies    PJ       45       64
#&gt; # ... with 138 more rows, and 2 more variables: sentiment &lt;dbl&gt;,
#&gt; #   ep_no &lt;dbl&gt;
</code></pre>
<p>Names separate</p>
<pre><code>ggplot(sent, aes(ep_no, sentiment, fill = name)) +
  geom_bar(stat = &quot;identity&quot;) +
  facet_wrap(~name, ncol = 2, scales = &quot;free_x&quot;)
</code></pre>
<p><img loading="lazy" src="/2016-08-25-no-no-yes/unnamed-chunk-18-1.png" alt=""  />
</p>
<p>Compare for each episode</p>
<pre><code>ggplot(sent, aes(ep_no, sentiment, fill = name)) +
  geom_bar(stat = &quot;identity&quot;, position = position_dodge(width = 0.5), width = 0.6)
</code></pre>
<p><img loading="lazy" src="/2016-08-25-no-no-yes/unnamed-chunk-19-1.png" alt=""  />
</p>
<h3 id="most-common-positive-and-negative-words">Most common positive and negative words</h3>
<p>Clearly, the word <code>like</code> is surely rarely used as a positive word
meaning e.g., that they <em>like something</em>, but rather as the colloquial
<code>like, totally</code> usage. So it&rsquo;s removed.</p>
<p>Alex</p>
<pre><code>sent_cont_plot(wordz_df, &quot;Alex&quot;)
</code></pre>
<p><img loading="lazy" src="/2016-08-25-no-no-yes/unnamed-chunk-20-1.png" alt=""  />
</p>
<p>PJ</p>
<pre><code>sent_cont_plot(wordz_df, &quot;PJ&quot;)
</code></pre>
<p><img loading="lazy" src="/2016-08-25-no-no-yes/unnamed-chunk-21-1.png" alt=""  />
</p>
]]></content:encoded>
    </item>
    <item>
      <title>fulltext - a package to help you mine text</title>
      <link>http://localhost:1313/2015/08/full-text/</link>
      <pubDate>Fri, 07 Aug 2015 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2015/08/full-text/</guid>
      <description>Finally, we got fulltext up on CRAN - our first commit was May last year. fulltext is a package to facilitate text mining. It focuses on open access journals. This package makes it easier to search for articles, download those articles in full text if available, convert pdf format to plain text, and extract text chunks for vizualization/analysis. We are planning to add bits for analysis in future versions. We&amp;rsquo;ve been working on this package for a while now.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>Finally, we got <code>fulltext</code> up on CRAN - our first commit was <a href="https://github.com/ropensci/fulltext/commit/2d4f7e270040b2c8914853113073fc4d3134445e">May last year</a>. <code>fulltext</code> is a package to facilitate text mining. It focuses on open access journals. This package makes it easier to search for articles, download those articles in full text if available, convert pdf format to plain text, and extract text chunks for vizualization/analysis. We are planning to add bits for analysis in future versions. We&rsquo;ve been working on this package for a while now. It has a lot of moving parts and package dependencies, so it took a while to get a first useable version.</p>
<p>The tasks facilitated by <code>fulltext</code> in bullet form:</p>
<ul>
<li>Search - search for articles</li>
<li>Retrieve - get full text</li>
<li>Convert - convert from format X to Y</li>
<li>Text - if needed, get text from pdfs/etc.</li>
<li>Extract - pull out the bits of articles that you want</li>
</ul>
<p>I won&rsquo;t be surprised if users uncover a lot of bugs in this package given the huge number of publishers/journals users want to get literature data from, and the surely wide diversity of use cases. But I thought it was important to get out a first version to get feedback on the user interface, and gather use cases.</p>
<p>We hope that this package can help bring text-mining to the masses - making it easy for anyone to do do, not just text-mining experts.</p>
<p>If you have any feedback, please do get in touch in the issue tracker for <code>fulltext</code> at <a href="https://github.com/ropensci/fulltext/issues">https://github.com/ropensci/fulltext/issues</a> - If you have use case thoughts, the <a href="https://discuss.ropensci.org/">rOpenSci discussion forum</a> might be a good place to go.</p>
<p>Let&rsquo;s kick the tires, shall we?</p>
<h2 id="install">Install</h2>
<p>Will be on CRAN soon, not as of AM PDT on 2015-08-07.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;fulltext&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># if binaries not avail. yet on your favorite CRAN mirror</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;https://cran.rstudio.com/src/contrib/fulltext_0.1.0.tar.gz&#34;</span>, repos <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;source&#34;</span>)
</span></span></code></pre></div><p>Or install development version from GitHub</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;ropensci/fulltext&#34;</span>)
</span></span></code></pre></div><p>Load <code>fulltext</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;fulltext&#34;</span>)
</span></span></code></pre></div><h2 id="search-for-articles">Search for articles</h2>
<p>Currently, there are hooks for searching for articles from PLOS, BMC, Crossref, Entrez, arXiv, and BioRxiv. We&rsquo;ll add more in the future, but that does cover a lot of articles, especially given inclusion of Crossref (which mints most DOIs) and Entrez (which houses PMC and Pubmed).</p>
<p>An example: Search for the term <em>ecology</em> in PLOS journals.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(res1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_search</span>(query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ecology&#39;</span>, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;plos&#39;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Query:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [ecology] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Found:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [PLoS: 28589; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Returned:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [PLoS: 10; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0]</span>
</span></span></code></pre></div><p>Each publisher/search-engine has a slot with metadata and data, saying how many articles were found and how many were returned. We can dig into what PLOS gave us:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>res1<span style="color:#f92672">$</span>plos
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Query: [ecology] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Records found, returned: [28589, 10] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; License: [CC-BY] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                         id</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                             10.1371/journal.pone.0059813</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                             10.1371/journal.pone.0001248</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3  10.1371/annotation/69333ae7-757a-4651-831c-f28c5eb02120</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4                             10.1371/journal.pone.0080763</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5                             10.1371/journal.pone.0102437</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6                             10.1371/journal.pone.0017342</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7                             10.1371/journal.pone.0091497</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 8                             10.1371/journal.pone.0092931</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 9  10.1371/annotation/28ac6052-4f87-4b88-a817-0cd5743e83d6</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10                            10.1371/journal.pcbi.1003594</span>
</span></span></code></pre></div><p>For each of the data sources to search on you can pass in additional options (basically, you can use the query parameters in the functions that hit each service). Here, we can modify our search to PLOS by requesting a particular set of fields with the <code>fl</code> parameter (PLOS uses a Solr backed search engine, and <code>fl</code> is short for <code>fields</code> in Solr land):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">ft_search</span>(query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ecology&#39;</span>, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;plos&#39;</span>, plosopts <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(
</span></span><span style="display:flex;"><span>   fl <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;id&#39;</span>,<span style="color:#e6db74">&#39;author&#39;</span>,<span style="color:#e6db74">&#39;eissn&#39;</span>,<span style="color:#e6db74">&#39;journal&#39;</span>,<span style="color:#e6db74">&#39;counter_total_all&#39;</span>,<span style="color:#e6db74">&#39;alm_twitterCount&#39;</span>)))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Query:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [ecology] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Found:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [PLoS: 28589; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Returned:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [PLoS: 10; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0]</span>
</span></span></code></pre></div><blockquote>
<p>Note that PLOS is a bit unique in allowing you to request specific parts of articles. Other sources in ft_search() don&rsquo;t let you do that.</p>
</blockquote>
<h2 id="get-full-text">Get full text</h2>
<p>After you&rsquo;ve found the set of articles you want to get full text for, we can use the results from <code>ft_search()</code> to grab full text. <code>ft_get()</code> accepts a character vector of list of DOIs (or PMC IDs if fetching from Entrez), or the output of <code>ft_search()</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(out <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_get</span>(res1))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [Docs] 8 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [Source] R session  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [IDs] 10.1371/journal.pone.0059813 10.1371/journal.pone.0001248</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0080763 10.1371/journal.pone.0102437</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0017342 10.1371/journal.pone.0091497</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0092931 10.1371/journal.pcbi.1003594 ...</span>
</span></span></code></pre></div><p>We got eight articles in full text in the result. We didn&rsquo;t get 10, even though 10 were returned from <code>ft_search()</code> because PLOS often returns records for annotations, that is, comments on articles, which we auto-seive out within <code>ft_get()</code>.</p>
<p>Dig in to the PLOS data</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>out<span style="color:#f92672">$</span>plos
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $found</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] 8</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $dois</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0059813&#34; &#34;10.1371/journal.pone.0001248&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [3] &#34;10.1371/journal.pone.0080763&#34; &#34;10.1371/journal.pone.0102437&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [5] &#34;10.1371/journal.pone.0017342&#34; &#34;10.1371/journal.pone.0091497&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [7] &#34;10.1371/journal.pone.0092931&#34; &#34;10.1371/journal.pcbi.1003594&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$backend</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$path</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;session&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data$data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 8 full-text articles retrieved </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Min. Length: 3828 - Max. Length: 104702 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; DOIs: 10.1371/journal.pone.0059813 10.1371/journal.pone.0001248</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   10.1371/journal.pone.0080763 10.1371/journal.pone.0102437</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   10.1371/journal.pone.0017342 10.1371/journal.pone.0091497</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   10.1371/journal.pone.0092931 10.1371/journal.pcbi.1003594 ... </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; NOTE: extract xml strings like output[&#39;&lt;doi&gt;&#39;]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $opts</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $opts$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0059813&#34; &#34;10.1371/journal.pone.0001248&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [3] &#34;10.1371/journal.pone.0080763&#34; &#34;10.1371/journal.pone.0102437&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [5] &#34;10.1371/journal.pone.0017342&#34; &#34;10.1371/journal.pone.0091497&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [7] &#34;10.1371/journal.pone.0092931&#34; &#34;10.1371/journal.pcbi.1003594&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $opts$callopts</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; list()</span>
</span></span></code></pre></div><p>Dig in further to get to one of the articles in XML format</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;xml2&#34;</span>)
</span></span><span style="display:flex;"><span>xml2<span style="color:#f92672">::</span><span style="color:#a6e22e">read_xml</span>(out<span style="color:#f92672">$</span>plos<span style="color:#f92672">$</span>data<span style="color:#f92672">$</span>data<span style="color:#f92672">$</span>`10.1371/journal.pone.0059813`)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; {xml_document}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;article&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &lt;front&gt;\n&lt;journal-meta&gt;\n&lt;journal-id journal-id-type=&#34;nlm-ta&#34;&gt;PLoS O ...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [2] &lt;body&gt;\n  &lt;sec id=&#34;s1&#34;&gt;\n&lt;title&gt;Introduction&lt;/title&gt;\n&lt;p&gt;Ecologists  ...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [3] &lt;back&gt;\n&lt;ack&gt;\n&lt;p&gt;Curtis Flather, Mark Burgman, Leon Blaustein, Yaac ...</span>
</span></span></code></pre></div><p>Now with the xml, you can dig into whatever you like, e.g., using <code>xml2</code> or <code>rvest</code>.</p>
<h2 id="extract-text-from-pdfs">Extract text from pdfs</h2>
<p>Ideally for text mining you have access to XML or other text based formats. However, sometimes you only have access to PDFs. In this case you want to extract text from PDFs. <code>fulltext</code> can help with that.</p>
<p>You can extract from any pdf from a file path, like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>path <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">system.file</span>(<span style="color:#e6db74">&#34;examples&#34;</span>, <span style="color:#e6db74">&#34;example1.pdf&#34;</span>, package <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;fulltext&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ft_extract</span>(path)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;document&gt;/Library/Frameworks/R.framework/Versions/3.2/Resources/library/fulltext/examples/example1.pdf</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Pages: 18</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Title: Suffering and mental health among older people living in nursing homes---a mixed-methods study</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Producer: pdfTeX-1.40.10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Creation date: 2015-07-17</span>
</span></span></code></pre></div><p>Let&rsquo;s search for articles from arXiv, a preprint service. Here, get pdf from an article with ID <code>cond-mat/9309029</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>res <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_get</span>(<span style="color:#e6db74">&#39;cond-mat/9309029&#39;</span>, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;arxiv&#34;</span>)
</span></span><span style="display:flex;"><span>res2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_extract</span>(res)
</span></span><span style="display:flex;"><span>res2<span style="color:#f92672">$</span>arxiv<span style="color:#f92672">$</span>data
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $backend</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $path</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $path$`cond-mat/9309029`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;~/.fulltext/cond-mat_9309029.pdf&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $data[[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;document&gt;/Users/sacmac/.fulltext/cond-mat_9309029.pdf</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Pages: 14</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Title: arXiv:cond-mat/9309029v8  26 Jan 1994</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Producer: GPL Ghostscript SVN PRE-RELEASE 8.62</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   Creation date: 2008-02-06</span>
</span></span></code></pre></div><p>And a short snippet of the full text</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>res2<span style="color:#f92672">$</span>arxiv<span style="color:#f92672">$</span>data<span style="color:#f92672">$</span>data[[1]]<span style="color:#f92672">$</span>data
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &#34;arXiv:cond-mat/9309029v8 26 Jan 1994, , FERMILAB-PUB-93/15-T March 1993, Revised:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; January 1994, The Thermodynamics and Economics of Waste, Dallas C. Kennedy, Research</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Associate, Fermi National Accelerator Laboratory, P.O. Box 500 MS106, Batavia, Illinois</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 60510 USA, Abstract, The increasingly relevant problem of natural resource use and</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; waste production, disposal, and reuse is examined from several viewpoints: economic,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; technical, and thermodynamic. Alternative economies are studied, with emphasis on</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; recycling of waste to close the natural resource cycle. The physical nature of human</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; economies and constraints on recycling and energy efficiency are stated in terms</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; ...&#34;</span>
</span></span></code></pre></div><h2 id="extract-text-chunks">Extract text chunks</h2>
<p>We have a few functions to help you pull out certain parts of an article. For example, perhaps you want to get just the authors from your articles, or just the abstracts.</p>
<p>Here, we&rsquo;ll search for some PLOS articles, then get their full text, then extract various parts of each article with <code>chunks()</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>res <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_search</span>(query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ecology&#34;</span>, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;plos&#34;</span>)
</span></span><span style="display:flex;"><span>(x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_get</span>(res))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [Docs] 8 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [Source] R session  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [IDs] 10.1371/journal.pone.0059813 10.1371/journal.pone.0001248</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0080763 10.1371/journal.pone.0102437</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0017342 10.1371/journal.pone.0091497</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0092931 10.1371/journal.pcbi.1003594 ...</span>
</span></span></code></pre></div><p>Extract DOIs</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">chunks</span>(<span style="color:#e6db74">&#34;doi&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0059813`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0059813`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0059813&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0001248`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0001248`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0001248&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0080763`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0080763`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0080763&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0102437`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0102437`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0102437&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0017342`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0017342`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0017342&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0091497`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0091497`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0091497&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0092931`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0092931`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0092931&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pcbi.1003594`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pcbi.1003594`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pcbi.1003594&#34;</span>
</span></span></code></pre></div><p>Extract DOIs and categories</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">chunks</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;doi&#34;</span>,<span style="color:#e6db74">&#34;categories&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0059813`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0059813`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0059813&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0059813`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [1] &#34;Research Article&#34;                 &#34;Biology&#34;                         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [3] &#34;Ecology&#34;                          &#34;Community ecology&#34;               </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [5] &#34;Species interactions&#34;             &#34;Science policy&#34;                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [7] &#34;Research assessment&#34;              &#34;Research monitoring&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [9] &#34;Research funding&#34;                 &#34;Government funding of science&#34;   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [11] &#34;Research laboratories&#34;            &#34;Science policy and economics&#34;    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [13] &#34;Science and technology workforce&#34; &#34;Careers in research&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [15] &#34;Social and behavioral sciences&#34;   &#34;Sociology&#34;                       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [17] &#34;Sociology of knowledge&#34;          </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0001248`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0001248`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0001248&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0001248`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;Research Article&#34;             &#34;Ecology&#34;                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [3] &#34;Ecology/Ecosystem Ecology&#34;    &#34;Ecology/Evolutionary Ecology&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [5] &#34;Ecology/Theoretical Ecology&#34; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0080763`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0080763`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0080763&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0080763`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [1] &#34;Research Article&#34;     &#34;Biology&#34;              &#34;Ecology&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [4] &#34;Autecology&#34;           &#34;Behavioral ecology&#34;   &#34;Community ecology&#34;   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [7] &#34;Evolutionary ecology&#34; &#34;Population ecology&#34;   &#34;Evolutionary biology&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [10] &#34;Behavioral ecology&#34;   &#34;Evolutionary ecology&#34; &#34;Population biology&#34;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [13] &#34;Population ecology&#34;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0102437`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0102437`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0102437&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0102437`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [1] &#34;Research Article&#34;                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [2] &#34;Biology and life sciences&#34;         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [3] &#34;Biogeography&#34;                      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [4] &#34;Ecology&#34;                           </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [5] &#34;Ecosystems&#34;                        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [6] &#34;Ecosystem engineering&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [7] &#34;Ecosystem functioning&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [8] &#34;Industrial ecology&#34;                </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [9] &#34;Spatial and landscape ecology&#34;     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [10] &#34;Urban ecology&#34;                     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [11] &#34;Computer and information sciences&#34; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [12] &#34;Geoinformatics&#34;                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [13] &#34;Spatial analysis&#34;                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [14] &#34;Earth sciences&#34;                    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [15] &#34;Geography&#34;                         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [16] &#34;Human geography&#34;                   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [17] &#34;Cultural geography&#34;                </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [18] &#34;Social geography&#34;                  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [19] &#34;Ecology and environmental sciences&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [20] &#34;Conservation science&#34;              </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [21] &#34;Environmental protection&#34;          </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [22] &#34;Nature-society interactions&#34;       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0017342`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0017342`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0017342&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0017342`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [1] &#34;Research Article&#34;     &#34;Biology&#34;              &#34;Ecology&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [4] &#34;Community ecology&#34;    &#34;Community assembly&#34;   &#34;Community structure&#34; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;  [7] &#34;Niche construction&#34;   &#34;Ecological metrics&#34;   &#34;Species diversity&#34;   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [10] &#34;Species richness&#34;     &#34;Biodiversity&#34;         &#34;Biogeography&#34;        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [13] &#34;Population ecology&#34;   &#34;Mathematics&#34;          &#34;Statistics&#34;          </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [16] &#34;Biostatistics&#34;        &#34;Statistical theories&#34; &#34;Ecology&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [19] &#34;Mathematics&#34;         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0091497`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0091497`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0091497&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0091497`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;Correction&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0092931`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0092931`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pone.0092931&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pone.0092931`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;Correction&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pcbi.1003594`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pcbi.1003594`$doi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;10.1371/journal.pcbi.1003594&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos$`10.1371/journal.pcbi.1003594`$categories</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [1] &#34;Research Article&#34;          &#34;Biology and life sciences&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [3] &#34;Computational biology&#34;     &#34;Microbiology&#34;             </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [5] &#34;Theoretical biology&#34;</span>
</span></span></code></pre></div><p><code>tabularize</code> attempts to help you put the data that comes out of <code>chunks()</code> in to a <code>data.frame</code>, that we all know and love.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">chunks</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;doi&#34;</span>, <span style="color:#e6db74">&#34;history&#34;</span>)) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">tabularize</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $plos</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                            doi history.received history.accepted</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 10.1371/journal.pone.0059813       2012-09-16       2013-02-19</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 10.1371/journal.pone.0001248       2007-07-02       2007-11-06</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3 10.1371/journal.pone.0080763       2013-08-15       2013-10-16</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4 10.1371/journal.pone.0102437       2013-11-27       2014-06-19</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5 10.1371/journal.pone.0017342       2010-08-24       2011-01-31</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6 10.1371/journal.pone.0091497             &lt;NA&gt;             &lt;NA&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7 10.1371/journal.pone.0092931             &lt;NA&gt;             &lt;NA&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 8 10.1371/journal.pcbi.1003594       2014-01-09       2014-03-14</span>
</span></span></code></pre></div><h2 id="bring-it-all-together">Bring it all together</h2>
<p>With the pieces above, let&rsquo;s see what it looks like all in one go. Here, we&rsquo;ll search for articles on <em>climate change</em>, then visualize word usage in those articles.</p>
<h3 id="search">Search</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(out <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_search</span>(query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;climate change&#39;</span>, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;plos&#39;</span>, limit <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Query:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [climate change] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Found:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [PLoS: 11737; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0] </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Returned:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   [PLoS: 100; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0]</span>
</span></span></code></pre></div><h3 id="get-full-text-1">Get full text</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(texts <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ft_get</span>(out))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [Docs] 99 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [Source] R session  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; [IDs] 10.1371/journal.pone.0054839 10.1371/journal.pone.0045683</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0050182 10.1371/journal.pone.0118489</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0053646 10.1371/journal.pone.0015103</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pone.0008320 10.1371/journal.pmed.1001227</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      10.1371/journal.pmed.1001374 10.1371/journal.pone.0097480 ...</span>
</span></span></code></pre></div><p>Because PLOS returns XML, we don&rsquo;t need to do a PDF extraction step. However, if we got full text from arXiv or bioRxiv, we&rsquo;d need to extract from PDFs first.</p>
<h3 id="pull-out-chunks">Pull out chunks</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>abs <span style="color:#f92672">&lt;-</span> texts <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">chunks</span>(<span style="color:#e6db74">&#34;abstract&#34;</span>)
</span></span></code></pre></div><p>Let&rsquo;s pull out just the text</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>abs <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lapply</span>(abs<span style="color:#f92672">$</span>plos, <span style="color:#66d9ef">function</span>(z) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">paste0</span>(z<span style="color:#f92672">$</span>abstract, collapse <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h3 id="analyze">Analyze</h3>
<p>Using the <code>tm</code> package, we can analyze our articles</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;tm&#34;</span>)
</span></span><span style="display:flex;"><span>corp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">VCorpus</span>(<span style="color:#a6e22e">VectorSource</span>(abs))
</span></span><span style="display:flex;"><span><span style="color:#75715e"># remove stop words, strip whitespace, remove punctuation</span>
</span></span><span style="display:flex;"><span>corp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">tm_map</span>(corp, removeWords, <span style="color:#a6e22e">stopwords</span>(<span style="color:#e6db74">&#34;english&#34;</span>))
</span></span><span style="display:flex;"><span>corp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">tm_map</span>(corp, stripWhitespace)
</span></span><span style="display:flex;"><span>corp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">tm_map</span>(corp, removePunctuation)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Make a term document matrix</span>
</span></span><span style="display:flex;"><span>tdm <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">TermDocumentMatrix</span>(corp)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># remove sparse terms</span>
</span></span><span style="display:flex;"><span>tdm <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">removeSparseTerms</span>(tdm, sparse <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.8</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># get data</span>
</span></span><span style="display:flex;"><span>rs <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rowSums</span>(<span style="color:#a6e22e">as.matrix</span>(tdm))
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(word <span style="color:#f92672">=</span> <span style="color:#a6e22e">names</span>(rs), n <span style="color:#f92672">=</span> <span style="color:#a6e22e">unname</span>(rs), stringsAsFactors <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span></code></pre></div><h3 id="visualize">Visualize</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;ggplot2&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(df, <span style="color:#a6e22e">aes</span>(<span style="color:#a6e22e">reorder</span>(word, n), n)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_point</span>() <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">coord_flip</span>() <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Count&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Word&#34;</span>)
</span></span></code></pre></div><p><img loading="lazy" src="/2015-08-07-full-text/unnamed-chunk-23-1.png" alt="plot of chunk unnamed-chunk-23"  />
</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
