<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Datasets on Recology</title>
    <link>http://localhost:1313/tags/datasets/</link>
    <description>Recent content in Datasets on Recology</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 11 Sep 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/datasets/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>oai - an OAI-PMH client</title>
      <link>http://localhost:1313/2015/09/oai-client/</link>
      <pubDate>Fri, 11 Sep 2015 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/2015/09/oai-client/</guid>
      <description>oai is a general purpose client to work with any &amp;lsquo;OAI-PMH&amp;rsquo; service. The &amp;lsquo;OAI-PMH&amp;rsquo; protocol is described at https://www.openarchives.org/OAI/openarchivesprotocol.html. The main functions follow the OAI-PMH verbs:
GetRecord Identify ListIdentifiers ListMetadataFormats ListRecords ListSets The repo is at https://github.com/sckott/oai
I will be using this in a number of packages I maintain that use OAI-PMH data services. If you try it, let me know what you think.
This package is heading to rOpenSci soon: https://github.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p><code>oai</code> is a general purpose client to work with any &lsquo;OAI-PMH&rsquo; service. The &lsquo;OAI-PMH&rsquo; protocol is described at <a href="https://www.openarchives.org/OAI/openarchivesprotocol.html">https://www.openarchives.org/OAI/openarchivesprotocol.html</a>. The main functions follow the OAI-PMH verbs:</p>
<ul>
<li><code>GetRecord</code></li>
<li><code>Identify</code></li>
<li><code>ListIdentifiers</code></li>
<li><code>ListMetadataFormats</code></li>
<li><code>ListRecords</code></li>
<li><code>ListSets</code></li>
</ul>
<p>The repo is at <a href="https://github.com/sckott/oai">https://github.com/sckott/oai</a></p>
<p>I will be using this in a number of packages I maintain that use OAI-PMH data services. If you try it, let me know what you think.</p>
<p>This package is heading to rOpenSci soon: <a href="https://github.com/ropensci/onboarding/issues/19">https://github.com/ropensci/onboarding/issues/19</a></p>
<p>Here&rsquo;s a few usage examples:</p>
<h2 id="install">Install</h2>
<p>Is on CRAN now, but binaries may not be available yet.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;oai&#34;</span>)
</span></span></code></pre></div><p>Or install development version from GitHub</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>devtools<span style="color:#f92672">::</span><span style="color:#a6e22e">install_github</span>(<span style="color:#e6db74">&#34;sckott/oai&#34;</span>)
</span></span></code></pre></div><p>Load <code>oai</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;oai&#34;</span>)
</span></span></code></pre></div><h2 id="identify">Identify</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">id</span>(<span style="color:#e6db74">&#34;https://oai.datacite.org/oai&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   repositoryName                     baseURL protocolVersion</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1   DataCite MDS https://oai.datacite.org/oai             2.0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;           adminEmail    earliestDatestamp deletedRecord</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 admin@datacite.org 2011-01-01T00:00:00Z    persistent</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;            granularity compression compression.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                      description</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 oaioai.datacite.org:oai:oai.datacite.org:12425</span>
</span></span></code></pre></div><h2 id="listidentifiers">ListIdentifiers</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">list_identifiers</span>(from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;2011-05-01T&#39;</span>, until <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;2011-09-01T&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;ListRecords&gt; 925 X 6 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                    identifier            datestamp setSpec setSpec.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1  oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB  TIB.WDCC</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2  oai:oai.datacite.org:32200 2011-06-20T08:12:41Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3  oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4  oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5  oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6  oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7  oai:oai.datacite.org:32309 2011-07-06T12:30:54Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 8  oai:oai.datacite.org:32310 2011-07-06T12:42:32Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 9  oai:oai.datacite.org:32325 2011-07-07T11:17:46Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10 oai:oai.datacite.org:32326 2011-07-07T11:18:47Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; ..                        ...                  ...     ...       ...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Variables not shown: setSpec.2 (chr), setSpec.3 (chr)</span>
</span></span></code></pre></div><h2 id="count-identifiers">Count Identifiers</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">count_identifiers</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                           url   count</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 https://oai.datacite.org/oai 6350706</span>
</span></span></code></pre></div><h2 id="listrecords">ListRecords</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">list_records</span>(from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;2011-05-01T&#39;</span>, until <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;2011-08-15T&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;ListRecords&gt; 126 X 46 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                    identifier            datestamp setSpec setSpec.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1  oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB  TIB.WDCC</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2  oai:oai.datacite.org:32200 2011-06-20T08:12:41Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3  oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4  oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5  oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6  oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7  oai:oai.datacite.org:32309 2011-07-06T12:30:54Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 8  oai:oai.datacite.org:32310 2011-07-06T12:42:32Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 9  oai:oai.datacite.org:32325 2011-07-07T11:17:46Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10 oai:oai.datacite.org:32326 2011-07-07T11:18:47Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; ..                        ...                  ...     ...       ...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Variables not shown: title (chr), creator (chr), creator.1 (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      creator.2 (chr), creator.3 (chr), creator.4 (chr), creator.5 (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      creator.6 (chr), creator.7 (chr), publisher (chr), date (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      identifier.2 (chr), identifier.1 (chr), subject (chr), description</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      (chr), description.1 (chr), contributor (chr), language (chr), type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      (chr), type.1 (chr), format (chr), format.1 (chr), rights (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      subject.1 (chr), relation (chr), subject.2 (chr), subject.3 (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      subject.4 (chr), setSpec.2 (chr), setSpec.3 (chr), format.2 (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      subject.5 (chr), subject.6 (chr), subject.7 (chr), description.2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      (chr), description.3 (chr), description.4 (chr), description.5 (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      title.1 (chr), relation.1 (chr), relation.2 (chr), contributor.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      (chr)</span>
</span></span></code></pre></div><h2 id="getrecords">GetRecords</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">get_records</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;oai:oai.datacite.org:32255&#34;</span>, <span style="color:#e6db74">&#34;oai:oai.datacite.org:32325&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;GetRecord&gt; 2 X 23 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                   identifier            datestamp setSpec setSpec.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 oai:oai.datacite.org:32325 2011-07-07T11:17:46Z     TIB TIB.DAGST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Variables not shown: title (chr), creator (chr), creator.1 (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      creator.2 (chr), creator.3 (chr), publisher (chr), date (chr),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      identifier.1 (chr), subject (chr), subject.1 (chr), description</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      (chr), description.1 (chr), contributor (chr), language (chr), type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;      (chr), type.1 (chr), format (chr), format.1 (chr), rights (chr)</span>
</span></span></code></pre></div><h2 id="list-metadataformats">List MetadataFormats</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">list_metadataformats</span>(id <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;oai:oai.datacite.org:32348&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; $`oai:oai.datacite.org:32348`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;   metadataPrefix</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1         oai_dc</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2       datacite</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3   oai_datacite</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                                                        schema</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1              https://www.openarchives.org/OAI/2.0/oai_dc.xsd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2 https://schema.datacite.org/meta/nonexistant/nonexistant.xsd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3              https://schema.datacite.org/oai/oai-1.0/oai.xsd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                             metadataNamespace</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1 https://www.openarchives.org/OAI/2.0/oai_dc/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2      https://datacite.org/schema/nonexistant</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3     https://schema.datacite.org/oai/oai-1.0/</span>
</span></span></code></pre></div><h2 id="list-sets">List Sets</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">list_sets</span>(<span style="color:#e6db74">&#34;https://oai.datacite.org/oai&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; &lt;ListSets&gt; 1227 X 2 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;                     setSpec</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 1                REFQUALITY</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 2                      ANDS</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 3           ANDS.REFQUALITY</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 4             ANDS.CENTRE-1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 5  ANDS.CENTRE-1.REFQUALITY</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 6             ANDS.CENTRE-2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 7  ANDS.CENTRE-2.REFQUALITY</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 8             ANDS.CENTRE-3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 9  ANDS.CENTRE-3.REFQUALITY</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; 10            ANDS.CENTRE-5</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; ..                      ...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt; Variables not shown: setName (chr)</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    <item>
      <title>Weecology can has new mammal dataset</title>
      <link>http://localhost:1313/2011/12/weecology-can-has-new-mammal-dataset/</link>
      <pubDate>Thu, 29 Dec 2011 08:11:00 -0600</pubDate>
      <guid>http://localhost:1313/2011/12/weecology-can-has-new-mammal-dataset/</guid>
      <description>So the Weecology folks have published a large dataset on mammal communities in a data paper in Ecology. I know nothing about mammal communities, but that doesn&amp;rsquo;t mean one can&amp;rsquo;t play with the data&amp;hellip;
Their dataset consists of five csv files: communities, references, sites, species, and trapping data Where are these sites, and by the way, do they vary much in altitude? Let&amp;rsquo;s zoom in on just the states What phylogenies can we get for the species in this dataset?</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>So the <a href="http://weecology.org/">Weecology</a> folks have published a large dataset on mammal communities in a data paper in <a href="http://www.esajournals.org/doi/abs/10.1890/11-0262.1">Ecology</a>. I know nothing about mammal communities, but that doesn&rsquo;t mean one can&rsquo;t play with the data&hellip;</p>
<h3 id="their-dataset-consists-of-five-csv-files">Their dataset consists of five csv files:</h3>
<ul>
<li>communities,</li>
<li>references,</li>
<li>sites,</li>
<li>species, and</li>
<li>trapping data</li>
</ul>
<h3 id="where-are-these-sites-and-by-the-way-do-they-vary-much-in-altitude">Where are these sites, and by the way, do they vary much in altitude?</h3>
<p><img loading="lazy" src="http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png" alt=""  />
</p>
<p><img loading="lazy" src="http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png%22" alt=""  />
</p>
<h3 id="lets-zoom-in-on-just-the-states">Let&rsquo;s zoom in on just the states</h3>
<p><img loading="lazy" src="http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png%22" alt=""  />
</p>
<h3 id="what-phylogenies-can-we-get-for-the-species-in-this-dataset">What phylogenies can we get for the species in this dataset?</h3>
<p>We can use the <a href="http://cran.r-project.org/web/packages/treebase/">rOpenSci package treebase</a> to search the online phylogeny repository <a href="http://www.treebase.org/treebase-web/home.html">TreeBASE</a>. Limiting to returning a max of 1 tree (to save time), we can see that X species are in at least 1 tree on the TreeBASE database. Nice.</p>
<p>So there are 321 species in the database with at least 1 tree in the TreeBASE database. Of course there could be many more, but we limited results from TreeBASE to just 1 tree per query.</p>
<h3 id="heres-the-code">Here&rsquo;s the code:</h3>

<script src="https://gist.github.com/1534730.js?file=mammaldataset.R"></script>

]]></content:encoded>
    </item>
    <item>
      <title>My little presentation on getting web data through R</title>
      <link>http://localhost:1313/2011/10/my-little-presentation-on-getting-web/</link>
      <pubDate>Fri, 28 Oct 2011 11:16:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/10/my-little-presentation-on-getting-web/</guid>
      <description> With examples from rOpenSci R packages.&amp;nbsp;p.s. I am no expert at this...
Web data from R View more presentations from schamber </description><content:encoded><![CDATA[ ]]>
               <![CDATA[
<div id="__ss_9926321" style="width: 425px;"><span style="display: block; margin: 12px 0 4px;">With examples from <a href="http://ropensci.org/">rOpenSci</a> R packages.&nbsp;</span><span style="display: block; margin: 12px 0 4px;">p.s. I am no expert at this...</span><strong style="display: block; margin: 12px 0 4px;"><br /></strong><strong style="display: block; margin: 12px 0 4px;"><a href="http://www.slideshare.net/schamber/web-data-from-r" target="_blank" title="Web data from R">Web data from R</a></strong> <iframe frameborder="0" height="355" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/9926321" width="425"></iframe> <br /><div style="padding: 5px 0 12px;">View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/schamber" target="_blank">schamber</a> </div></div>

]]></content:encoded>
    </item>
    <item>
      <title>rnpn: An R interface for the National Phenology Network</title>
      <link>http://localhost:1313/2011/08/rnpn-r-interface-for-national-phenology/</link>
      <pubDate>Wed, 31 Aug 2011 10:26:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/08/rnpn-r-interface-for-national-phenology/</guid>
      <description>The team at rOpenSci and I have been working on a wrapper for the USA National Phenology Network API. The following is a demo of some of the current possibilities. We will have more functions down the road. Get the publicly available code, and contribute, at Github here. If you try this out look at the Description file for the required R packages to run rnpn. Let us know at Github (here) or at our website http://ropensci.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>The team at <a href="http://ropensci.org/">rOpenSci</a> and I have been working on a wrapper for the <a href="http://www.usanpn.org/">USA National Phenology Network</a> API. The following is a demo of some of the current possibilities. We will have more functions down the road. Get the publicly available code, and contribute, at Github <a href="https://github.com/ropensci/rnpn">here</a>. If you try this out look at the <a href="https://github.com/ropensci/rnpn/blob/master/DESCRIPTION">Description file</a> for the required R packages to run rnpn. Let us know at Github (<a href="https://github.com/ropensci">here</a>) or at our website  <a href="http://ropensci.org/">http://ropensci.org/</a>, or in the comments below, or on twitter (@rOpenSci), what use cases you would like to see with the rnpn package.</p>
<p><strong>Method and demo of each</strong>:<br>
<em><strong>Get observations for species by day</strong></em><br>
<em>From the documentation:</em></p>
<blockquote>
<p>This function will return a list of species, containing all the dates which observations were made about the species, and a count of the number of such observations made on that date.</p>
</blockquote>
<p>Note, the data below is truncated for blogging brevity&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Searched for any individuals at stations 507 and 523  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getindsatstations</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">507</span>, <span style="color:#ae81ff">523</span>)) 
</span></span><span style="display:flex;"><span>   individual_id individual_name species_id kingdom
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>           <span style="color:#ae81ff">1200</span>         dogwood         <span style="color:#ae81ff">12</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>           <span style="color:#ae81ff">1197</span>    purple lilac         <span style="color:#ae81ff">36</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>           <span style="color:#ae81ff">1193</span>         white t         <span style="color:#ae81ff">38</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>           <span style="color:#ae81ff">3569</span>     forsythia<span style="color:#ae81ff">-1</span>         <span style="color:#ae81ff">73</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5</span>           <span style="color:#ae81ff">1206</span>            jack        <span style="color:#ae81ff">150</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>           <span style="color:#ae81ff">1199</span>      trout lily        <span style="color:#ae81ff">161</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7</span>           <span style="color:#ae81ff">1198</span>           dandy        <span style="color:#ae81ff">189</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span>           <span style="color:#ae81ff">1192</span>           red t        <span style="color:#ae81ff">192</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">9</span>           <span style="color:#ae81ff">1710</span>    common lilac         <span style="color:#ae81ff">36</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>          <span style="color:#ae81ff">1711</span>  common lilac <span style="color:#ae81ff">2</span>         <span style="color:#ae81ff">36</span> Plantae
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span>          <span style="color:#ae81ff">1712</span>       dandelion        <span style="color:#ae81ff">189</span> Plantae
</span></span></code></pre></div><p><em><strong>Get individuals of species at stations</strong></em></p>
<p>From the documentation: &ldquo;This function will return a list of all the individuals, which are members of a species, among  any number of stations.&rdquo;</p>
<br />

<p>Search for individuals of species 35 at stations 60 and 259 in year 2009</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getindspatstations</span>(<span style="color:#ae81ff">35</span>, <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">259</span>), <span style="color:#ae81ff">2009</span>)
</span></span><span style="display:flex;"><span>  individual_id individual_name number_observations
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>          <span style="color:#ae81ff">1715</span>            west                   <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>          <span style="color:#ae81ff">1716</span>            east                   <span style="color:#ae81ff">5</span>
</span></span></code></pre></div><p><em><strong>Get observation associated with particular observation</strong></em></p>
<p>From the documentation: &ldquo;This function will return the comment associated with a particular observation.&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># The observation for observation number 1938  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getobscomm</span>(<span style="color:#ae81ff">1938</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>observation_comment  
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;some lower branches are bare&#34;</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    <item>
      <title>(#ESA11) rOpenSci: a collaborative effort to develop R-based tools for facilitating Open Science</title>
      <link>http://localhost:1313/2011/08/esa11-ropensci-collaborative-effort-to_08/</link>
      <pubDate>Mon, 08 Aug 2011 10:06:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/08/esa11-ropensci-collaborative-effort-to_08/</guid>
      <description>Our development team would like to announce the launch of rOpenSci. As the title states, this project aims to create R packages to make open science more available to researchers.
http://ropensci.org/
What this means is that we seek to connect researchers using R with as much open data as possible, mainly through APIs. There are a number of R packages that already do this (e.g., infochimps, twitteR), but we are making more packages, e.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>Our <a href="http://ropensci.org/developers/">development team</a> would like to announce the launch of <a href="http://ropensci.org/">rOpenSci</a>. As the title states, this project aims to create <a href="http://www.r-project.org/">R</a> <a href="http://cran.r-project.org/web/packages/available_packages_by_name.html">packages</a> to make open science more available to researchers.</p>
<p><a href="http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png"><img loading="lazy" src="http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png" alt=""  />
</a></p>
<p><a href="http://ropensci.org/">http://ropensci.org/</a></p>
<p>What this means is that we seek to connect researchers using R with as much open data as possible, mainly through APIs. There are a number of R packages that already do this (e.g., <a href="http://cran.r-project.org/web/packages/infochimps/index.html">infochimps</a>, <a href="http://cran.r-project.org/web/packages/twitteR/index.html">twitteR</a>), but we are making more packages, e.g., for <a href="https://github.com/cboettig/RMendeley">Mendeley</a>, <a href="https://github.com/sckott/rplos">PLoS Journals</a>, and <a href="https://github.com/sckott/taxize_">taxonomic sources</a> (<a href="http://www.itis.gov/">ITIS</a>, <a href="http://www.eol.org/">EOL</a>, <a href="http://tnrs.iplantcollaborative.org/">TNRS</a>, <a href="http://www.phylodiversity.net/phylomatic/">Phylomatic</a>, <a href="http://www.ubio.org/">UBio</a>).</p>
<p>Importantly, we are creating a package called <a href="http://ropensci.org/">rOpenSci</a>, which aims to integrate functions from packages for individual open data sources.</p>
<p>If you are somewhat interested, follow our progress on our <a href="http://ropensci.org/">website</a>, on <a href="http://twitter.com/#!/rOpenSci">Twitter</a>, or <a href="http://ropensci.org/contact/">contact us</a>. If you are really^2 interested you could go to <a href="https://github.com/">Github</a> and contribute. If  you are really^3 interested, <a href="http://ropensci.org/developers/">join our development team</a>.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Archiving ecology/evolution data sets online</title>
      <link>http://localhost:1313/2011/07/archiving-ecologyevolution-data-sets/</link>
      <pubDate>Fri, 15 Jul 2011 21:02:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/07/archiving-ecologyevolution-data-sets/</guid>
      <description>We now have many options for archiving data sets online:
Dryad, KNB, Ecological Archives, Ecology Data Papers, Ecological Data, etc.
However, these portals largely do not communicate with one another as far as I know, and there is no way to search over all data set sources, again, as far as I know. So, I wonder if it would ease finding of all these different data sets to get these different sites to get their data sets cloned on a site like Infochimps, or have links from Infochimps.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>We now have many options for archiving data sets online:</p>
<p><a href="http://datadryad.org/">Dryad</a>, <a href="http://knb.ecoinformatics.org/index.jsp">KNB</a>, <a href="http://www.esapubs.org/archive/">Ecological Archives</a>, <a href="http://www.esapubs.org/archive/archive_D.htm">Ecology Data Papers</a>, <a href="http://ecologicaldata.org/">Ecological Data</a>, etc.</p>
<p>However, these portals largely do not communicate with one another as far as I know, and there is no way to search over all data set sources, again, as far as I know. So, I wonder if it would ease finding of all these different data sets to get these different sites to get their data sets cloned on a site like Infochimps, or have links from Infochimps.  Infochimps already has APIs (and there&rsquo;s an R wrapper for the Infochimps API already set up here: <a href="http://cran.r-project.org/web/packages/infochimps/index.html">http://cran.r-project.org/web/packages/infochimps/index.html</a> by Drew Conway), and they have discussions set up there, etc.</p>
<p>Does it make sense to post data sets linked to published works on Infochimps? I think probably not know that I think about it. But perhaps it makes sense for other data sets, or subsets of data sets that are not linked with published works to be posted there as I know at least Dryad only accepts data sets linked with published papers.</p>
<p>One use case is there was a tweet from someone recently that his students were excited about getting their data sets on their resume/CV, but didn&rsquo;t think there was a way to put them any place where there wasn&rsquo;t a precondition that the data set was linked with a published work. Seems like this could be a good opportunity to place these datasets on Infcohimps, and at least they are available then where a lot of people are searching for data sets, etc.</p>
<p>What I think would be ideal is if Dryad, KNB, etc. could link their datasets to Infochimps, where they could be found, then users can either get them from Infochimps, or perhaps you would have to go to the Dryad site, e.g. But at least you could search over all ecological data sets then.</p>
]]></content:encoded>
    </item>
    <item>
      <title>rbold: An R Interface for Bold Systems barcode repository</title>
      <link>http://localhost:1313/2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository/</link>
      <pubDate>Tue, 28 Jun 2011 09:27:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository/</guid>
      <description>Have you ever wanted to search and fetch barcode data from Bold Systems?
I am developing functions to interface with Bold from R. I just started, but hopefully folks will find it useful.
The code is at Github here. The two functions are still very buggy, so please bring up issues below, or in the Issues area on Github. For example, some searches work and other similar searches don&amp;rsquo;t. Apologies in advance for the bugs.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>Have you ever wanted to <a href="http://services.boldsystems.org/index.php?page=1_esearch&amp;status=">search</a> and <a href="http://services.boldsystems.org/index.php?page=2_efetch&amp;status=">fetch</a> barcode data from <a href="http://www.boldsystems.org/views/login.php">Bold Systems</a>?</p>
<p>I am developing functions to interface with Bold from R. I just started, but hopefully folks will find it useful.</p>
<p>The code is at Github <a href="https://github.com/ropensci/rbold">here</a>. The two functions are still very buggy, so please bring up issues below, or in the Issues area on Github. For example, some searches work and other similar searches don&rsquo;t. Apologies in advance for the bugs.</p>
<p>Below is a screenshot of an example query using function getsampleids to get barcode identifiers for specimens. You can then use getseqs function to grab barcode data for specific specimens or many specimens.<br>
<img loading="lazy" src="http://cl.ly/1V1y1Q1A0t062F2y2308/Screen_shot_2011-06-28_at_9.24.00_AM.png" alt="Screen shot 2011-06-28 at 9.24.00 AM.png"  />
</p>
]]></content:encoded>
    </item>
    <item>
      <title>iEvoBio 2011 Synopsis</title>
      <link>http://localhost:1313/2011/06/ievobio-2011-synopsis/</link>
      <pubDate>Wed, 22 Jun 2011 21:38:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/06/ievobio-2011-synopsis/</guid>
      <description>We just wrapped up the 2011 iEvoBio meeting. It was awesome! If you didn&amp;rsquo;t go this year or last year, definitely think about going next year.
Here is a list of the cool projects that were discussed at the meeting (apologies if I left some out):
Vistrails: workflow tool, awesome project by Claudio Silva Commplish: purpose is to use via API&amp;rsquo;s, not with the web UI Phylopic: a database of life-form silouhettes, including an API for remote access, sweet!</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>We just wrapped up the <!-- raw HTML omitted -->2011 iEvoBio meeting<!-- raw HTML omitted -->. It was awesome! If you didn&rsquo;t go this year or last year, definitely think about going next year.</p>
<p>Here is a list of the cool projects that were discussed at the meeting (apologies if I left some out):</p>
<ul>
<li><!-- raw HTML omitted -->Vistrails<!-- raw HTML omitted -->: workflow tool, awesome project by Claudio Silva</li>
<li><!-- raw HTML omitted -->Commplish<!-- raw HTML omitted -->: purpose is to use via API&rsquo;s, not with the web UI</li>
<li><!-- raw HTML omitted -->Phylopic<!-- raw HTML omitted -->: a database of life-form silouhettes, including an API for remote access, sweet!</li>
<li><!-- raw HTML omitted -->Gloome<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->MappingLife<!-- raw HTML omitted -->: awesome geographic/etc data visualization interace on the web</li>
<li><!-- raw HTML omitted -->SuiteSMA<!-- raw HTML omitted -->: visualizating multiple alignments</li>
<li><!-- raw HTML omitted -->treeBASE<!-- raw HTML omitted -->: R interface to treebase, by <!-- raw HTML omitted -->Carl Boettiger<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->VertNet<!-- raw HTML omitted -->: database for vertebrate natural history collections</li>
<li><!-- raw HTML omitted -->RevBayes<!-- raw HTML omitted -->: revamp of MrBayes, with GUI, etc. </li>
<li><!-- raw HTML omitted -->Phenoscape Knowledge Base<!-- raw HTML omitted --></li>
<li>Peter Midford lightning talk: talked about matching taxonomic and genetic data</li>
<li><!-- raw HTML omitted -->BiSciCol<!-- raw HTML omitted -->: biological science collections tracker</li>
<li><!-- raw HTML omitted -->Ontogrator<!-- raw HTML omitted --> </li>
<li><!-- raw HTML omitted -->TNRS<!-- raw HTML omitted -->: taxonomic name resolution service</li>
<li><!-- raw HTML omitted -->Barcode of Life data systems<!-- raw HTML omitted -->, and <!-- raw HTML omitted -->remote access<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->Moorea Biocode Project<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->Microbial LTER&rsquo;s data<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->BirdVis<!-- raw HTML omitted -->: interactive bird data visualization (Claudio Silva in collaboration with Cornell Lab of Ornithology)</li>
<li><!-- raw HTML omitted -->Crowdlabs<!-- raw HTML omitted -->: I think the site is down right now, another project by Claudio Silva</li>
<li><!-- raw HTML omitted -->Phycas<!-- raw HTML omitted -->: Bayesian phylogenetics, can you just call this from R?</li>
<li>RIP MrBayes!!!! replaced by RevBayes (see 9 above)</li>
<li>Slides of presentations will be at <!-- raw HTML omitted -->Slideshare<!-- raw HTML omitted --> (not all presentations up yet)          </li>
<li>A birds of a feather group I was involved in proposed an idea (TOL-o-matic) like Phylomatic, but of broader scope, for easy access and submission of trees, and perhaps even social (think just pushing a &lsquo;SHARE&rsquo; button within PAUP, RevBayes, or other phylogenetics software)! </li>
<li>Synopses of Birds of a Feather discussion groups: <!-- raw HTML omitted --><a href="http://piratepad.net/iEvoBio11-BoF-reportouts">http://piratepad.net/iEvoBio11-BoF-reportouts</a><!-- raw HTML omitted --></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>OpenStates from R via API: watch your elected representatives</title>
      <link>http://localhost:1313/2011/06/openstates-from-r-via-api-watch-your-elected-representatives/</link>
      <pubDate>Fri, 10 Jun 2011 23:19:00 -0500</pubDate>
      <guid>http://localhost:1313/2011/06/openstates-from-r-via-api-watch-your-elected-representatives/</guid>
      <description>I am writing some functions to acquire data from the OpenStates project, via their API. They have a great support community at Google Groups as well.
On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.
Code I am developing is over at Github. Here is an example of its use in R, in this case using the Bill Search option (billsearch.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>I am writing some functions to acquire data from the <a href="http://openstates.sunlightlabs.com/">OpenStates project,</a> via <a href="http://openstates.sunlightlabs.com/api/">their API</a>. They have <a href="http://groups.google.com/group/fifty-state-project">a great support community</a> at Google Groups as well.</p>
<p>On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.</p>
<p>Code <a href="https://SChamberlain@github.com/SChamberlain/ropstates.git">I am developing is over at Github</a>. Here is an example of its use in R, in this case using the Bill Search option (billsearch.R on my Github site), and in this case you do not provide your API key in the function call, but instead put it in your .Rprofile file, which is called when you open R.</p>
<p>We are searching here for the term &lsquo;agriculture&rsquo; in Texas (&rsquo;tx&rsquo;), in the &lsquo;upper&rsquo; chamber.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> temp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">billsearch</span>(<span style="color:#e6db74">&#39;agriculture&#39;</span>, state <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;tx&#39;</span>, chamber <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;upper&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(temp)
</span></span><span style="display:flex;"><span>[1] <span style="color:#ae81ff">21</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> temp[[1]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>title
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;Congratulating John C. Padalino of El Paso for being appointed to the United States Department of Agriculture.&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>created_at
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;2010-08-11 07:59:46&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>updated_at
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;2010-09-02 03:34:39&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>chamber
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;upper&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>state
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;tx&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>session
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;81&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>type
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>type[[1]]
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;resolution&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>subjects
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>subjects[[1]]
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;Resolutions&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>subjects[[2]]
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;Other&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">$</span>bill_id
</span></span><span style="display:flex;"><span>[1] <span style="color:#e6db74">&#34;SR 1042&#34;</span>
</span></span></code></pre></div><p>Apparently, the first bill (SR 2042, see $bill_id at the bottom of the list output) that came up was to congratulate John Paladino for being appointed to the USDA.</p>
<p>The other function I have ready is getting basic metadata on a state, called statemetasearch.</p>
<p>I plan to develop more functions for all the possible API calls to the OpenStates project.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Farmer&#39;s markets data</title>
      <link>http://localhost:1313/2011/02/farmer-s-markets-data/</link>
      <pubDate>Wed, 16 Feb 2011 22:41:00 -0600</pubDate>
      <guid>http://localhost:1313/2011/02/farmer-s-markets-data/</guid>
      <description>I combined USDA data on farmer&amp;rsquo;s markets in the US with population census data to get an idea of the disparity in farmers markets by state, and then also expressed per capita.
Download USDA data here. The formatted file I used below is here (in excel format, although I read into R as csv file). The census data is read from url as below.
California has a ton of absolute number of farmer&amp;rsquo;s markets, but Vermont takes the cake by far with number of markets per capita.</description><content:encoded><![CDATA[ ]]>
               <![CDATA[<p>I combined USDA data on farmer&rsquo;s markets in the US with population census data to get an idea of the disparity in farmers markets by state, and then also expressed per capita.</p>
<p>Download USDA data <a href="http://www.ams.usda.gov/AMSv1.0/getfile?dDocName=STELPRDC5087258&amp;acct=frmrdirmkt">here</a>. The formatted file I used below is <a href="http://schamber.files.wordpress.com/2011/02/farmmarkets.xls">here</a> (in excel format, although I read into R as csv file). The census data is read from url as below.</p>
<p>California has a ton of absolute number of farmer&rsquo;s markets, but Vermont takes the cake by far with number of markets per capita. Iowa comes in a distant second behind Vermont in markets per capita.</p>
<p>The code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e">######## Farmer&#39;s Markets #############</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;/Mac/R_stuff/Blog_etc/USDAFarmersMarkets&#34;</span>) <span style="color:#75715e"># Set to your working directory, this is where you want to call files from and write files to</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;ggplot2&#34;</span>, <span style="color:#e6db74">&#34;RCurl&#34;</span>))  <span style="color:#75715e"># install all packags required below</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">require</span>(ggplot2) <span style="color:#75715e"># plyr is libraried along with ggplot2, as ggplot2 uses plyr (as well as package reshape) functions</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># read market data</span>
</span></span><span style="display:flex;"><span>markets <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;farmmarkets.csv&#34;</span>)
</span></span><span style="display:flex;"><span>markets<span style="color:#f92672">$</span>state <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.factor</span>(<span style="color:#a6e22e">gsub</span>(<span style="color:#e6db74">&#34;Wyoming &#34;</span>, <span style="color:#e6db74">&#34;Wyoming&#34;</span>, markets<span style="color:#f92672">$</span>LocAddState)) <span style="color:#75715e"># there was a typo for Wyoming</span>
</span></span><span style="display:flex;"><span>markets <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">na.omit</span>(markets)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span>(markets)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># read population census data</span>
</span></span><span style="display:flex;"><span>popcen <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;http://www.census.gov/popest/national/files/NST_EST2009_ALLDATA.csv&#34;</span>)
</span></span><span style="display:flex;"><span>popcen <span style="color:#f92672">&lt;-</span> popcen[,<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">17</span>)]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span>(popcen)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># summarize</span>
</span></span><span style="display:flex;"><span>markets_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(markets, .(state), summarise,
</span></span><span style="display:flex;"><span> markets_n <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>(LocAddState) 
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>markets_pop_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">merge</span>(markets_, popcen[,<span style="color:#ae81ff">-1</span>], by.x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;state&#34;</span>, by.y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;NAME&#34;</span>) <span style="color:#75715e"># merge two data sets</span>
</span></span><span style="display:flex;"><span>markets_pop_<span style="color:#f92672">$</span>marketspercap <span style="color:#f92672">&lt;-</span> markets_pop_<span style="color:#f92672">$</span>markets_n<span style="color:#f92672">/</span>markets_pop_<span style="color:#f92672">$</span>POPESTIMATE2009 <span style="color:#75715e"># create column of markets per capita</span>
</span></span><span style="display:flex;"><span>markets_pop_<span style="color:#f92672">$</span>markets_n_st <span style="color:#f92672">&lt;-</span> markets_pop_<span style="color:#f92672">$</span>markets_n<span style="color:#f92672">/</span><span style="color:#a6e22e">max</span>(markets_pop_<span style="color:#f92672">$</span>markets_n)
</span></span><span style="display:flex;"><span>markets_pop_<span style="color:#f92672">$</span>marketspercap_st <span style="color:#f92672">&lt;-</span> markets_pop_<span style="color:#f92672">$</span>marketspercap<span style="color:#f92672">/</span><span style="color:#a6e22e">max</span>(markets_pop_<span style="color:#f92672">$</span>marketspercap)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># plot</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">melt</span>(markets_pop_[,<span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>)]), <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> state, y <span style="color:#f92672">=</span> value, fill <span style="color:#f92672">=</span> variable)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">geom_bar</span>(position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dodge&#34;</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">coord_flip</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggsave</span>(<span style="color:#e6db74">&#34;fmarkets_barplot.jpeg&#34;</span>)
</span></span></code></pre></div><p><img loading="lazy" src="https://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s640/fmarkets_barplot.jpeg" alt=""  />
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># maps</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">try_require</span>(<span style="color:#e6db74">&#34;maps&#34;</span>)
</span></span><span style="display:flex;"><span>states <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">map_data</span>(<span style="color:#e6db74">&#34;state&#34;</span>)
</span></span><span style="display:flex;"><span>markets_pop_<span style="color:#f92672">$</span>statelow <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">tolower</span>(markets_pop_<span style="color:#f92672">$</span>state)
</span></span><span style="display:flex;"><span>survey_sum_map <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">merge</span>(states, markets_pop_, by.x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;region&#34;</span>, by.y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;statelow&#34;</span>)
</span></span><span style="display:flex;"><span>survey_sum_map <span style="color:#f92672">&lt;-</span> survey_sum_map<span style="color:#a6e22e">[order</span>(survey_sum_map<span style="color:#f92672">$</span>order), ]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span>(survey_sum_map)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qplot</span>(long, lat, data <span style="color:#f92672">=</span> survey_sum_map, group <span style="color:#f92672">=</span> group, fill <span style="color:#f92672">=</span> markets_n, geom <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;polygon&#34;</span>, main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Total farmer&#39;s markets&#34;</span>) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">scale_fill_gradient</span>(low<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;green&#34;</span>, high<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;black&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggsave</span>(<span style="color:#e6db74">&#34;fmarkets_map_green.jpeg&#34;</span>)
</span></span></code></pre></div><p><img loading="lazy" src="https://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s640/fmarkets_map_green.jpeg" alt=""  />
</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
