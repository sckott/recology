<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Recology</title>
 <link href="http://schamberlain.github.com/atom.xml" rel="self"/>
 <link href="http://schamberlain.github.com/"/>
 <updated>2012-12-12T00:00:44-08:00</updated>
 <id>http://schamberlain.github.com</id>
 <author>
   <name>Scott Chamberlain</name>
 </author>
 
 
 <entry>
   <title>Shiny apps are awesome</title>
   <link href="http://schamberlain.github.com/2012/12/shiny-r/"/>
   <updated>2012-12-10T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/12/shiny-r</id>
   <content type="html">&lt;p&gt;RStudio has a new product called &lt;code&gt;Shiny&lt;/code&gt; that, quoting from their website, &quot;makes it super simple for R users like you to turn analyses into interactive web applications that anyone can use&quot;. &lt;a href=&quot;http://www.rstudio.com/shiny/&quot;&gt;See here&lt;/a&gt; for more information.&lt;/p&gt;

&lt;p&gt;A &lt;code&gt;Shiny&lt;/code&gt; basically consists of two files: a &lt;code&gt;ui.r&lt;/code&gt; file and a &lt;code&gt;server.r&lt;/code&gt; file.  The &lt;code&gt;ui.r&lt;/code&gt; file, as it says, provides the user interface, and the &lt;code&gt;server.r&lt;/code&gt; file provides the the server logic.&lt;/p&gt;

&lt;p&gt;Below is what it looks like in the wild (on a browser).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://schamberlain.github.com/img/shiny_ss.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;It was pretty easy (for &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart of rOpenSci&lt;/a&gt;) to build this app to demonstrate output from the &lt;a href=&quot;http://cran.r-project.org/web/packages/rgbif/index.html&quot;&gt;&lt;code&gt;ropensci rgbif&lt;/code&gt; package&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;You may need to install packages first.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shiny&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;plyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rgbif&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;We tried to build in making real time API calls to GBIF's servers, but the calls took too long for web speed.  So we prepare the data first, and then serve it up from saved data in a &lt;code&gt;.rda&lt;/code&gt; file. Let's first prepare the data. --Well, this is what we do on the app itself, but see the next code block for&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgbif&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Accipiter erythronemius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Junco hyemalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Aix sponsa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Haliaeetus leucocephalus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Corvus corone&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Threskiornis molucca&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Merops malimbicus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;splist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
names&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; splist  &lt;span class=&quot;c1&quot;&gt;# name each data.frame with the species names&lt;/span&gt;
setwd&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;~/ShinyApps/rgbif2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# set directory&lt;/span&gt;
save&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; file &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;speciesdata.rda&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# save the list of data.frames into an .rda file to serve up&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Here's the server logic&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;shiny&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgbif&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## Set up server output&lt;/span&gt;
shinyServer&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; output&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    load&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;speciesdata.rda&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# define function for server plot output&lt;/span&gt;
    output&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;gbifplot &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; reactivePlot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        species &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; input&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;spec
        df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;names&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; species&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    output&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;cbt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; reactiveText&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;The user interface&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;shiny&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Define UI for application that plots random distributions&lt;/span&gt;
shinyUI&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pageWithSidebar&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;headerPanel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rgbif example&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; sidebarPanel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;checkboxGroupInput&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Species to map:&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`Sharp shinned hawk (Accipiter erythronemius)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Accipiter erythronemius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Dark eyed junco (Junco hyemalis)` = &amp;quot;Junco hyemalis&amp;quot;, `Wood duck (Aix sponsa)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Aix sponsa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Bald eagle (Haliaeetus leucocephalus)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Haliaeetus leucocephalus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Carrion crow (Corvus corone)` = &amp;quot;Corvus corone&amp;quot;, `Australian White Ibis (Threskiornis molucca)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Threskiornis molucca&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Rosy Bee-eater (Merops malimbicus)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Merops malimbicus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; selected &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Bald eagle (Haliaeetus leucocephalus)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
    mainPanel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;h5&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;A map of your selected species: Please note that GBIF is queried for every selection so loading times vary&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        plotOutput&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gbifplot&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;p&gt;This should be all you need. To actually serve up the app in the web, request to be part of their beta-test of Shiny server on the web &lt;a href=&quot;https://rstudio.wufoo.com/forms/shiny-server-beta-program/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Go play with our Shiny app &lt;a href=&quot;http://glimmer.rstudio.com/ropensci/rgbif2/&quot;&gt;here&lt;/a&gt; to see the kind of visualization you can do with the &lt;code&gt;rgbif&lt;/code&gt; package.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/scott/blob/gh-pages/_drafts/2012-12-10-shiny-r.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/scott/blob/gh-pages/_posts/2012-12-10-shiny-r.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>One R package for all your taxonomic needs</title>
   <link href="http://schamberlain.github.com/2012/12/taxize/"/>
   <updated>2012-12-06T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/12/taxize</id>
   <content type="html">&lt;p&gt;UPDATE: there were some errors in the tests for &lt;code&gt;taxize&lt;/code&gt;, so the binaries aren't avaiable yet. You can install from source though, see below.&lt;/p&gt;

&lt;p&gt;Getting taxonomic information for the set of species you are studying can be a pain in the ass. You have to manually type, or paste in, your species one-by-one. Or, if you are lucky, there is a web service in which you can upload a list of species. Encyclopedia of Life (EOL) has a service where you can do this &lt;a href=&quot;http://gni.globalnames.org/parsers/new&quot;&gt;here&lt;/a&gt;. But is this reproducible? No.&lt;/p&gt;

&lt;p&gt;Getting your taxonomic information for your species can now be done programatically in R. Do you want to get taxonomic information from ITIS. We got that. Tropicos? We got that too. uBio? No worries, we got that. What about theplantlist.org? Yep, got that. Encyclopedia of Life? Indeed. What about getting sequence data for a taxon? Oh hell yeah, you can get sequences available for a taxon across all genes, or get all records for a taxon for a specific gene.&lt;/p&gt;

&lt;p&gt;Of course this is all possible because these data providers have open APIs so that we can facilitate your computer talking to their database. Fun!&lt;/p&gt;

&lt;p&gt;Why get your taxonomic data programatically? Because it's 1) faster than by hand in web sites/looking up in books, 2) reproducible, especially if you share your code (damnit!), and 3) you can easily mash up your new taxonomic data to get sequences to build a phylogeny, etc.&lt;/p&gt;

&lt;p&gt;I'll give a few examples of using &lt;code&gt;taxize&lt;/code&gt; based around use cases, that is, stuff someone might actually do instead of what particular functions do.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;Install packages.  You can get from CRAN or GitHub.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;quot;ritis&amp;quot;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;quot;taxize&amp;quot;, type=&amp;quot;source&amp;quot;) # uncomment if not already installed&lt;/span&gt;
library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ritis&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Attach family names to a list of species.&lt;/h3&gt;

&lt;h4&gt;I often have a list of species that I studied and simply want to get their family names to, for example, make a table for the paper I'm writing.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For one species&lt;/span&gt;
itis_name&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Poa annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; get &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;family&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Poa annua &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[1] &amp;quot;Poaceae&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For many species&lt;/span&gt;
species &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Poa annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Abies procera&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Coffea arabica&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
famnames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sapply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; itis_name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; get &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;family&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; USE.NAMES &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Poa annua &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Abies procera &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Helianthus annuus &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Coffea arabica &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; family &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; famnames&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;            species     family
1         Poa annua    Poaceae
2     Abies procera   Pinaceae
3 Helianthus annuus Asteraceae
4    Coffea arabica  Rubiaceae
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Resolve taxonomic names.&lt;/h3&gt;

&lt;h4&gt;This is a common use case for ecologists/evolutionary biologists, or at least should be. That is, species names you have for your own data, or when using other's data, could be old names - and if you need the newest names for your species list, how can you make this as painless as possible? You can query taxonomic data from many different sources with &lt;code&gt;taxize&lt;/code&gt;.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# The iPlantCollaborative provides access via API to their taxonomic name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# resolution service (TNRS)&lt;/span&gt;
mynames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shorea robusta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pandanus patina&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;oryza sativa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;durio zibethinus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;rubus ulmifolius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;asclepias curassavica&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pistacia lentiscus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
iplant_tnrsmatch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;retrieve &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; taxnames &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;acacia&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;gossypium&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; output &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;names&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;       AcceptedName   MatchFam MatchGenus MatchScore    Accept?
1 Helianthus annuus Asteraceae Helianthus          1 No opinion
2            Acacia   Fabaceae     Acacia          1 No opinion
3                                  Acacia          1 No opinion
4         Gossypium  Malvaceae  Gossypium          1 No opinion
     SubmittedNames
1 helianthus annuus
2            acacia
3            acacia
4         gossypium
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# The global names resolver is another attempt at this, hitting many&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# different data sources&lt;/span&gt;
gnr_resolve&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;names &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; returndf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   data_source_id    submitted_name       name_string score
1               4 Helianthus annuus Helianthus annuus 0.988
3              10 Helianthus annuus Helianthus annuus 0.988
5              12 Helianthus annuus Helianthus annuus 0.988
8             110 Helianthus annuus Helianthus annuus 0.988
11            159 Helianthus annuus Helianthus annuus 0.988
13            166 Helianthus annuus Helianthus annuus 0.988
15            169 Helianthus annuus Helianthus annuus 0.988
2               4      Homo sapiens      Homo sapiens 0.988
4              10      Homo sapiens      Homo sapiens 0.988
6              12      Homo sapiens      Homo sapiens 0.988
7             107      Homo sapiens      Homo sapiens 0.988
9             122      Homo sapiens      Homo sapiens 0.988
10            123      Homo sapiens      Homo sapiens 0.988
12            159      Homo sapiens      Homo sapiens 0.988
14            168      Homo sapiens      Homo sapiens 0.988
16            169      Homo sapiens      Homo sapiens 0.988
                     title
1                     NCBI
3                 Freebase
5                      EOL
8     Illinois Wildflowers
11                 CU*STAR
13                   nlbif
15           uBio NameBank
2                     NCBI
4                 Freebase
6                      EOL
7                AskNature
9                 BioPedia
10                   AnAge
12                 CU*STAR
14 Index to Organism Names
16           uBio NameBank
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# We can hit the Plantminer API too&lt;/span&gt;
plants &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Myrcia lingua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Myrcia bella&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Ocotea pulchella&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Miconia&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Coffea arabica var. amarella&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Bleh&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
plantminer&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plants&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Myrcia lingua 
Myrcia bella 
Ocotea pulchella 
Miconia 
Coffea arabica var. amarella 
Bleh 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;              fam   genus                    sp             author
1       Myrtaceae  Myrcia                lingua   (O. Berg) Mattos
2       Myrtaceae  Myrcia                 bella           Cambess.
3       Lauraceae  Ocotea             pulchella (Nees &amp;amp; Mart.) Mez
4 Melastomataceae Miconia                    NA        Ruiz &amp;amp; Pav.
5       Rubiaceae  Coffea arabica var. amarella        A. Froehner
6              NA    Bleh                    NA                 NA
            source source.id   status confidence suggestion       database
1              TRO 100227036       NA         NA         NA       Tropicos
2             WCSP    131057 Accepted          H         NA The Plant List
3 WCSP (in review)    989758 Accepted          M         NA The Plant List
4              TRO  40018467       NA         NA         NA       Tropicos
5              TRO 100170231       NA         NA         NA       Tropicos
6               NA        NA       NA         NA       Baea             NA
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# We made a light wrapper around the Taxonstand package to search&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Theplantlist.org too&lt;/span&gt;
splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Heliathus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Abies procera&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Poa annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Platanus occidentalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Carex abrupta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Arctostaphylos canescens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Ocimum basilicum&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Vicia faba&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus kelloggii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Lactuca serriola&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
tpl_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; splist&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;            Genus      Species Infraspecific Plant.Name.Index
1       Heliathus       annuus                          FALSE
2           Abies      procera                           TRUE
3             Poa        annua                           TRUE
4        Platanus occidentalis                           TRUE
5           Carex      abrupta                           TRUE
6  Arctostaphylos    canescens                           TRUE
7          Ocimum    basilicum                           TRUE
8           Vicia         faba                           TRUE
9         Quercus    kelloggii                           TRUE
10        Lactuca     serriola                           TRUE
   Taxonomic.status      Family      New.Genus  New.Species
1                                    Heliathus       annuus
2          Accepted    Pinaceae          Abies      procera
3          Accepted     Poaceae            Poa        annua
4          Accepted Platanaceae       Platanus occidentalis
5          Accepted  Cyperaceae          Carex      abrupta
6          Accepted   Ericaceae Arctostaphylos    canescens
7          Accepted   Lamiaceae         Ocimum    basilicum
8          Accepted Leguminosae          Vicia         faba
9          Accepted    Fagaceae        Quercus    kelloggii
10         Accepted  Compositae        Lactuca     serriola
   New.Infraspecific Authority  Typo WFormat
1                              FALSE   FALSE
2                       Rehder FALSE   FALSE
3                           L. FALSE   FALSE
4                           L. FALSE   FALSE
5               &amp;lt;NA&amp;gt;     Mack. FALSE   FALSE
6                       Eastw. FALSE   FALSE
7                           L. FALSE   FALSE
8                           L. FALSE   FALSE
9               &amp;lt;NA&amp;gt;     Newb. FALSE   FALSE
10                          L. FALSE   FALSE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Taxonomic hierarchies&lt;/h3&gt;

&lt;h4&gt;I often want the full taxonomic hierarchy for a set of species. That is, give me the family, order, class, etc. for my list of species. There are two different easy ways to do this with &lt;code&gt;taxize&lt;/code&gt;. The first example uses EOL.&lt;/h4&gt;

&lt;hr /&gt;

&lt;h4&gt;Using EOL.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;pageid &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eol_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus douglasii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)$&lt;/span&gt;id&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# first need to search for the taxon&amp;#39;s page on EOL&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eol_pages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxonconceptID &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; pageid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# then we nee to get the taxon ID used by EOL&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Notice that there are multiple different sources you can pull the&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# hierarchy from. Note even that you can get the hierarchy from the ITIS&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# service via this EOL API.&lt;/span&gt;
out
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  identifier                 scientificName
1   46203061 Quercus douglasii Hook. &amp;amp; Arn.
2   48373995 Quercus douglasii Hook. &amp;amp; Arn.
                                  nameAccordingTo sourceIdentfier
1  Integrated Taxonomic Information System (ITIS)           19322
2 Species 2000 &amp;amp; ITIS Catalogue of Life: May 2012         9723391
  taxonRank
1   Species
2   Species
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Then the hierarchy!&lt;/span&gt;
eol_hierarchy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;nameAccordingTo &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Species 2000 &amp;amp; ITIS Catalogue of Life: May 2012&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;identifier&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  sourceIdentifier  taxonID parentNameUsageID taxonConceptID
1         11017504 48276627                 0            281
2         11017505 48276628          48276627            282
3         11017506 48276629          48276628            283
4         11022500 48373354          48276629           4184
5         11025284 48373677          48373354           4197
  scientificName taxonRank
1        Plantae   kingdom
2  Magnoliophyta    phylum
3  Magnoliopsida     class
4        Fagales     order
5       Fagaceae    family
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;eol_hierarchy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;nameAccordingTo &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Integrated Taxonomic Information System (ITIS)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;identifier&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# and from ITIS, slightly different than ITIS output below, which includes taxa all the way down.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   sourceIdentifier  taxonID parentNameUsageID taxonConceptID
1            202422 46150613                 0            281
2            846492 46159776          46150613        8654492
3            846494 46161961          46159776       28818077
4            846496 46167532          46161961           4494
5            846504 46169010          46167532       28825126
6            846505 46169011          46169010            282
7             18063 46169012          46169011            283
8            846548 46202954          46169012       28859070
9             19273 46202955          46202954           4184
10            19275 46203022          46202955           4197
    scientificName     taxonRank
1          Plantae       kingdom
2   Viridaeplantae    subkingdom
3     Streptophyta  infrakingdom
4     Tracheophyta      division
5  Spermatophytina   subdivision
6     Angiospermae infradivision
7    Magnoliopsida         class
8          Rosanae    superorder
9          Fagales         order
10        Fagaceae        family
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h4&gt;And getting a taxonomic hierarchy using ITIS.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# First, get the taxonomic serial number (TSN) that ITIS uses&lt;/span&gt;
mytsn &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_tsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus douglasii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sciname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Quercus douglasii &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get the full taxonomic hierarchy for a taxon from the TSN&lt;/span&gt;
itis&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mytsn&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;getfullhierarchyfromtsn&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;$`1`
        parentName parentTsn      rankName         taxonName    tsn
1                                  Kingdom           Plantae 202422
2          Plantae    202422    Subkingdom    Viridaeplantae 846492
3   Viridaeplantae    846492  Infrakingdom      Streptophyta 846494
4     Streptophyta    846494      Division      Tracheophyta 846496
5     Tracheophyta    846496   Subdivision   Spermatophytina 846504
6  Spermatophytina    846504 Infradivision      Angiospermae 846505
7     Angiospermae    846505         Class     Magnoliopsida  18063
8    Magnoliopsida     18063    Superorder           Rosanae 846548
9          Rosanae    846548         Order           Fagales  19273
10         Fagales     19273        Family          Fagaceae  19275
11        Fagaceae     19275         Genus           Quercus  19276
12         Quercus     19276       Species Quercus douglasii  19322
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# But this can be even easier!&lt;/span&gt;
classification&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;get_tsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus douglasii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# Boom!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Quercus douglasii &amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;$`1`
        parentName parentTsn      rankName         taxonName    tsn
1                                  Kingdom           Plantae 202422
2          Plantae    202422    Subkingdom    Viridaeplantae 846492
3   Viridaeplantae    846492  Infrakingdom      Streptophyta 846494
4     Streptophyta    846494      Division      Tracheophyta 846496
5     Tracheophyta    846496   Subdivision   Spermatophytina 846504
6  Spermatophytina    846504 Infradivision      Angiospermae 846505
7     Angiospermae    846505         Class     Magnoliopsida  18063
8    Magnoliopsida     18063    Superorder           Rosanae 846548
9          Rosanae    846548         Order           Fagales  19273
10         Fagales     19273        Family          Fagaceae  19275
11        Fagaceae     19275         Genus           Quercus  19276
12         Quercus     19276       Species Quercus douglasii  19322
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# You can also do this easy-peasy route to a taxonomic hierarchy using&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# uBio&lt;/span&gt;
classification&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;get_uid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Ornithorhynchus anatinus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;$`1`
       ScientificName         Rank    UID
1  cellular organisms      no rank 131567
2           Eukaryota superkingdom   2759
3        Opisthokonta      no rank  33154
4             Metazoa      kingdom  33208
5           Eumetazoa      no rank   6072
6           Bilateria      no rank  33213
7           Coelomata      no rank  33316
8       Deuterostomia      no rank  33511
9            Chordata       phylum   7711
10           Craniata    subphylum  89593
11         Vertebrata      no rank   7742
12      Gnathostomata   superclass   7776
13         Teleostomi      no rank 117570
14       Euteleostomi      no rank 117571
15      Sarcopterygii      no rank   8287
16          Tetrapoda      no rank  32523
17            Amniota      no rank  32524
18           Mammalia        class  40674
19        Prototheria      no rank   9254
20        Monotremata        order   9255
21  Ornithorhynchidae       family   9256
22    Ornithorhynchus        genus   9257
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Sequences?&lt;/h3&gt;

&lt;h4&gt;While you are at doing taxonomic stuff, you often wonder &quot;hmmm, I wonder if there are any sequence data available for my species?&quot; So, you can use &lt;code&gt;get_seqs&lt;/code&gt; to search for specific genes for a species, and &lt;code&gt;get_genes_avail&lt;/code&gt; to find out what genes are available for a certain species. These functions search for data on &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/&quot;&gt;NCBI&lt;/a&gt;.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get sequences (sequence is provied in output, but hiding here for&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# brevity). What&amp;#39;s nice about this is that it gets the longest sequence&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# avaialable for the gene you searched for, and if there isn&amp;#39;t anything&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# available, it lets you get a sequence from a congener if you set&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# getrelated=TRUE. The last column in the output data.frame also tells you&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# what species the sequence is from.&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_seqs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxon_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Acipenser brevirostrum&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; gene &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;5S rRNA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    seqrange &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1:3000&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; getrelated &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; writetodf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; !names&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sequence&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;                   taxon                                         gene_desc
1 Acipenser brevirostrum Acipenser brevirostrum 5S rRNA gene, clone BRE92A
     gi_no     acc_no length                 spused
1 60417159 AJ745069.1    121 Acipenser brevirostrum
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for available sequences&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_genes_avail&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxon_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Umbra limi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; seqrange &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1:2000&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; getrelated &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;grep&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;RAG1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;genesavail&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ignore.case &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# does the string &amp;#39;RAG1&amp;#39; exist in any of the gene names&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;        spused length
414 Umbra limi    732
427 Umbra limi    959
434 Umbra limi   1631
                                                                            genesavail
414 isolate UlimA recombinase activating protein 1 (rag1) gene, exon 3 and partial cds
427           recombination-activating protein 1 (RAG1) gene, intron 2 and partial cds
434                        recombination-activating protein 1 (RAG1) gene, partial cds
    predicted
414  JX190826
427  AY459526
434  AY380548
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-12-06-taxize.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-12-06-taxize.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Altecology, a call to unconference action</title>
   <link href="http://schamberlain.github.com/2012/11/altecology/"/>
   <updated>2012-11-15T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/11/altecology</id>
   <content type="html">&lt;p&gt;Note: This post is cross-posted on Sandra Chung's blog &lt;a href=&quot;http://sandrachung.com/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;The rise of the unconference&lt;/h3&gt;

&lt;p&gt;The Ecological Society of America meeting is holding its &lt;a href=&quot;http://www.esa.org/minneapolis/&quot;&gt;98th annual meeting&lt;/a&gt; next year in Minneapolis, MN. Several thousand students and professionals in ecological science and education will gather to hear and read the latest work and ideas in ecology in the familiar poster and lecture formats that are the core of every major scientific conference. But a subset of these people will get a taste of something a little bit different: an unconference within the conference.&lt;/p&gt;

&lt;p&gt;The most important difference between traditional science conferences and the unconference format is that it prioritizes human interaction. Often the best and most important parts of science meetings are the interactions between talks, next to posters, and at the end of the day over drinks. These connections pave the way for collaborations and friendships that nourish our professional and personal lives with shared opportunities, camaraderie and support.&lt;/p&gt;

&lt;p&gt;In recognition of the increasing relative importance of the meeting part of a science meeting, the unconference format emphasizes interaction over presentation. It attempts to engage participants to the maximum extent reasonable in discussion and doing. &lt;a href=&quot;http://scienceonline.com/&quot;&gt;Science Online&lt;/a&gt; is a good example of this unconference format, in which the session topics are typically decided on democratically by the conference attendees (partly before arrival, partly on arrival), and you vote with your feet by going to and leaving sessions as you desire.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;Ecology is changing&lt;/h3&gt;

&lt;p&gt;Ecology is now adopting some of the same online and social tools that are already accelerating innovation in computing and other science disciplines. Ecologists, ecology students and educators are asking many of the same basic questions they have always asked: What should we be doing? How do we do it better and faster? Social media, open source software, open science, altmetrics, crowdsourcing, crowdfunding, data visualization, data sharing, alternative peer review, and an increasing emphasis on more and better communication and collaboration are just some of the newer tools being put forth to help address those questions in the 21st century.&lt;/p&gt;

&lt;p&gt;Social media is rapidly becoming more common in ecologists toolkits to disseminate news of their new papers, communicate about research and research tools, and even filter the deluge of publications. Tools like blogs, Twitter and Facebook are filling the communication gaps between annual meetings and adding a new layer of conversation and connection to conferences and classrooms.&lt;/p&gt;

&lt;p&gt;Social media, in turn, is connecting scientists directly to people besides their immediate colleagues who appreciate the impact of their work and want it to continue. The crowdfunding movement - exemplified by Kickstarter - has spurred similar alternative science funding projects such as SciFund. #SciFund project has shown that social media engagement increases donations to crowdfunded research (&lt;a href=&quot;http://jecology.libsyn.com/interview-with-jarrett-byrnes-on-science-crowdfunding&quot;&gt;interview with Jarrett Byrnes&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;In addition, we are in the era of big data, and &lt;a href=&quot;http://www.neoninc.org/news/big-data-part-i&quot;&gt;this includes ecology&lt;/a&gt;. To deal with this data deluge, ecologists increasingly want to learn how to manage, share, retrieve, use, and visualize data. There are new tools for all of these tasks - we need to aid each other in learning them. Online and offline communities are coalescing around the development and dissemination of these tools for the benefit of ecological science, and they are meeting face-to-face at our ecological unconference.&lt;/p&gt;

&lt;p&gt;Science in general is becoming increasingly complex and calling for larger and larger collaborations. This growth in turn is spurring a drive toward more openness and transparency within the culture of science. The more collaborative and complex scientific study becomes, the more scientists depend upon each other to do good work that we can all build upon with confidence. The often unstated assumption about ecology, and all of science, is that research findings are reproducible; but that assumption is quite shaky given the increasing number of retractions (see the &lt;a href=&quot;http://retractionwatch.wordpress.com/&quot;&gt;Retraction Watch blog&lt;/a&gt;) and findings that much research is not reproducible (see media coverage &lt;a href=&quot;http://www.nature.com/nature/journal/v483/n7391/full/483531a.html&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://www.reuters.com/article/2012/03/28/us-science-cancer-idUSBRE82R12P20120328&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;A recent initiative seeks to facilitate attempts to reproduce research: &lt;a href=&quot;https://www.scienceexchange.com/reproducibility&quot;&gt;The Reproducibility Initiative&lt;/a&gt;. Jarrett Byrnes &lt;a href=&quot;http://www.slideshare.net/JarrettByrnes/taking-the-ecological-conversation-online&quot;&gt;spoke at #ESA2012&lt;/a&gt; of how transparent, online discourse enhances our ability to discuss and improve our work and the work of our peers, both before and after publication.&lt;/p&gt;

&lt;p&gt;Much of the ecological science community shares one or both of these goals: to do the best possible science, and to do it in a way that is most useful and accessible to colleagues and to society at large. The goal of this years ecological unconference is to introduce as many people as possible to resources - both tools and people - that can help all of us achieve those goals, on our own, or together.&lt;/p&gt;

&lt;p&gt;One way we as ecologists can quickly make our research more reproducible is the way we write. By simply using tools that make reproducing what we have done easy to do, we can avoid retracted papers, failed drugs, and ruined careers.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;What are you proposing?&lt;/h3&gt;

&lt;p&gt;We originally thought about a separate event from ESA itself, modeled after &lt;a href=&quot;http://scienceonline.com/&quot;&gt;Science Online&lt;/a&gt;, incorporating a variety of topics. However, we thought testing the waters for this sort of non-traditional unconference format would be better in 2013. We are gathering ideas from the community (see How do I make my voice heard? below). The ideas on the wiki that get the most traction, and have 1-2 champions that are willing to see the idea through and lead the workshop at ESA will be turned in to proposals for ESA workshops. In addition, we will be submitting a proposal for an Ignite session at ESA. To summarise, we will be running:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A few workshops (at lunch hours, and half-day). Topics may include:

&lt;ul&gt;
&lt;li&gt;Data sharing&lt;/li&gt;
&lt;li&gt;Data visualization&lt;/li&gt;
&lt;li&gt;Data management&lt;/li&gt;
&lt;li&gt;Alternatives to academia&lt;/li&gt;
&lt;li&gt;Blogging&lt;/li&gt;
&lt;li&gt;Social media&lt;/li&gt;
&lt;li&gt;Reproducible science writing&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;One Ignite session on Tools for better/faster science. See more about Ignite sessions &lt;a href=&quot;http://www.esa.org/minneapolis/ignite.php&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A tweetup event to socialize in a more relaxed atmosphere&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These will all be loosely aggregated under the &lt;a href=&quot;https://twitter.com/search/realtime?q=%23AltEcology&quot;&gt;#AltEcology&lt;/a&gt; hashtag.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;How do I make my voice heard?&lt;/h3&gt;

&lt;p&gt;We have set up a wiki in which anyone can contribute. Please share your ideas and voice your support for existing ones at the wiki &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;here&lt;/a&gt;.  You can just throw ideas out there, or even propose new workshops and nominate people to lead them. Were currently moving to transform existing ideas into ESA workshop and Ignite proposals to meet the &lt;a href=&quot;http://www.esa.org/minneapolis/workshop.php&quot;&gt;November 29 deadline&lt;/a&gt;, but well be incorporating input from the wiki right up to the meeting itself in August 2013.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;Get in touch&lt;/h3&gt;

&lt;p&gt;If you have any questions/comments, let us know in the comments section below, tweet us (Sandra: &lt;a href=&quot;https://twitter.com/sandramchung&quot;&gt;@sandramchung&lt;/a&gt;, Scott: &lt;a href=&quot;https://twitter.com/recology_&quot;&gt;@recology_&lt;/a&gt;), or email (&lt;a href=&quot;mailto:sandra.m.chung@gmail.com&quot;&gt;Sandra&lt;/a&gt;, &lt;a href=&quot;mailto:myrmecocystus@gmail.com&quot;&gt;Scott&lt;/a&gt;).&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;Get the .md file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-11-15-altecology.md&quot;&gt;at my github account&lt;/a&gt;.  Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Displaying Your Data in Google Earth Using R2G2</title>
   <link href="http://schamberlain.github.com/2012/10/R2G2-package/"/>
   <updated>2012-10-24T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/10/R2G2-package</id>
   <content type="html">&lt;p&gt;Have you ever wanted to easily visualize your ecology data in &lt;a href=&quot;http://earth.google.com&quot;&gt;Google Earth&lt;/a&gt;?  &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is a new package for R, available via &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R CRAN&lt;/a&gt; and formally described in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;this Molecular Ecology Resources article&lt;/a&gt;, which provides a user-friendly bridge between R and the Google Earth interface.  Here, we will provide a brief introduction to the package, including a short tutorial, and then encourage you to try it out with your own data!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://barkerlab.net/nils.html&quot;&gt;Nils Arrigo&lt;/a&gt;, with some help from &lt;a href=&quot;http://portal.environment.arizona.edu/students/profiles/loren-albert&quot;&gt;Loren Albert&lt;/a&gt;, &lt;a href=&quot;http://barkerlab.net/mike.html&quot;&gt;Mike Barker&lt;/a&gt;, and Pascal Mickelson (one of the contributors to &lt;a href=&quot;http://schamberlain.github.com/about.html&quot;&gt;Recology&lt;/a&gt;), has created a set of R tools to generate KML files to view data with geographic components.  Instead of just telling you what the tools can do, though, we will show you a couple of examples using publically available data.  Note: a number of individual files are linked to throughout the tutorial below, but just in case you would rather download all the tutorial files in one go, have at it (&lt;a href=&quot;/img/R2G2tutorial/R2G2tutorial.zip&quot;&gt;tutorial zip file&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Among the basic tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is the ability to place featureslike dots, shapes, or images (including plots you produced in R) that represent discrete observations at specific geographical locations.  For example, in the figure below, we show the migratory path of a particular turkey vulture in autumn of three successive years (red = 2009; blue = 2010; green = 2011).&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/img/R2G2tutorial/Vulture_Path.jpg&quot; alt=&quot;Google Earth image with three successive years of a particular turkey vulture's migration&quot; width=&quot;800&quot;&gt;&lt;br&gt;
&lt;small&gt;Google Earth imagery showing migratory path of a particular turkey vulture in 2009, 2010, and 2011.&lt;/small&gt;
&lt;/div&gt;


&lt;p&gt;&lt;/p&gt;

&lt;p&gt;We use the &lt;em&gt;PolyLines2GE&lt;/em&gt; function that is part of &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to create line segments between the geographical coordinates which have been obtained from a turkey vulture tagged with a transponder (data accessed via the &lt;a href=&quot;http://movebank.org/&quot;&gt;Movebank Data Repository&lt;/a&gt; and is from the &lt;a href=&quot;http://movebank.org/movebank/#page%3Dstudies%2Cpath%3Dstudy481458&quot;&gt;Turkey Vulture Acopian Center USA GPS&lt;/a&gt;).  The &lt;em&gt;PolyLines2GE&lt;/em&gt; function looks like the following:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;PolyLines2GE&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;coords &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vulture_path&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
            nesting &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vulture_path&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
            colors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;auto&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            goo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Vulture_Path.kml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            maxAlt &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;e4&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            closepoly &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            lwd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            extrude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;It expects to receive an array (&quot;coords&quot;) containing latitude and longitude coordinates in decimal degrees. Additionally, each individual coordinate has a flag associated with it (&quot;nesting&quot;) so that each data series can be distinguished.  Illustrating what you need is easier than explaining:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;nesting longitude latitude
1   long1A      lat1A
1   long1B      lat1B
1   long1C      lat1C
2   long2A      lat2A
2   long2B      lat2B
3   long3A      lat3A
3   long3B      lat3B
3   long3C      lat3C
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Feeding the columns of this array to the function results in three differently colored lines:  the first would connect the coordinates 1A-1B-1C, while the second would connect 2A-2B, and the third would connect 3A-3B-3C.  The only other user-defined input that is strictly necessary is the output file name (&quot;Vulture_Path.kml&quot; in this case).  The other optionswhich allow you control of the appearance of the lines and of the altitude at which your line displays in Google Earthhave reasonable defaults that are well-documented in the function definition itself.  Check out this example in Google Earth &lt;a href=&quot;/img/R2G2tutorial/Vulture_Path.kml&quot;&gt;by downloading the KML file&lt;/a&gt;.  Alternatively, &lt;a href=&quot;/img/R2G2tutorial/Vulture_Path.R&quot;&gt;download the annotated R script&lt;/a&gt; and generate the KML file for yourself.&lt;/p&gt;

&lt;p&gt;Now, let's say you wanted to get a sense of the range and abundance of two congeneric species.  In this second example, we use the &lt;em&gt;Hist2GE&lt;/em&gt; function to create a histogramoverlaid on the surface of the earthwhich shows the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; (red) and &lt;em&gt;Mimulus nasutus&lt;/em&gt; (blue) in North America.&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/img/R2G2tutorial/Mimulus_Distribution.jpg&quot; alt=&quot;Google Earth image showing the distribution of Mimulus in North America&quot; width=&quot;800&quot;&gt;&lt;br&gt;
&lt;small&gt;Google Earth imagery showing the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; and &lt;em&gt;Mimulus nasutus&lt;/em&gt;&lt;/small&gt;
&lt;/div&gt;


&lt;p&gt;&lt;/p&gt;

&lt;p&gt;As you might expect, each polygon represents an occurrence of the species in question, while the height of the polygon represents the abundance of the species at that geographic location.  Species occurring within a particular distance of each other have been grouped together for the histogram.  For this example, we retrieve data from the &lt;a href=&quot;http://data.gbif.org/&quot;&gt;GBIF&lt;/a&gt; database from within R (see the example code for how that is done).  Inputs to the Hist2GE function are:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;Hist2GE&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;coords &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MyCompleteData&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
        species &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MyCompleteData&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
        grid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid10000&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        goo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Mimulus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        nedges &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        orient &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        maxAlt &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;e4&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;As in the first example, the function expects to receive an array containing the longitude and latitude (&quot;coords&quot;), a vector distinguishing individual observations (&quot;species&quot;), and an output file name (&quot;goo&quot;).  In this case, however, we also need to specify the size of the grid we will use to group observations together to construct the histogram.  Several pre-defined grid sizes are included in the package to do this grouping; these all cover large geographic areas and therefore must account for the curvature of the earth.  Here is a list of these pre-defined grids:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;&lt;th&gt;Grid Name&lt;/th&gt;&lt;th&gt;Approximate Area of Grid Division &lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid20000&lt;/td&gt;&lt;td&gt;25,500 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid10000&lt;/td&gt;&lt;td&gt;51,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid5000&lt;/td&gt;&lt;td&gt;102,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid500&lt;/td&gt;&lt;td&gt;1,020,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid50&lt;/td&gt;&lt;td&gt;10,200,000 sq. km&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;


&lt;p&gt;&lt;/p&gt;

&lt;p&gt;For smaller geographic areas (less than 25,000 square kilometers, or an area of about 158 km per side), you can customize the grid size by specifying the bounds of your region of interest in decimal degrees, as well as the coarseness of the grid within that region.  While it is possible to use this custom grid definition for larger sizes, beware that not all areas defined thusly will be of equal size due to the earth's curvature (obviously the bigger you go, the worse it gets...).  Finally, you again have control over the display parameters of the histogram.  In particular, the maximum altitude (&quot;maxAlt&quot;) controls how high the tallest bar in the histogram will go.  Here is &lt;a href=&quot;/img/R2G2tutorial/Mimulus_Distribution.kml&quot;&gt;the resulting KML file&lt;/a&gt;, as well as &lt;a href=&quot;/img/R2G2tutorial/Mimulus_Distribution.R&quot;&gt;the annotated R script&lt;/a&gt; so you can further explore the example.&lt;/p&gt;

&lt;p&gt;More complex visual representations are also possible using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;.  For instance, you can also create contour plots or phylogenies overlaid directly on the surface of the earth.  We included a couple examples of this type in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;our Molecular Ecology Resources article&lt;/a&gt;, and if the response seems good, we may post a follow up tutorial showing how we went about creating those examples.&lt;/p&gt;

&lt;p&gt;It is our sincere hope that you will use the tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to more effectively visualize the geographical aspects of your data.  In particular, we are excited about the potential for incorporating &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; into data analysis pipelines connecting analysis in R with data visualization and exploration in Google Earth.  Ultimately, the inclusion of KML files as supplementary materials to journal articles should also enrich one's understanding of the data being presented!&lt;/p&gt;

&lt;p&gt;&lt;big&gt;&lt;b&gt;Note:  If you make something cool using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;, please post a link to your KML file in the comments; we would love to see!&lt;/b&gt;&lt;/big&gt;&lt;/p&gt;

&lt;p&gt;Citation information for &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;:&lt;br/&gt;
&lt;em&gt;Arrigo, N., Albert, L. P., Mickelson, P. G. and Barker, M. S. (2012), Quantitative visualization of biological data in Google Earth using R2G2, an R CRAN package. Molecular Ecology Resources. doi: 10.1111/1755-0998.12012&lt;/em&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting taxonomic names downstream</title>
   <link href="http://schamberlain.github.com/2012/10/get-taxa-downstream/"/>
   <updated>2012-10-16T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/10/get-taxa-downstream</id>
   <content type="html">&lt;p&gt;It can be a pain in the ass to get taxonomic names. For example, I sometimes need to get all the Class names for a set of species.  This is a relatively easy problem using the &lt;a href=&quot;http://www.itis.gov/ws_description.html&quot;&gt;ITIS API&lt;/a&gt; (example below).&lt;/p&gt;

&lt;p&gt;The much harder problem is getting all the taxonomic names downstream. ITIS doesn't provide an API method for this - well, they do (&lt;a href=&quot;http://www.itis.gov/ws_hierApiDescription.html#getHierarchyDn&quot;&gt;&lt;code&gt;getHirerachyDownFromTSN&lt;/code&gt;&lt;/a&gt;), but it only provides direct children (e.g., the genera within a tribe - but it won't give all the species within each genus).&lt;/p&gt;

&lt;p&gt;So in the &lt;code&gt;taxize&lt;/code&gt; package, we wrote a function called &lt;code&gt;downstream&lt;/code&gt;, which allows you to get taxonomic names to any downstream point, e.g.:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;get all Classes within Animalia,&lt;/li&gt;
&lt;li&gt;get all Species within a Family&lt;/li&gt;
&lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Install packages.  You can get other packages from CRAN, but taxize is only on GitHub for now.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;ritis&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ritis&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Get upstream taxonomic names.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Search for a TSN by scientific name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; searchbyscientificname&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Tardigrada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; tsn &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;combinedname &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Tardigrada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;tsn&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get just one immediate higher taxonomic name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; gethierarchyupfromtsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tsn &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; tsn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  parentName parentTsn rankName  taxonName    tsn
1   Animalia    202423   Phylum Tardigrada 155166
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get full hierarchy upstream from TSN&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; getfullhierarchyfromtsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tsn &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; tsn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  parentName parentTsn rankName        taxonName    tsn
1                       Kingdom         Animalia 202423
2   Animalia    202423   Phylum       Tardigrada 155166
3 Tardigrada    155166    Class     Eutardigrada 155362
4 Tardigrada    155166    Class Heterotardigrada 155167
5 Tardigrada    155166    Class   Mesotardigrada 155358
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Get taxonomc names downstream.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get genera downstream fromthe Class Bangiophyceae&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; downstream&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;846509&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Genus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;    tsn parentName parentTsn   taxonName rankId rankName
1 11531 Bangiaceae     11530      Bangia    180    Genus
2 11540 Bangiaceae     11530    Porphyra    180    Genus
3 11577 Bangiaceae     11530 Porphyrella    180    Genus
4 11580 Bangiaceae     11530 Conchocelis    180    Genus
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get families downstream from Acridoidea&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; downstream&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;650497&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Family&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;      tsn parentName parentTsn      taxonName rankId rankName
1  102195 Acridoidea    650497      Acrididae    140   Family
2  650502 Acridoidea    650497     Romaleidae    140   Family
3  657472 Acridoidea    650497    Charilaidae    140   Family
4  657473 Acridoidea    650497   Lathiceridae    140   Family
5  657474 Acridoidea    650497     Lentulidae    140   Family
6  657475 Acridoidea    650497    Lithidiidae    140   Family
7  657476 Acridoidea    650497   Ommexechidae    140   Family
8  657477 Acridoidea    650497    Pamphagidae    140   Family
9  657478 Acridoidea    650497  Pyrgacrididae    140   Family
10 657479 Acridoidea    650497    Tristiridae    140   Family
11 657492 Acridoidea    650497 Dericorythidae    140   Family
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get species downstream from Ursus&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; downstream&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;180541&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Species&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;     tsn parentName parentTsn        taxonName rankId rankName
1 180542      Ursus    180541  Ursus maritimus    220  Species
2 180543      Ursus    180541     Ursus arctos    220  Species
3 180544      Ursus    180541 Ursus americanus    220  Species
4 621850      Ursus    180541 Ursus thibetanus    220  Species
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-10-16-get-taxa-downstream.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-10-16-get-taxa-downstream.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Exploring phylogenetic tree balance metrics</title>
   <link href="http://schamberlain.github.com/2012/10/phylogenetic-tree-balance/"/>
   <updated>2012-10-10T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/10/phylogenetic-tree-balance</id>
   <content type="html">&lt;p&gt;I need to simulate balanced and unbalanced phylogenetic trees for some research I am doing.  In order to do this, I do rejection sampling: simulate a tree -&gt; measure tree shape -&gt; reject if not balanced or unbalanced &lt;strong&gt;enough&lt;/strong&gt;.  But what is enough?  We need to define some cutoff value to determine what will be our set of balanced and unbalanced trees.&lt;/p&gt;

&lt;h3&gt;A function to calculate shape metrics, and a custom theme for plottingn phylogenies.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; foo &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; metric &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;colless&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;     &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;metric &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;colless&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;         xx &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.treeshape&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# convert to apTreeshape format&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;         colless&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xx&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;yule&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# calculate colless&amp;#39; metric&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;metric &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gamma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;         gammaStat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;metric should be one of colless or gamma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; theme_myblank &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     stopifnot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;     theme_blank &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot2&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;theme_blank
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     ggplot2&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;         panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; plot.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;         axis.title.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; axis.title.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;         axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.line &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;         axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Simulate some trees&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ape&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phytools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; numtrees &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# lets simulate 1000 trees&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; trees &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; pbtree&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nsim &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ape &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# simulate 500 pure-birth trees with 100 spp each, ape = F makes it run faster&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Calculate Colless' shape metric on each tree&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apTreeshape&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; colless_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; foo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; metric &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;colless&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# calculate metric for each tree&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;       V1
1 -0.1761
2  0.2839
3  0.4639
4  0.9439
5 -0.6961
6 -0.1161
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Calculate the percent of trees that will fall into the cutoff for balanced and unbalanced trees&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; col_percent_low &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; col_percent_high &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Create a distribution of the metric values&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# plot histogram of distribution of values&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;  geom_histogram&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;  scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; breaks&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;  ggtitle&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Distribution of Colless&amp;#39; metric for 1000 trees, cutoffs at -0.7 and 0.7 results in\n &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; col_percent_low&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;col_percent_low&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) &amp;#39;balanced&amp;#39; trees (left) and &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; col_percent_low&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;col_percent_low&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) &amp;#39;unbalanced&amp;#39; trees (right)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Colless&amp;#39; Metric Value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Number of phylogenetic trees&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;  theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plot.title  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; a
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/collesshist.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;Create phylogenies representing balanced and unbalanced trees (using the custom theme)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggphylo&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;which.min&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; c &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;which.max&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; b
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/collessphylog.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;Now, put it all together in one plot using some gridExtra magic.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gridExtra&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; pushViewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;layout &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid.layout&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; vpc_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpc_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/collessall.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;And the same for Gamma stat, which measures the distribution of nodes in time.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; gamma_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; foo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; metric&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gamma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# calculate metric for each tree&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; gam_percent_low &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; gam_percent_high &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# plot histogram of distribution of values&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;  geom_histogram&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;  scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;breaks&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;  ggtitle&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;paste0&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Distribution of Gamma metric for 1000 trees, cutoffs at -1 and 1 results in\n &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; gam_percent_low&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gam_percent_low&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) trees with deeper nodes (left) and &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; gam_percent_high&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gam_percent_high&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) trees with shallower nodes (right)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Gamma Metric Value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Number of phylogenetic trees&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;  theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plot.title  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;which.min&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; c &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;which.max&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k-Variable&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; pushViewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;layout &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid.layout&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt; vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt; vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt; vpc_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpc_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gammaall.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-10-10-phylogenetic-tree-balance.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-10-10-phylogenetic-tree-balance.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>GBIF biodiversity data from R - more functions</title>
   <link href="http://schamberlain.github.com/2012/10/rgbif-newfxns/"/>
   <updated>2012-10-08T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/10/rgbif-newfxns</id>
   <content type="html">&lt;h4&gt;UPDATE: In response to Jarrett's query I laid out a separate use case in which you may want to query by higher taxonomic rankings than species. See below.  In addition, added examples of querying by location in reply to comments by seminym.&lt;/h4&gt;

&lt;hr /&gt;

&lt;p&gt;We have been working on an R package to get GBIF data from R, with the stable version available through CRAN &lt;a href=&quot;URL&quot;&gt;here&lt;/a&gt;, and the development version available on GitHub &lt;a href=&quot;http://github.com/rgbif&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We had a Google Summer of code stuent work on the package this summer - you can see his work on the package over at his GitHub page &lt;a href=&quot;&quot;&gt;here&lt;/a&gt;.  We have added some new functionality since his work, and would like to show it off.&lt;/p&gt;

&lt;h3&gt;Lets install rgbif first.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;rgbif&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgbif&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;XML&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;httr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;maps&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;7&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Get taxonomic information on a specific taxon or taxa in GBIF by their taxon concept keys.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;keys &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; taxonsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scientificname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Puma concolor&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# many matches to this search&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt; [1] &amp;quot;51780668&amp;quot; &amp;quot;51758018&amp;quot; &amp;quot;50010499&amp;quot; &amp;quot;51773067&amp;quot; &amp;quot;51078815&amp;quot; &amp;quot;51798065&amp;quot;
 [7] &amp;quot;51088007&amp;quot; &amp;quot;50410780&amp;quot; &amp;quot;50305290&amp;quot; &amp;quot;51791438&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; taxonget&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;keys&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# let&amp;#39;s get the first one - the first row in the data.frame is the one we searched for (51780668)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[[1]]
                    sciname taxonconceptkeys       rank
1             Puma concolor         51780668    species
2                      Puma         51780667      genus
3                   Felidae         51780651     family
4                 Carnivora         51780613      order
5                  Mammalia         51780547      class
6                  Chordata         51775774     phylum
7                  Animalia         51775773    kingdom
8 Puma concolor californica         51780669 subspecies
9   Puma concolor improcera         51780670 subspecies
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;The &lt;code&gt;occurrencedensity&lt;/code&gt; function was renamed to &lt;code&gt;densitylist&lt;/code&gt; because it is in the &lt;code&gt;density&lt;/code&gt; API service, not the &lt;code&gt;occurrence&lt;/code&gt; API service.  You can use &lt;code&gt;densitylist&lt;/code&gt; to get a data.frame of total occurrence counts by one-degree cell for a single taxon, country, dataset, data publisher or data network.  Just a quick reminder of what the function can do:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  cellid minLatitude maxLatitude minLongitude maxLongitude count
1  46913          40          41          -67          -66    44
2  46914          40          41          -66          -65   907
3  46915          40          41          -65          -64   510
4  46916          40          41          -64          -63   645
5  46917          40          41          -63          -62    56
6  46918          40          41          -62          -61   143
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Using a related function, &lt;code&gt;density_spplist&lt;/code&gt;, you can get a species list by one-degree cell as well.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a species list by cell, choosing one at random&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; density_spplist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; spplist &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;random&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt; [1] &amp;quot;Abarema laeta (Benth.) Barneby &amp;amp; J.W.Grimes&amp;quot;
 [2] &amp;quot;Abuta grandifolia (Mart.) Sandwith&amp;quot;         
 [3] &amp;quot;Acalypha cuneata Poepp.&amp;quot;                    
 [4] &amp;quot;Acalypha diversifolia Jacq.&amp;quot;                
 [5] &amp;quot;Acalypha macrostachya Jacq.&amp;quot;                
 [6] &amp;quot;Acalypha stachyura Pax&amp;quot;                     
 [7] &amp;quot;Acanthoscelio acutus&amp;quot;                       
 [8] &amp;quot;Accipiter collaris&amp;quot;                         
 [9] &amp;quot;Actitis macularia&amp;quot;                          
[10] &amp;quot;Adelobotrys klugii Wurdack&amp;quot;                 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# density_spplist(originisocountrycode = &amp;#39;CO&amp;#39;, spplist = &amp;#39;r&amp;#39;) # can&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# abbreviate the `spplist` argument&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a species list by cell, choosing the one with the greatest no. of&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# records&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; density_spplist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; spplist &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;great&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# great is abbreviated from `greatest`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt; [1] &amp;quot;Acanthaceae Juss.&amp;quot;                
 [2] &amp;quot;Accipitridae sp.&amp;quot;                 
 [3] &amp;quot;Accipitriformes/Falconiformes sp.&amp;quot;
 [4] &amp;quot;Apodidae sp.&amp;quot;                     
 [5] &amp;quot;Apodidae sp. (large swift sp.)&amp;quot;   
 [6] &amp;quot;Apodidae sp. (small swift sp.)&amp;quot;   
 [7] &amp;quot;Arctiinae&amp;quot;                        
 [8] &amp;quot;Asteraceae Bercht. &amp;amp; J. Presl&amp;quot;    
 [9] &amp;quot;Asteraceae sp. 1&amp;quot;                 
[10] &amp;quot;Asteraceae sp. 6&amp;quot;                 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Can also get a data.frame with counts instead of the species list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; density_spplist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; spplist &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;great&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; listcount &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;counts&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;                              names_ count
1                  Acanthaceae Juss.     2
2                   Accipitridae sp.     6
3  Accipitriformes/Falconiformes sp.     2
4                       Apodidae sp.     5
5     Apodidae sp. (large swift sp.)     8
6     Apodidae sp. (small swift sp.)     5
7                          Arctiinae     7
8      Asteraceae Bercht. &amp;amp; J. Presl     2
9                   Asteraceae sp. 1     6
10                  Asteraceae sp. 6    10
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;You can now map point results, from fxns &lt;code&gt;occurrencelist&lt;/code&gt; and those from &lt;code&gt;densitylist&lt;/code&gt;, which plots them as points or as tiles, respectively.  Point map, using output from occurrencelist.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scientificname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Puma concolor&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;     maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; latlongdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make a map, plotting on world map&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gbifmap1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;Point map, using output from occurrencelist, with many species plotted as different colors&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Accipiter erythronemius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Junco hyemalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Aix sponsa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Buteo regalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; lapply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;splist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;     latlongdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gbifmap2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;Tile map, using output from densitylist, using results in Canada only.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# data for Canada&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# on world map&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gbifmap31.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; region &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Canada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# on Canada map&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gbifmap32.png&quot; alt=&quot;NA&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;We can also query by higher taxonomic rankings, and map all lower species within that ranking. Above we queried by scientificname, but we can also query by higher taxonomy. 7071443 is the taxonconceptkey for 'Bacillariophyceae', a Class which includes many lower species.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxonconceptKey &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7071443&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/algae.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;seminym asked about querying by area. You can query by area, though slightly differently for occurrencelist and densitylist functions. For occurrencelist you can search using min and max lat and long values (and min an max altitude, pretty cool, eh).&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get occurrences or density by area, using min/max lat/long coordinates&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;minlatitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxlatitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; minlongitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;     maxlongitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-95&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; latlongdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Using `geom_point`&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;texas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/byarea_occurr1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Using geom_jitter to move the points apart from one another&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;texas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom_jitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; position_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/byarea_occurr2.png&quot; alt=&quot;NA&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# And move points a lot&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;texas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom_jitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; position_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/byarea_occurr3.png&quot; alt=&quot;NA&quot; /&gt;&lt;/p&gt;

&lt;h3&gt;And you can query by area in &lt;code&gt;densitylist&lt;/code&gt; by specifying a place using the &lt;code&gt;originisocountrycode&lt;/code&gt; argument (as done in an above example).  Just showing the head of the data.frame here.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get density by place, note that you can&amp;#39;t use the lat and long arguments&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# in densitylist&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  cellid minLatitude maxLatitude minLongitude maxLongitude count
1  46913          40          41          -67          -66    44
2  46914          40          41          -66          -65   907
3  46915          40          41          -65          -64   510
4  46916          40          41          -64          -63   645
5  46917          40          41          -63          -62    56
6  46918          40          41          -62          -61   143
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-10-08-rgbif-newfxns.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-10-08-rgbif-newfxns.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Vertnet - getting vertebrate museum record data and a quick map</title>
   <link href="http://schamberlain.github.com/2012/09/rvertnet/"/>
   <updated>2012-09-19T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/09/rvertnet</id>
   <content type="html">&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) started a repo to wrap the API for &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;, an open access online database of vertebrate specimen records across many collection holders. Find the open source code &lt;a href=&quot;https://github.com/ropensci/rvertnet&quot;&gt;here&lt;/a&gt; - please contribute if you are so inclined.  We had a great Google Summer of Code student, &lt;a href=&quot;http://vijaybarve.wordpress.com/&quot;&gt;Vijay Barve&lt;/a&gt; contributing to the repo this summer, so it is getting close to being CRAN-able.&lt;/p&gt;

&lt;p&gt;Most of the functions in the repo get you the raw data, but there were no functions to visualize the data.  Since much of the data records of latitude and longitude data, maps are a natural visualization to use.&lt;/p&gt;

&lt;p&gt;What follows is a quick example of using the basic &lt;code&gt;vertmap&lt;/code&gt; function.&lt;/p&gt;

&lt;h3&gt;First, let's install &lt;code&gt;rvertnet&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;rvertnet&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# already&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rvertnet&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;First, let's get some data using &lt;code&gt;vertoccurrence&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; vertoccurrence&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;q &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;larva&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; num &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# get records on keyword &amp;#39;larva&amp;#39;, limit to 100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; nrow&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# how many rows?&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[1] 100
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Now map it using &lt;code&gt;vertmap&lt;/code&gt;.  This is a very basic function: it simply cleans up the input data.frame, removing rows without lat/long data, and providing warnings when the input data.frame is not in the correct format.  &lt;code&gt;vertmap&lt;/code&gt; uses the &lt;code&gt;ggplot2&lt;/code&gt; framework for the map.  If you want to make you own map please do so -  this is just a simple fxn to get you started if you want to take a quick look at the data.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; vertmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make a map using vertmap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/vertmap.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-19-rvertnet.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-09-19-rvertnet.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting data from figures in published papers</title>
   <link href="http://schamberlain.github.com/2012/09/getting-data/"/>
   <updated>2012-09-18T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/09/getting-data</id>
   <content type="html">&lt;h2&gt;The problem:&lt;/h2&gt;

&lt;p&gt;There are a lot of figures in published papers in the scholarly literature, like the below, from (Attwood &lt;em&gt;et. al.&lt;/em&gt; 2012)):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/getfig2.png&quot; alt=&quot;alt text&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At some point, a scientist wants to ask a question for which they can synthesize the knowledge on that question by collecting data from the published literature.  This often requires something like the following workflow:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Search for relevant papers (e.g., via Google Scholar).&lt;/li&gt;
&lt;li&gt;Collect the papers.&lt;/li&gt;
&lt;li&gt;Decide which are appropriate for inclusion.&lt;/li&gt;
&lt;li&gt;Collect data from the figures using software on a native application.  Examples include &lt;a href=&quot;http://www.arizona-software.ch/graphclick/&quot;&gt;GraphClick&lt;/a&gt; and &lt;a href=&quot;http://rsbweb.nih.gov/ij/&quot;&gt;ImageJ&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Proof data.&lt;/li&gt;
&lt;li&gt;Analyze data &amp;amp; publish paper.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This workflow needs revamping, particularly in step number 3 - collecting the data.  This data remains private, moving from one closed source (original publication) to another (personal computer).  We can surely do better.&lt;/p&gt;

&lt;h2&gt;A solution&lt;/h2&gt;

&lt;p&gt;The data collection process (Step 3 above) can make use of modern technology, and be based in the browser. Some benefits of a browser based data collection approach:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Cross-platform: a data digitization program that lives in the browser can be more easily cross-platform (Linux/Mac/Windows) than a native app.&lt;/li&gt;
&lt;li&gt;Linked data: with the increasing abundance of APIs (application programming interfaces), we can link the data going into this app to anything of interest.  This is not so easy in a native app.&lt;/li&gt;
&lt;li&gt;Automatic updates: a web based browser can be updated easily without requiring a user to go get updates.&lt;/li&gt;
&lt;li&gt;User-based: a web based browser can easily integrate secure user login so that users can be associated with data collected, allowing for quantification of user-based error, and eventually user based scores/badges/etc. if so desired.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For those concerned about a browser based approach to data collection from figures, it will likely be possible to make it work offline as well, then send data up to servers when connected to the web again.&lt;/p&gt;

&lt;p&gt;What would be great about having data be public by default is that the work would be reproducible easily, at least on the data side of things. Hopefully the researchers would make all their code available publicly to recreate their analyses.&lt;/p&gt;

&lt;h2&gt;Question: Why would this idea work?&lt;/h2&gt;

&lt;p&gt;Better question: Why wouldnt it work!&lt;/p&gt;

&lt;p&gt;I think this idea could be awesome.  The reason I think it could be is based on two observations:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;There is a seemingly endless supply of academic papers with figures in them from which data can be extracted.**&lt;/li&gt;
&lt;li&gt;There is increasing use of meta-analysis in science, which is fed by just this kind of data.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;** p.s. in the future, perhaps we will move to all SVG format figures or something even better, in which case data can be extracted from the underlying XML&lt;/p&gt;

&lt;h2&gt;Okay, maybe it's a good idea, but who owns the data in figures in published papers?&lt;/h2&gt;

&lt;p&gt;As far as I know, and I've checked with a few knowledgeable people, no one owns this data. So it's ripe for the digitizing!&lt;/p&gt;

&lt;h2&gt;Open access&lt;/h2&gt;

&lt;p&gt;I want this project to be totally open access (and I hope you do too).  I love models like GitHub where everything is public by default (unless you are an enterprise user, exceptions, exceptions), and I think that is what this requires.  You may be thinking though: &quot;But I am collecting data for my meta-analysis and I don't want to share the data with anyone else&quot;.  My answer: &quot;I understand where you are coming from, but it doesn't seem very likely that someone will be asking the exact same question as you and be looking for the data from the exact same papers&quot;.  There will just be a huge database of data from figures, and all the appropriate metadata of course.  Anyone should be able to use this.&lt;/p&gt;

&lt;h2&gt;APIs&lt;/h2&gt;

&lt;p&gt;It would be great to build this from the start having an API in mind.  That is, how do we need to structure the data to be easily served up in an API to other websites, or pulled down to someone's local machine within Python or R to do data manipulation, analysis, and visualization?  We are going to need a key-value store database, such as MongoDB/CouchDB because ideally at least we would store the data collected, the figure itself, use information, etc.&lt;/p&gt;

&lt;h2&gt;What is being done about this?&lt;/h2&gt;

&lt;p&gt;I was fortunate enough to tag along with &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart&lt;/a&gt;, a postdoc at &lt;a href=&quot;PUTINLINKHERE&quot;&gt;UBC&lt;/a&gt;, on a recently submitted NCEAS working group proposal. Who knows if we'll get it, but we are already working on a prototype, so we will hit the ground running if we get funded, and just hit the ground, but walk a bit slower if we don't get the funding.&lt;/p&gt;

&lt;h2&gt;What could this be in the future?&lt;/h2&gt;

&lt;p&gt;At least in my mind, I think of this idea going the direction of gamification, including points, badges, etc., sort of like &lt;a href=&quot;http://fold.it/portal/&quot;&gt;FoldIt&lt;/a&gt; or &lt;a href=&quot;http://www.galaxyzoo.org/&quot;&gt;GalaxyZoo&lt;/a&gt;.  At first we need alpha-, then beta-testers, which I imagine will most likely be academics exracting data for a meta-analysis for example.  But in the future, it would be great to make the interface enjoyable enough to attract non-academics, which could greatly increase the speed of data collection.&lt;/p&gt;

&lt;p&gt;Once there are a lot of people collecting data we can get many data points for every single data point in a graph.  Whereas right now, someone clicks on each data point in a graph one, maybe two times if they are lucky.  In the future, we could have ten different users clicking on each mean and each error bar in each graph.  So exciting!  The following figure illustrates this.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/clicks.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h2&gt;What do you think?&lt;/h2&gt;

&lt;p&gt;Is this idea totally insane?  Is it do-able?  Is it worth doing?&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-18-getting-data.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-09-18-getting-data.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;

&lt;hr /&gt;

&lt;h4&gt;References&lt;/h4&gt;

&lt;p&gt;Attwood AS, Scott-Samuel NE, Stothart G, Munaf MR and Laks J (2012).
&amp;ldquo;Glass Shape Influences Consumption Rate For Alcoholic Beverages.&amp;rdquo;
&lt;EM&gt;Plos One&lt;/EM&gt;, &lt;B&gt;7&lt;/B&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0043007&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0043007&lt;/a&gt;.

</content>
 </entry>
 
 <entry>
   <title>Scholarly metadata from R</title>
   <link href="http://schamberlain.github.com/2012/09/rmetadata/"/>
   <updated>2012-09-17T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/09/rmetadata</id>
   <content type="html">&lt;p&gt;Metadata!  Metadata is very cool.  It's super hot right now - everybody is talking about it.  Okay, maybe not everyone, but it's an important part of archiving scholarly work.&lt;/p&gt;

&lt;p&gt;We are working on &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;a repo on GitHub &lt;code&gt;rmetadata&lt;/code&gt;&lt;/a&gt; to be a one stop shop for querying metadata from around the web.  Various repos on GitHub we have started - &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpmc&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdatacite&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdryad&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpensoft&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rhindawi&lt;/a&gt; - will at least in part be folded into &lt;code&gt;rmetadata&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;As a start we are writing functions to hit any metadata services that use the &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;OAI-PMH: &quot;Open Archives Initiative Protocol for Metadata Harvesting&quot;&lt;/a&gt; framework.  &lt;code&gt;OAI-PMH&lt;/code&gt; has six methods (or verbs as they are called) for data harvesting that are the same across different metadata providers:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GetRecord&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Identify&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListIdentifiers&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListMetadataFormats&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListRecords&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListSets&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;code&gt;OAI-PMH&lt;/code&gt; provides an updating list of data providers, which we can easily use to get the base URLs for their data.  Then we just use one of the six above methods to query their metadata.&lt;/p&gt;

&lt;h3&gt;Let's install rmetadata first.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rmetadata&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rmetadata&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;The most basic thing you can do with &lt;code&gt;OAI-PMH&lt;/code&gt; is identify the data provider, getting their basic information. The &lt;code&gt;Identify&lt;/code&gt; verb.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# one provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  repositoryName                     baseURL protocolVersion
1   DataCite MDS http://oai.datacite.org/oai             2.0
          adminEmail    earliestDatestamp deletedRecord
1 admin@datacite.org 2011-01-01T00:00:00Z            no
           granularity compression compression.1
1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
                                                                                                                                                      description
1 oai, oai.datacite.org, :, oai:oai.datacite.org:12425, http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# many providers&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;      repositoryName                     baseURL protocolVersion
1       DataCite MDS http://oai.datacite.org/oai             2.0
2 Pensoft Publishers       http://oai.pensoft.eu             2.0
          adminEmail    earliestDatestamp deletedRecord
1 admin@datacite.org 2011-01-01T00:00:00Z            no
2               NULL           2008-07-04            no
           granularity compression compression.1
1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
2           YYYY-MM-DD        NULL          NULL
                                                                                                                                                      description
1 oai, oai.datacite.org, :, oai:oai.datacite.org:12425, http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd
2                                                                                                                                                            NULL
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# no match for one, two matches for other&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;harvard&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;journal&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;$harvard
               x
1 no match found

$journal
                                               repo_name
1       Hrcak - Portal of scientific journals of Croatia
2 International journal of Power Electronics Engineering
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# let&amp;#39;s pick one from the second&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Hrcak&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;                                    repositoryName
1 Hrcak - Portal of scientific journals of Croatia
                    baseURL protocolVersion    adminEmail
1 http://hrcak.srce.hr/oai/             2.0 hrcak@srce.hr
  earliestDatestamp deletedRecord granularity
1        2005-12-01            no  YYYY-MM-DD
                                                                                                                                                                          description
1 oai, hrcak.srce.hr, :, oai:hrcak.srce.hr:anIdentifier, http://www.openarchives.org/OAI/2.0/oai-identifier                    http://www.openarchives.org/OAI/2.0/oai-identifier.xsd
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;There are a variety of metadata formats, depending on the data provider - list them with the &lt;code&gt;ListMetadataFormats&lt;/code&gt; verb.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# List metadata formats for a provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listmetadataformats&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dryad&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  metadataPrefix
1         oai_dc
2            rdf
3            ore
4           mets
                                                       schema
1              http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2                 http://www.openarchives.org/OAI/2.0/rdf.xsd
3 http://tweety.lanl.gov/public/schemas/2008-06/atom-tron.sch
4                  http://www.loc.gov/standards/mets/mets.xsd
                            metadataNamespace
1 http://www.openarchives.org/OAI/2.0/oai_dc/
2    http://www.openarchives.org/OAI/2.0/rdf/
3                 http://www.w3.org/2005/Atom
4                    http://www.loc.gov/METS/
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# List metadata formats for a specific identifier for a provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listmetadataformats&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;            identifier metadataPrefix
1 10.3897/zookeys.1.10         oai_dc
2 10.3897/zookeys.1.10           mods
                                             schema
1    http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2 http://www.loc.gov/standards/mods/v3/mods-3-1.xsd
                            metadataNamespace
1 http://www.openarchives.org/OAI/2.0/oai_dc/
2                  http://www.loc.gov/mods/v3
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;The &lt;code&gt;ListRecords&lt;/code&gt; verb is used to harvest records from a repository&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;md_listrecords&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;                  identifier            datestamp setSpec
1 oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB
2 oai:oai.datacite.org:32200 2011-06-20T08:11:08Z     TIB
3 oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB
4 oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB
5 oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB
6 oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;&lt;code&gt;ListIdentifiers&lt;/code&gt; is an abbreviated form of &lt;code&gt;ListRecords&lt;/code&gt;, retrieving only headers rather than records.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Single provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listidentifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; set &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;REFQUALITY&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt; [1] &amp;quot;oai:oai.datacite.org:32426&amp;quot; &amp;quot;oai:oai.datacite.org:32152&amp;quot;
 [3] &amp;quot;oai:oai.datacite.org:25453&amp;quot; &amp;quot;oai:oai.datacite.org:25452&amp;quot;
 [5] &amp;quot;oai:oai.datacite.org:25451&amp;quot; &amp;quot;oai:oai.datacite.org:25450&amp;quot;
 [7] &amp;quot;oai:oai.datacite.org:25449&amp;quot; &amp;quot;oai:oai.datacite.org:25407&amp;quot;
 [9] &amp;quot;oai:oai.datacite.org:48328&amp;quot; &amp;quot;oai:oai.datacite.org:48439&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; md_listidentifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dryad&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; from &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-07-15&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt; [1] &amp;quot;oai:datadryad.org:10255/dryad.9106&amp;quot; 
 [2] &amp;quot;oai:datadryad.org:10255/dryad.33780&amp;quot;
 [3] &amp;quot;oai:datadryad.org:10255/dryad.33901&amp;quot;
 [4] &amp;quot;oai:datadryad.org:10255/dryad.33902&amp;quot;
 [5] &amp;quot;oai:datadryad.org:10255/dryad.34472&amp;quot;
 [6] &amp;quot;oai:datadryad.org:10255/dryad.34558&amp;quot;
 [7] &amp;quot;oai:datadryad.org:10255/dryad.39975&amp;quot;
 [8] &amp;quot;oai:datadryad.org:10255/dryad.35065&amp;quot;
 [9] &amp;quot;oai:datadryad.org:10255/dryad.35081&amp;quot;
[10] &amp;quot;oai:datadryad.org:10255/dryad.35082&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Many providers&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; md_listidentifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; from &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-08-21&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# display just a few of them&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[[1]]
 [1] &amp;quot;oai:oai.datacite.org:1099317&amp;quot; &amp;quot;oai:oai.datacite.org:1099572&amp;quot;
 [3] &amp;quot;oai:oai.datacite.org:1099824&amp;quot; &amp;quot;oai:oai.datacite.org:1099695&amp;quot;
 [5] &amp;quot;oai:oai.datacite.org:1088239&amp;quot; &amp;quot;oai:oai.datacite.org:1088122&amp;quot;
 [7] &amp;quot;oai:oai.datacite.org:1088190&amp;quot; &amp;quot;oai:oai.datacite.org:1175749&amp;quot;
 [9] &amp;quot;oai:oai.datacite.org:1175288&amp;quot; &amp;quot;oai:oai.datacite.org:1115603&amp;quot;

[[2]]
 [1] &amp;quot;10.3897/phytokeys.16.2884&amp;quot; &amp;quot;10.3897/phytokeys.16.3602&amp;quot;
 [3] &amp;quot;10.3897/phytokeys.16.3186&amp;quot; &amp;quot;10.3897/zookeys.216.3407&amp;quot; 
 [5] &amp;quot;10.3897/zookeys.216.3332&amp;quot;  &amp;quot;10.3897/zookeys.216.3224&amp;quot; 
 [7] &amp;quot;10.3897/zookeys.216.3769&amp;quot;  &amp;quot;10.3897/zookeys.216.3360&amp;quot; 
 [9] &amp;quot;10.3897/zookeys.216.3646&amp;quot;  &amp;quot;10.3897/neobiota.14.3140&amp;quot; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;With &lt;code&gt;ListSets&lt;/code&gt; you can retrieve the set structure of a repository.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# arXiv, returns a data.frame&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;md_listsets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;arXiv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;             setName          setSpec
1   Computer Science               cs
2        Mathematics             math
3 Nonlinear Sciences             nlin
4            Physics          physics
5       Astrophysics physics:astro-ph
6   Condensed Matter physics:cond-mat
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# many providers, returns a list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listsets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;arXiv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[[1]]
                                  setName            setSpec
1                                 ZooKeys            zookeys
2                                 BioRisk            biorisk
3                               PhytoKeys          phytokeys
4                                NeoBiota           neobiota
5         Journal of Hymenoptera Research                jhr
6  International Journal of Myriapodology                ijm
7                Comparative Cytogenetics        compcytogen
8                    Subterranean Biology           subtbiol
9                     Nature Conservation natureconservation
10                               MycoKeys           mycokeys

[[2]]
                                    setName          setSpec
1                          Computer Science               cs
2                               Mathematics             math
3                        Nonlinear Sciences             nlin
4                                   Physics          physics
5                              Astrophysics physics:astro-ph
6                          Condensed Matter physics:cond-mat
7  General Relativity and Quantum Cosmology    physics:gr-qc
8          High Energy Physics - Experiment   physics:hep-ex
9             High Energy Physics - Lattice  physics:hep-lat
10      High Energy Physics - Phenomenology   physics:hep-ph
11             High Energy Physics - Theory   physics:hep-th
12                     Mathematical Physics  physics:math-ph
13                       Nuclear Experiment  physics:nucl-ex
14                           Nuclear Theory  physics:nucl-th
15                          Physics (Other)  physics:physics
16                          Quantum Physics physics:quant-ph
17                     Quantitative Biology            q-bio
18                     Quantitative Finance            q-fin
19                               Statistics             stat
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Retrieve an individual metadata record from a repository using the &lt;code&gt;GetRecord&lt;/code&gt; verb.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Single provider, one identifier&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_getrecord&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;            identifier  datestamp
1 10.3897/zookeys.1.10 2008-07-04
                                                                                             dc.title
1 A new candidate for a Gondwanaland distribution in the Zodariidae (Araneae): Australutica in Africa
   dc.creator  dc.subject dc.subject.1 dc.subject.2 dc.subject.3
1 Jocqu,Rudy new species Gondwanaland Soutpansberg      Araneae
         dc.source
1 ZooKeys 1: 59-66
                                                                                                                                                                                                                                                                                                                     dc.description
1 Two new species of Australutica Jocqu, 1995, a genus formerly only known from Australia, are described from South Africa: A. africana n. sp. from Soutpansberg and A. normanlarseni n. sp. from the Cape Peninsula. The taxonomic position of the new species is discussed and a key to the species of Australutica is provided.
        dc.publisher dc.date          dc.type dc.format
1 Pensoft Publishers    2008 Research Article text/html
                           dc.identifier
1 http://dx.doi.org/10.3897/zookeys.1.10
                                      dc.identifier.1 dc.language
1 http://www.pensoft.net/journals/zookeys/article/10/          en
                                                                                   dc..attrs
1 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Single provider, multiple identifiers&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_getrecord&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.4.57&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;            identifier  datestamp
1 10.3897/zookeys.1.10 2008-07-04
2 10.3897/zookeys.4.57 2008-12-17
                                                                                                dc.title
1    A new candidate for a Gondwanaland distribution in the Zodariidae (Araneae): Australutica in Africa
2 Studies of Tiger Beetles. CLXXVIII. A new Lophyra (Lophyra) from Somaliland (Coleoptera, Cicindelidae)
     dc.creator    dc.subject dc.subject.1 dc.subject.2 dc.subject.3
1   Jocqu,Rudy   new species Gondwanaland Soutpansberg      Araneae
2 Cassola,Fabio Tiger Beetles Cicindelidae      Lophyra   Somaliland
         dc.source
1 ZooKeys 1: 59-66
2 ZooKeys 4: 65-69
                                                                                                                                                                                                                                                                                                                                                                                                                   dc.description
1                                                                                               Two new species of Australutica Jocqu, 1995, a genus formerly only known from Australia, are described from South Africa: A. africana n. sp. from Soutpansberg and A. normanlarseni n. sp. from the Cape Peninsula. The taxonomic position of the new species is discussed and a key to the species of Australutica is provided.
2 A new tiger beetle species, Lophyra (Lophyra) praetermissa n. sp. (Coleoptera, Cicindelidae), obviously a close relative of L. (L.) histrio (Tschitschrine, 1903), is described from the environs of Erigavo, Somaliland (northern Somalia). Its discovery thus brings up to 73 the number of the species of this genus presently known worldwide (39 species of which - 29 from Africa - belong to the typonominal subgenus).
        dc.publisher dc.date          dc.type dc.format
1 Pensoft Publishers    2008 Research Article text/html
2 Pensoft Publishers    2008 Research Article text/html
                           dc.identifier
1 http://dx.doi.org/10.3897/zookeys.1.10
2 http://dx.doi.org/10.3897/zookeys.4.57
                                      dc.identifier.1 dc.language
1 http://www.pensoft.net/journals/zookeys/article/10/          en
2 http://www.pensoft.net/journals/zookeys/article/57/          en
                                                                                   dc..attrs
1 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Cool, so I hope people find this post and package useful.  Let me know what you think in comments below, or if you have code specific comments or additions, go to &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;the GitHub repo for &lt;code&gt;rmetadata&lt;/code&gt;&lt;/a&gt;.  In a upcoming post I will show an example  of what you can do with &lt;code&gt;rmetadata&lt;/code&gt; in terms of an actual research question.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-15-rmetadata.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_posts/2012-09-17-rmetadata.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting data on your government</title>
   <link href="http://schamberlain.github.com/2012/09/gov-dat/"/>
   <updated>2012-09-01T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/09/gov-dat</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;I created an R package a while back to interact with some APIs that serve up data on what our elected represenatives are up to, including the &lt;a href=&quot;http://developer.nytimes.com/&quot;&gt;New York Times Congress API&lt;/a&gt;, and the &lt;a href=&quot;http://services.sunlightlabs.com/&quot;&gt;Sunlight Labs API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What kinds of things can you do with &lt;code&gt;govdat&lt;/code&gt;?  Here are a few examples.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;How do the two major parties differ in the use of certain words (searches the congressional record using the Sunlight Labs Capitol Words API)?&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;govdat&amp;#39;, &amp;#39;schamberlain&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;govdat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; dems &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_dates&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;science&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1996-01-20&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; end_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-09-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     granularity &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; printdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; repubs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_dates&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;science&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1996-01-20&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; end_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-09-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     granularity &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; printdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbind&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rep&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nrow&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dems&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; dems&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rep&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     nrow&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repubs&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; repubs&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;count &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.numeric&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;count&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;yearmonth&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; party&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; party&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;     scale_colour_manual&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;values &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;use of the word &amp;#39;Science&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;     panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/unnamed-chunk-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;Let's get some data on donations to individual elected representatives.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Let&amp;#39;s get Nancy Pelosi&amp;#39;s entity ID&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;$name
[1] &amp;quot;Nancy Pelosi (D)&amp;quot;

$count_given
[1] 0

$firm_income
[1] 0

$count_lobbied
[1] 0

$seat
[1] &amp;quot;federal:house&amp;quot;

$total_received
[1] 13769274

$state
[1] &amp;quot;CA&amp;quot;

$lobbying_firm
NULL

$count_received
[1] 9852

$party
[1] &amp;quot;D&amp;quot;

$total_given
[1] 0

$type
[1] &amp;quot;politician&amp;quot;

$id
[1] &amp;quot;85ab2e74589a414495d18cc7a9233981&amp;quot;

$non_firm_spending
[1] 0

$is_superpac
NULL
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Her entity ID&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]$&lt;/span&gt;id
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[1] &amp;quot;85ab2e74589a414495d18cc7a9233981&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# And search for her top donors by sector&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; nancy &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sll_ts_aggregatetopsectors&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]$&lt;/span&gt;id&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; nancy  &lt;span class=&quot;c1&quot;&gt;# but just abbreviations for sectors&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   sector count     amount
1       F  1847 2698672.00
2       P   981 2243050.00
3       H   829 1412700.00
4       K  1345 1409836.00
5       Q  1223 1393154.00
6       N   829 1166187.00
7       B   537  932044.00
8       W   724  760800.00
9       Y   820  664926.00
10      E   201  283575.00
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sll_ts_sectors&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# load sectors abbrevations data&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; nancy2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; merge&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sll_ts_sectors&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sector&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# attach full sector names&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; nancy2_melt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy2&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; id.vars &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; nancy2_melt&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.numeric&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy2_melt&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# and lets plot some results&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;7&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy2_melt&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sector_name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_bar&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; coord_flip&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; facet_wrap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;~variable&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;8&lt;/span&gt;     scales &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/unnamed-chunk-2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;## It looks like a lot of individual donations (the count facet) by&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;## finance/insurance/realestate, but by amount, the most (by slim margin)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;## is from labor organizations.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Or we may want to get a bio of a congressperson. Here we get Todd Akin of MO. And some twitter searching too? Indeed.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; nyt_cg_memberbioroles&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;A000358&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cool, lots of info, output cutoff for brevity&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;$member_id
[1] &amp;quot;A000358&amp;quot;

$first_name
[1] &amp;quot;Todd&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# we can get her twitter id from this bio, and search twitter using&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# twitteR package&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; akintwitter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]$&lt;/span&gt;twitter_id
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;twitteR&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;twitteR&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;7&lt;/span&gt; tweets &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; userTimeline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;akintwitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;8&lt;/span&gt; tweets&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# there&amp;#39;s some gems in there no doubt&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[[1]]
[1] &amp;quot;RepToddAkin: Do you receive my Akin Alert e-newsletter?  Pick the issues youd like to get updates on and sign up here!\nhttp://t.co/nZfiRjTF&amp;quot;

[[2]]
[1] &amp;quot;RepToddAkin: If the 2001 &amp;amp;amp; 2003 tax policies expire, taxes will increase over $4 trillion in the next 10 years. America can&amp;#39;t afford it. #stopthetaxhike&amp;quot;

[[3]]
[1] &amp;quot;RepToddAkin: A govt agency&amp;#39;s order shouldn&amp;#39;t defy constitutional rights. I&amp;#39;m still working for #religiousfreedom and repealing the HHS mandate. #prolife&amp;quot;

[[4]]
[1] &amp;quot;RepToddAkin: I am a cosponsor of the bill being considered today to limit abortions in DC. RT if you agree! #prolife http://t.co/Mesrjl0w&amp;quot;

[[5]]
[1] &amp;quot;RepToddAkin: We need to #StopTheTaxHike. Raising taxes like the President wants would destroy more than 700,000 jobs. #4jobs http://t.co/KUTd0M7U&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-01-gov-dat.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-09-01-gov-dat.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting ecology and evolution journal titles from R</title>
   <link href="http://schamberlain.github.com/2012/08/get-ecoevo-journal-titles/"/>
   <updated>2012-08-31T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/08/get-ecoevo-journal-titles</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;So I want to mine some #altmetrics data for some research I'm thinking about doing.  The steps would be:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Get journal titles for ecology and evolution journals.&lt;/li&gt;
&lt;li&gt;Get DOI's for all papers in all the above journal titles.&lt;/li&gt;
&lt;li&gt;Get altmetrics data on each DOI.&lt;/li&gt;
&lt;li&gt;Do some fancy analyses.&lt;/li&gt;
&lt;li&gt;Make som pretty figs.&lt;/li&gt;
&lt;li&gt;Write up results.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It's early days, so jus working on the first step.  However, getting a list of journals in ecology and evolution is frustratingly hard.  This turns out to not be that easy if you are (1) trying to avoid &lt;a href=&quot;http://thomsonreuters.com/&quot;&gt;Thomson Reuters&lt;/a&gt;, and (2) want a machine interface way to do it (read: API).&lt;/p&gt;

&lt;p&gt;Unfortunately, Mendeley's API does not have methods for getting a list of journals by field, or at least I don't know how to do it using &lt;a href=&quot;http://apidocs.mendeley.com/&quot;&gt;their API&lt;/a&gt;.  No worries though - &lt;a href=&quot;http://crossref.org/&quot;&gt;Crossref&lt;/a&gt; comes to save the day.   Here's my attempt at this using the &lt;a href=&quot;http://help.crossref.org/#using_oai_pmh&quot;&gt;Crossref OAI-PMH&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;I wrote a little while loop to get journal titles from the Crossref OAI-PMH. This takes a while to run, but at least it works on my machine - hopefully yours too!&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;XML&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;RCurl&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;characters&amp;quot;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# define a iterator, also used for gettingn the resumptionToken&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; nameslist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; list&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# define empty list to put joural titles in to&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;is.character&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     baseurl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;http://oai.crossref.org/OAIHandler?verb=ListSets&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;characters&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;         tok2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;         tok2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; paste&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;amp;resumptionToken=&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     query &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; paste&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseurl&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; tok2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     crsets &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; xmlToList&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xmlParse&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;getURL&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;     names &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.character&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sapply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;crsets&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;setName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     nameslist&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;token&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; names
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;     &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;class&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;try&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;crsets&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;attrs&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;resumptionToken&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;         stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;no more data&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; crsets&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;attrs&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;resumptionToken&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Yay!  Hopefully it worked if you tried it.  Let's see how long the list of journal titles is.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; sapply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nameslist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; length&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# length of each list&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;                          characters c65ebc3f-b540-4672-9c00-f3135bf849e3 
                               10001                                10001 
6f61b343-a8f4-48f1-8297-c6f6909ca7f7 
                                6864 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; allnames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; do.call&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nameslist&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# combine to list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[1] 26866
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Now, let's use some &lt;code&gt;regex&lt;/code&gt; to pull out the journal titles that are likely ecology and evolutionary biology journals.  The &lt;code&gt;^&lt;/code&gt; symbol says &quot;the string must start here&quot;. The &lt;code&gt;\\s&lt;/code&gt; means whitespace.  The &lt;code&gt;[]&lt;/code&gt; lets you specify a set of letters you are looking for, e.g., &lt;code&gt;[Ee]&lt;/code&gt; means capital &lt;code&gt;E&lt;/code&gt; &lt;em&gt;OR&lt;/em&gt; lowercase &lt;code&gt;e&lt;/code&gt;.  I threw in titles that had the words systematic and natrualist too.  Tried to trim any whitespace as well using the &lt;code&gt;stringr&lt;/code&gt; package.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stringr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; ecotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.character&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^[Ee]cology|\\s[Ee]cology&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; evotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.character&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^[Ee]volution|\\s[Ee]volution&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; systtitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.character&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^[Ss]ystematic|\\s[Ss]systematic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; naturalist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.character&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;[Nn]aturalist&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; ecoevotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecotitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; evotitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; systtitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; naturalist&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# combine to list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; ecoevotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; str_trim&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecoevotitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; side &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;both&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# trim whitespace, if any&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecoevotitles&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;[1] 188
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Just the first ten titles&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; ecoevotitles&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt; [1] &amp;quot;Microbial Ecology in Health and Disease&amp;quot;           
 [2] &amp;quot;Population Ecology&amp;quot;                                
 [3] &amp;quot;Researches on Population Ecology&amp;quot;                  
 [4] &amp;quot;Behavioral Ecology and Sociobiology&amp;quot;               
 [5] &amp;quot;Microbial Ecology&amp;quot;                                 
 [6] &amp;quot;Biochemical Systematics and Ecology&amp;quot;               
 [7] &amp;quot;FEMS Microbiology Ecology&amp;quot;                         
 [8] &amp;quot;Journal of Experimental Marine Biology and Ecology&amp;quot;
 [9] &amp;quot;Applied Soil Ecology&amp;quot;                              
[10] &amp;quot;Forest Ecology and Management&amp;quot;                     
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-08-30-get-ecoevo-journal-titles.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecology unconference at ESA 2013</title>
   <link href="http://schamberlain.github.com/2012/08/ecology-unconference/"/>
   <updated>2012-08-30T09:25:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/08/ecology-unconference</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;So I heard many people say after or during the recent ESA conference in Portland that they really enjoyed the converstations more than listening to talks or looking at posters.&lt;/p&gt;

&lt;p&gt;There was some chatter about doing an unconference associated with next year's ESA conference in Minneapolis. And Sandra Chung (@sandramchung) got on it and started a wiki that we can all conribute ideas to. The wiki is here: &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;http://ecologyunconference.wikispaces.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is an unconference? The idea of an unconference is to have a community organized meetup in which interactions among people are emphasized over the traditional lecture and poster format. For example, many sessions may just be organized a single idea, and people attending have a discussion around the topic. The format can be decided by the community.&lt;/p&gt;

&lt;p&gt;What will we do there? The broadest restriction is that topics should be about science that happens online. You may say, &quot;Well, real ecology happens in the field!&quot;. Yes, but a lot of the products of ecology are put online, and increasingly the discussion of the practice of ecology happens online. Check out the &lt;a href=&quot;http://scienceonline2012.com/&quot;&gt;Science Online 2012 website&lt;/a&gt; for a little taste of what we hope to achieve next year.&lt;/p&gt;

&lt;p&gt;How do I get involved? Go to the wiki and start contributing: &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;http://ecologyunconference.wikispaces.com/&lt;/a&gt;. There are already some suggestions for topics...Here's a screenshot of the ideas for Session Proposals page:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/ecologyunconf.png&quot; alt=&quot;ecologyunconf&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;Important!  Use the #esaun13 hashtag to talk about this unconference on Twitter, G+, and app.net.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-08-30-making-matrices.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Making matrices with zeros and ones</title>
   <link href="http://schamberlain.github.com/2012/08/making-matrices/"/>
   <updated>2012-08-30T09:02:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/08/making-matrices</id>
   <content type="html">&lt;hr /&gt;

&lt;h2&gt;So I was trying to figure out a fast way to make matrices with randomly allocated 0 or 1 in each cell of the matrix. I reached out on Twitter, and got many responses (thanks tweeps!).&lt;/h2&gt;

&lt;hr /&gt;

&lt;h3&gt;Here is the solution I came up with. See if you can tell why it would be slow.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; mm &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; apply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; sample&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    0    1    0    1
 [2,]    0    0    1    1    1
 [3,]    0    0    0    0    1
 [4,]    0    1    1    0    1
 [5,]    0    1    1    1    1
 [6,]    1    0    1    1    1
 [7,]    0    1    0    1    0
 [8,]    0    0    1    0    1
 [9,]    1    0    1    1    1
[10,]    1    0    0    1    1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Ted Hart (@distribecology) replied first with:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbinom&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nrow &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    1    0    1    1
 [2,]    1    0    0    1    0
 [3,]    0    1    0    0    0
 [4,]    0    0    1    0    0
 [5,]    1    0    1    0    0
 [6,]    0    0    0    0    1
 [7,]    1    0    0    0    0
 [8,]    0    1    0    1    0
 [9,]    1    1    1    1    0
[10,]    0    1    1    0    0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Next, David Smith (@revodavid) and Rafael Maia (@hylospar) came up with about the same solution.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sample&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    0    0    0    0    1
 [2,]    0    0    0    0    0
 [3,]    0    1    1    0    1
 [4,]    1    0    0    1    0
 [5,]    0    0    0    0    1
 [6,]    1    0    1    1    1
 [7,]    1    1    1    1    0
 [8,]    0    0    0    1    1
 [9,]    1    0    0    0    1
[10,]    0    1    0    1    1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Then there was the solution by Luis Apiolaza (@zentree).&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;runif&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    0    1    1    0    0
 [2,]    1    0    1    1    0
 [3,]    1    0    1    0    0
 [4,]    1    0    0    0    1
 [5,]    1    0    1    1    0
 [6,]    1    0    0    0    0
 [7,]    1    0    0    0    0
 [8,]    1    1    1    0    0
 [9,]    0    0    0    0    1
[10,]    1    0    0    1    1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Last, a solution was proposed using &lt;code&gt;RcppArmadillo&lt;/code&gt;, but I couldn't get it to work on my machine, but here is the function anyway if someone can.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;inline&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;RcppArmadillo&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; f &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cxxfunction&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;body &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;return wrap(arma::randu(5,10));&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plugin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;RcppArmadillo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;And here is the comparison of system.time for each solution.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; mm &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; apply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; sample&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @recology_&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  0.470   0.002   0.471 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbinom&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nrow &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @distribecology&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  0.014   0.000   0.015 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sample&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @revodavid &amp;amp; @hylospar&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  0.015   0.000   0.014 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;runif&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @zentree&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  0.014   0.000   0.014 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;If you want to take the time to learn C++ or already know it, the RcppArmadillo option would likely be the fastest, but I think (IMO) for many scientists, especially ecologists, we probably don't already know C++, so will stick to the next fastest options.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-08-30-making-matrices.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>ggplot2 maps with insets</title>
   <link href="http://schamberlain.github.com/2012/08/ggplot-inset-map/"/>
   <updated>2012-08-22T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/08/ggplot-inset-map</id>
   <content type="html">&lt;hr /&gt;

&lt;h2&gt;UPDATE: changed data source so that the entire example can be run by anone on their own machine. Also, per Joachim's suggestion, I put a box around the blown up area of the map. Thoughts?&lt;/h2&gt;

&lt;hr /&gt;

&lt;h2&gt;Here's a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the &lt;code&gt;gridExtra&lt;/code&gt; package.&lt;/h2&gt;

&lt;hr /&gt;

&lt;h3&gt;Install libraries&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;maps&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;maptools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gridExtra&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgeos&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Create a data frame&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecosystem &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rep&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;oak&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;steppe&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;prairie&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; each &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;     lat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; lon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-113&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  ecosystem   lat    lon
1       oak 51.81 -109.1
2       oak 50.41 -115.0
3       oak 52.20 -112.5
4       oak 51.67 -114.8
5       oak 49.75 -105.4
6       oak 51.42 -114.6
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Get maps using the maps library&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a map of Canada&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; canadamap &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;map&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Canada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a map of smaller extent&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; canadamapsmall &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; canadamap&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;canadamap&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; canadamap&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Make inset rectangle to show area of zoom&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; canadamapsmall_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; na.omit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# omit NA&amp;#39;s&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# This should get your corner points for the box, picking min and max of&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# lat and lon&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; insetrect &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xmin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; min&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; xmax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; max&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     ymin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; min&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ymax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; max&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; insetrect
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;    xmin   xmax  ymin ymax
1 -133.1 -90.39 48.05   54
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Make the maps&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The inset map, all of Canada&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamap&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;  geom_path&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; canadamap&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;  geom_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; insetrect&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xmin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; xmin&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xmax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; xmax&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ymin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ymin&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ymax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ymax&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; alpha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;  opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;           panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;           panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;           legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; legend.key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;           axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;           axis.text.y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The larger map, zoomed in, with the data&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;lon&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ecosystem&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;  geom_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; alpha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;  geom_path&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; canadamapsmall&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;  scale_size&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;guide&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;  opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt;           panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt;           panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt;           legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; legend.text&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; face&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;24&lt;/span&gt;           legend.title&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; face&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; legend.key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;25&lt;/span&gt;           axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_segment&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;26&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Print the two maps together, one an inset of the other&lt;/h3&gt;

&lt;h4&gt;This approach uses the &lt;code&gt;gridExtra&lt;/code&gt; package for flexible alignment, etc. of ggplot graphs&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the larger map&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the inset in upper right&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; print&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/unnamed-chunk-5.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-08-22-ggplot-inset-map.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Hitting the Global Names Resolver API</title>
   <link href="http://schamberlain.github.com/2012/07/global-names-resolver/"/>
   <updated>2012-07-20T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/07/global-names-resolver</id>
   <content type="html">&lt;h2&gt;Example of using the Global Names Resolver API to check species names&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;There are a number of options for resolution of taxonomic names. The &lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;Taxonomic Name Resolution Service (TNRS)&lt;/a&gt; comes to mind. There is a new service for taxonomic name resoultion called the &lt;a href=&quot;http://resolver.globalnames.org/&quot;&gt;Global Names Resolver&lt;/a&gt;. They describe the service thusly &quot;&lt;em&gt;Resolve lists of scientific names against known sources. This service parses incoming names, executes exact or fuzzy matching as required, and displays a confidence score for each match along with its identifier.&lt;/em&gt;&quot;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2&gt;Load required packages&lt;/h2&gt;

&lt;h3&gt;Just uncomment the code to use.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# If you don&amp;#39;t have them already&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install.packages(c(&amp;#39;RJSONIO&amp;#39;,&amp;#39;plyr&amp;#39;,&amp;#39;devtools&amp;#39;)) require(devtools)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;,&amp;#39;ropensci&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;RJSONIO&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h2&gt;Get the data sources available&lt;/h2&gt;

&lt;h3&gt;Get just id's and names of sources in a data.frame&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; tail&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gnr_datasources&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;todf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;##     id                                title
## 82 164                            BioLib.cz
## 83 165 Tropicos - Missouri Botanical Garden
## 84 166                                nlbif
## 85 167                                 IPNI
## 86 168              Index to Organism Names
## 87 169                        uBio NameBank
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Give me the id for EOL (Encyclopedia of Life)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gnr_datasources&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;todf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;title &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;EOL&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;## [1] 12
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Fuzzy search for sources with the word &quot;zoo&quot;&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gnr_datasources&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;todf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; outdf &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;agrep&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;zoo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;title&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ignore.case &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; outdf&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;##     id             title
## 20 100 Mushroom Observer
## 25 105           ZooKeys
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h2&gt;Resolve some names&lt;/h2&gt;

&lt;h3&gt;Search for &lt;em&gt;Helianthus annuus&lt;/em&gt; and &lt;em&gt;Homo sapiens&lt;/em&gt;, return a data.frame&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; gnr&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;names &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; returndf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;##   data_source_id    submitted_name       name_string score    title
## 1              4 Helianthus annuus Helianthus annuus 0.988     NCBI
## 3             10 Helianthus annuus Helianthus annuus 0.988 Freebase
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;hr /&gt;

&lt;h3&gt;Search for the same species, with only using data source 12 (i.e., EOL)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; gnr&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;names &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; data_source_ids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;12&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;     returndf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;##   data_source_id    submitted_name       name_string score title
## 1             12 Helianthus annuus Helianthus annuus 0.988   EOL
## 2             12      Homo sapiens      Homo sapiens 0.988   EOL
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;That's it. Have fun! And put bugs/comments/etc. &lt;a href=&quot;https://github.com/ropensci/taxize_/issues&quot;&gt;here&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3&gt;I prepared the markdown for this post by:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; KnitPost &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; base.url &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;     require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;knitr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;     opts_knit&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;set&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base.url &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; base.url&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;     fig.path &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; paste0&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;img/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sub&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.Rmd$&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; basename&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;     opts_chunk&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;set&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fig.path &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; fig.path&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     opts_chunk&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;set&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fig.cap &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     render_jekyll&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     knit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; envir &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; parent.frame&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; setwd&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;/path/to/_posts&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; KnitPost&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;/path/to/postfile.Rmd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;from &lt;a href=&quot;http://jfisher-usgs.github.com/r/2012/07/03/knitr-jekyll/&quot;&gt;jfisher&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Recent R packages for ecology and evolution</title>
   <link href="http://schamberlain.github.com/2012/06/recent-r-eeb-packages/"/>
   <updated>2012-06-14T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/06/recent-r-eeb-packages</id>
   <content type="html">&lt;p&gt;Many R packages/tools have come out recently for doing ecology and evolution. All of the below were described in Methods in Ecology and Evolution, except for spider, which came out in &lt;a href=&quot;http://onlinelibrary.wiley.com/journal/10.1111/(ISSN)1755-0998&quot;&gt;Molecular Ecology Resources&lt;/a&gt;. Here are some highlights.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;mvabund &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/mvabund/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Model-based analysis of multivariate abundance data. Visualising data, fitting predictive models, checking assumptions, hypothesis testing.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;popdemo &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00222.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/popdemo/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Population demography using projection matrix analysis.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;motmot &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00132.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/motmot/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Models of trait macroevolution on trees&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;spider &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.1755-0998.2011.03108.x/abstract?deniedAccessCustomisedMessage=&amp;amp;userIsAuthenticated=false&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/spider/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Analysis of species identity and evolution, with particular reference to DNA barcoding&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BaSTA &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00186.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/BaSTA/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Bayesian estimation of age-specific survival from incomplete markrecapture/recovery data with covariates&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;abc &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00179.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/abc/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Approximate Bayesian Computation (ABC)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RNetLogo &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/RNetLogo/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Running and exploring individual-based models implemented in NetLogo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;phytools &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00169.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/phytools/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Tools for phylogenetic comparative biology&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;smatr &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00153.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/smatr/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Estimation and inference about allometric lines&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RBrownie &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00112.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://www.brianomeara.info/tutorials/brownie&quot;&gt;get R pkg ?&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Testing hypotheses about rates of evolutionary change&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;polytomy resolver &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00103.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00103.x/suppinfo&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Resolve polytomies on dated phylogenies with their R scripts [here][].&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;And a cool tool came out for the Python programming language.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;NichePy &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00184.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;https://github.com/bastodian/NichePy&quot;&gt;get python&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Modular tools for estimating the similarity of ecological niche and species distribution models&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Visualize your Github stats (forks and watchers) in a browser with R!</title>
   <link href="http://schamberlain.github.com/2012/05/opencpu-github-stats/"/>
   <updated>2012-05-05T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/05/opencpu-github-stats</id>
   <content type="html">&lt;p&gt;So &lt;a href=&quot;http://opencpu.org/&quot;&gt;OpenCPU&lt;/a&gt; is pretty awesome.  You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it.&lt;/p&gt;

&lt;p&gt;Go &lt;a href=&quot;http://beta.opencpu.org/apps/opencpu.demo/storefunction/&quot;&gt;here&lt;/a&gt; to store a function.  And you can output lots of different types of things: png, pdf, json, etc - see &lt;a href=&quot;http://opencpu.org/documentation/outputs/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here's a function I created:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/2602432.js?file=getgithubstats.r&quot;&gt;&lt;/script&gt;


&lt;p&gt;It makes a &lt;a href=&quot;http://had.co.nz/ggplot2/&quot;&gt;ggplot2&lt;/a&gt; graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.&lt;/p&gt;

&lt;p&gt;Here's an example from the function.  Paste the following in to your browser and you should get the below figure.&lt;/p&gt;

&lt;p&gt;http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/hadley.png&quot; alt=&quot;had&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And you can specify user or organization name using arguments in the URL&lt;/p&gt;

&lt;p&gt;http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type='org'&amp;amp;id='ropensci'&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/ropensci.png&quot; alt=&quot;ropensci&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sweet. Have fun.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>mvabund - new R pkg for multivariate abundance data</title>
   <link href="http://schamberlain.github.com/2012/03/mvabund/"/>
   <updated>2012-03-19T00:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2012/03/mvabund</id>
   <content type="html">&lt;p&gt;There is a new R package in town, mvabund, which does, as they say &quot;statistical methods for analysing multivariate abundance data&quot;.  The authors introduced the paper in an online early paper in Methods in Ecology and Evolution &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/full&quot;&gt;here&lt;/a&gt;, R package &lt;a href=&quot;http://cran.r-project.org/web/packages/mvabund/index.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The package is meant to visualize data, fit predictive models, check model assumptions, and test hypotheses about community-environment associations.&lt;/p&gt;

&lt;p&gt;Here is a quick example.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/2112141.js?file=mvabund.r&quot;&gt;&lt;/script&gt;


&lt;p&gt;&lt;img src=&quot;/img/mvabund1.png&quot; alt=&quot;mvabund1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/mvabund2.png&quot; alt=&quot;mvabund2&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Journal Articles Need Interactive Graphics</title>
   <link href="http://schamberlain.github.com/2012/02/science-publications-need-interactive-graphics/"/>
   <updated>2012-02-25T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/02/science-publications-need-interactive-graphics</id>
   <content type="html">&lt;p&gt;I should have thought of it earlier: In a day and age when we are increasingly reading scientific literature on computer screens, why is it that we limit our peer-reviewed data representation to static, unchanging graphs and plots? Why do we not try to create dynamic visualizations of our rich and varied data sets? Would we not derive benefits in the quality and clarity of scientific discourse from publishing these visualizations?&lt;/p&gt;

&lt;p&gt;An article in the very good (and under-appreciated, in my opinion) &lt;em&gt;&lt;a href=&quot;http://www.americanscientist.org/&quot;&gt;American Scientist&lt;/a&gt;&lt;/em&gt; magazine written by Brian Hayes started me thinking about these questions.  &lt;a href=&quot;http://www.americanscientist.org/issues/pub/pixels-or-perish&quot;&gt;&quot;Pixels or Perish&quot;&lt;/a&gt; begins by recapping the evolution of graphics in scientific publications and notes that before people were good at making plots digitally, they were good at making figures from using photographic techniques; and before that, from elaborate engravings.  Clearly, the state-of-the-art in scientific publishing is a moving target.&lt;/p&gt;

&lt;p&gt;Hayes points out that one of the primary advantages of static images is that everyone knows how to use them and that almost no one lacks the tools to view them.  That is, printed images in a magazine or static digital images in the portable document format (pdf) are easily viewed on paper or on a screen and can be readily interpreted by a wide audience.  While I agree that this feature is very important, why have we not, as scientists, moved to the next level?  We do not lack the ability to interpret data--it is our job to do so--not to mention that we are some of the heaviest generators of data in the first place.&lt;/p&gt;

&lt;p&gt;The obstacles to progress towards interactive data are two-fold.  First, generating dynamic data visualizations is not as easy as generating static plots.  The data visualization tools simply are not as well developed and they do not show up as frequently in the programming environments in which scientists work.  One example Hayes cites is that the ideas from programs such as &lt;a href=&quot;http://vis.stanford.edu/files/2011-D3-InfoVis.pdf&quot;&gt;D&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; have not yet made an appearance in software, like &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt; and &lt;a href=&quot;http://www.mathworks.com/products/matlab/&quot;&gt;Matlab&lt;/a&gt;, that more scientists use. This is one reason why I am so excited by the work that our very own &lt;a href=&quot;http://schamberlain.github.com/recologyabout.html&quot;&gt;Scott&lt;/a&gt; has been doing with this &lt;a href=&quot;http://schamberlain.github.com/&quot;&gt;Recology&lt;/a&gt; blog, in trying to promote awareness of tools in &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The second is that neither of our currently dominant publishing formats (physical paper and digital pdf files) support dynamic graphics. Hayes says it better than I could: &quot;the Web is not where scientists publish[publications are]available &lt;em&gt;through&lt;/em&gt; the Web, not &lt;em&gt;on&lt;/em&gt; the Web.&quot;  So, not many current publications really take advantage of the new capabilities that the Web has offered us to showcase dynamic data sets.  In fact, while &lt;a href=&quot;http://www.sciencemag.org/&quot;&gt;Science&lt;/a&gt; and &lt;a href=&quot;http://wwww.nature.com&quot;&gt;Nature&lt;/a&gt;--just to name two prominent examples of scientific journals--make available HTML versions of their articles, it seems like most of the interactivity is limited to looking at larger versions of figures in the articles*.  I myself usually just download the pdf version of articles rather than viewing the HTML version.  This obstacle, however, is not a fundamental one; it is only the current situation.&lt;/p&gt;

&lt;p&gt;The more serious obstacle that Hayes foresees in transitioning to dynamic graphics is one of archiving. Figures in journal articles printed in 1900 are still readable today, but there is no guarantee that a particular file format will survive in usable form to 2100, or even 2020.  I do not know the answer to this conundrum.  A balance might need to be struck between generating static and dynamic data.  At least in the medium term, papers should probably also contain static versions of figures representing dynamic data sets. It is inelegant, but it could avoid the situation where we lose access to information that was once there.&lt;/p&gt;

&lt;p&gt;That said, if the &lt;a href=&quot;http://www.nytimes.com&quot;&gt;New York Times&lt;/a&gt; can do it, so can we.  We should not wait to make our data presentation more dynamic and interactive.  At first, it will be difficult to incorporate these kinds of figures into the articles themselves, and they will likely be relegated to the &quot;supplemental material&quot; dead zone that is infrequently viewed.  But the more dynamic material that journals receive from authors, the more incentive they will have to expand upon their current offerings.  Ultimately, doing so will greatly improve the quality of scientific discourse.&lt;/p&gt;

&lt;p&gt;&lt;small&gt;* Whether the lack of dynamic data visualization on these journals' websites is due to the authors not submitting such material or due to restrictions from the journals themselves, I do not know. I suspect the burden falls more on the authors' shoulders at this point than the journals'.&lt;/small&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Take the INNGE survey on math and ecology</title>
   <link href="http://schamberlain.github.com/2012/02/math-ecology-survey/"/>
   <updated>2012-02-17T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/02/math-ecology-survey</id>
   <content type="html">&lt;p&gt;Many ecologists are R users, but we vary in our understanding of the math and statistical theory behind models we use. There is no clear consensus on what should be the basic mathematical training of ecologists.&lt;/p&gt;

&lt;p&gt;To learn what the community thinks, we invite you to fill out a short and anonymous questionnaire on this topic &lt;a href=&quot;https://sites.google.com/site/mathematicsandecologysurvey/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The questionnaire was designed by &lt;a href=&quot;http://www.cebc.cnrs.fr/Fidentite/barraquand/barraquand.htm&quot;&gt;Frdric Barraquand&lt;/a&gt;, a graduate student at Universit Pierre et Marie Curie, in collaboration with the International Network of Next-Generation Ecologists (&lt;a href=&quot;http://www.innge.net&quot;&gt;INNGE&lt;/a&gt;).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Scraping Flora of North America</title>
   <link href="http://schamberlain.github.com/2012/01/flora-north-america-scraping/"/>
   <updated>2012-01-27T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/flora-north-america-scraping</id>
   <content type="html">&lt;p&gt;So &lt;a href=&quot;http://fna.huh.harvard.edu/&quot;&gt;Flora of North America&lt;/a&gt; is an awesome collection of taxonomic information for plants across the continent.  However, the information within is not easily machine readable.&lt;/p&gt;

&lt;p&gt;So, a little web scraping is called for.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ropensci/rfna&quot;&gt;rfna&lt;/a&gt; is an R package to collect information from the Flora of North America.&lt;/p&gt;

&lt;p&gt;So far, you can:
1. Get taxonomic names from web pages that index the names.
2. Then get daughter URLs for those taxa, which then have their own 2nd order daughter URLs you can scrape, or scrape the 1st order daughter page.
3. Query Asteraceae taxa for whether they have paleate or epaleate receptacles.  This function is something I needed, but more functions will be made like this to get specific traits.&lt;/p&gt;

&lt;p&gt;Further functions will do search, etc.&lt;/p&gt;

&lt;p&gt;You can install by:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rfna&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rOpenSci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rfna&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Here is an example where a set of URLs is acquired using function &lt;code&gt;getdaughterURLs&lt;/code&gt;, then the function &lt;code&gt;receptacle&lt;/code&gt; is used to ask whether of each the taxa at those URLs have paleate or epaleate receptacles.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1690353.js?file=rfna_demo.r&quot;&gt;&lt;/script&gt;



</content>
 </entry>
 
 <entry>
   <title>RNetLogo - A package for running NetLogo from R</title>
   <link href="http://schamberlain.github.com/2012/01/RNetLogo/"/>
   <updated>2012-01-23T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/RNetLogo</id>
   <content type="html">&lt;p&gt;Described in a new Methods in Ecology and Evolution paper &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/abstract&quot;&gt;here&lt;/a&gt;, a new &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R&lt;/a&gt; package &lt;a href=&quot;http://cran.r-project.org/web/packages/RNetLogo/index.html&quot;&gt;RNetLogo&lt;/a&gt; allows you to use &lt;a href=&quot;http://ccl.northwestern.edu/netlogo/&quot;&gt;NetLogo&lt;/a&gt; from R.&lt;/p&gt;

&lt;p&gt;NetLogo is software is a &quot;multi-agent programmable modeling environment&quot;. NetLogo can be used in individual- and agent-based modeling, and is used in the book &lt;a href=&quot;http://www.railsback-grimm-abm-book.com/&quot;&gt;&lt;em&gt;Agent-based and Individual-based Modeling: A Practical Introduction&lt;/em&gt;&lt;/a&gt; by Railsback &amp;amp; Grimm.&lt;/p&gt;

&lt;p&gt;I have not tried the package yet, but looks interesting. I am always a fan of running stand-alone programs from R if possible.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Taking a Closer Look at Peer Review</title>
   <link href="http://schamberlain.github.com/2012/01/reviewing-peer-review-process/"/>
   <updated>2012-01-16T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/reviewing-peer-review-process</id>
   <content type="html">&lt;p&gt;This post is only tangentially about open science.  It is more directly about the process of peer review and how it might be improved.  I am working on a follow-up post about how these points can be addressed in an open publishing environment.&lt;/p&gt;

&lt;p&gt;A &lt;a href=&quot;http://arxiv.org/abs/1110.0791&quot;&gt;recent paper on the arXiv&lt;/a&gt; got me thinking about the sticking points in the publishing pipeline.  As it stands, most scientists have a pretty good understanding of how peer reviewed publishing is supposed to work.  Once an authoror more likely, a group of authorsdecides that a manuscript is ready for action, the following series of events will occur:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;the authors submit the manuscript to the journal of choice;&lt;/li&gt;
&lt;li&gt;the journal's editor makes a general decision about whether the article is appropriate for the journal;&lt;/li&gt;
&lt;li&gt;in the affirmative case, the editor selects referees for the manuscript and sends them the text for review;&lt;/li&gt;
&lt;li&gt;the referees return reviews of the manuscript (the referees are not typically identified to the authors);&lt;/li&gt;
&lt;li&gt;the editor makes the decision to reject the manuscript, accept it with minor revisions, or accept it with major revisions.  Rejected manuscripts usually start over the process in another journal.  Minor revisions to accepted manuscripts are usually made quickly and publication proceeds.  In the case of major revisions, the suggested changes are made, if possible, and the manuscript is returned to the editor.  At this point, the referees may get a second crack at the material (but not necessarily), before the editor makes a final accept/reject decision based on the feedback from the referees.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Peer review of manuscripts exists for several reasons.  For one, self-regulation determines the suitability of the material for publication if it was not already obvious to the editor of the journal.  Having peer reviewers also improves the material and its presentation.  Furthermore, having expert reviewers lends credibility to the work and insures that misleading, wrong, or crackpot material does not receive the stamp of credibility.  Finally, finding appropriately skilled referees spreads the workload beyond the editors, who may not have the resources to evaluate every paper arriving at their desk.&lt;/p&gt;

&lt;p&gt;Though peer review has a storied history, it also has its drawbacks.  First, and perhaps foremost, the process is often a slow one, with many months elapsing during even one round of communications between the authors, the editor, and the referees.  Peer review is not always an objective process either: referees have the power to delay, or outright reject, work that their competitors have completed, and thus they may lose their impartiality in the process.  Additionally, the publishing process does not reveal the feedback process that occurs between authors and referees, which can be a scientifically and pedagogically valuable exchange.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://arxiv.org/abs/1110.0791&quot;&gt;One proposal&lt;/a&gt; to address the shortcomings of the peer review process (alluded to in the first paragraph) was posted by Sergey Bozhevolnyi on the &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv&lt;/a&gt;, a pre-publication website for many physics-related manuscripts.  Bozhevolnyi calls his model of publishing Rapid, Impartial, and Comprehensive (RIC) publishing.  To him, &quot;rapid&quot; means that editors should approve or reject manuscripts before the manuscripts are sent to the referees for review.  Then, &quot;impartial&quot; means that referees, who might otherwise have an interest in rejecting a perfectly fine paper, lose the power to dictate whether or not a manuscript is published.  Instead, the referees critique the paper without assessing whether it is publication-worthy.  Lastly, &quot;comprehensive&quot; involves publishing everything having to do with the manuscript.  That is, all positive and negative reviews are published in conjunction with the all versions of a manuscript.&lt;/p&gt;

&lt;p&gt;The primary benefit of RIC, according to Bozhevolnyi, is that it saves the energies of authors, editors, and referees, thus allowing them all to do more research and less wrangling.  Since most papers are ultimately accepted somewhere, then we should not cause additional delays in publishing by first rejecting them in multiple places.  Instead, collate the manuscript and the reviews and publish them all together, along with any revisions to the manuscript.  Having the reviews be publicly viewable will encourage referees to be more careful about writing their critiques and supporting their assertions, and the process as a whole will be more transparent than it currently is.&lt;/p&gt;

&lt;p&gt;Before I critique the RIC publishing proposal, I should point out that some aspects of the proposal are very appealing.  I particularly like the idea of publishing all reviews in addition to the manuscript.  That said, I find it difficult to believe that the incentives for authors and referees change for the better under this proposal.  For example, what happens if authors receive feedback, do not wish to invest the time to address the critique, and subsequently allow the original manuscript and the reviews to stand as they are?  This situation seems like a moral hazard for authors that does a disservice to the quality of scientific literature.  On the part of the referees, does removing decision-making authority make reviewing less appealing?  Disempowering the referees by potentially ignoring their critique and only counting it as a minor part of the publishing process will not motivate them to write better reviews.  In the case of editors, what makes us believe that an editor, or an editorial board, has the background to properly evaluate the suitability of work for acceptance into a journal?  The reason we have referees in the current peer review system is because they have the very expertise and familiarity needed for this task.&lt;/p&gt;

&lt;p&gt;Does the fact that Bozhevolnyi's RIC proposal does not make sense mean that peer review is fine as it is?  I do not think so.  Instead, it is worth asking what parts of peer review we like and what parts we would like to improve.  I posit that rejection, or the threat of rejection, is the greatest motivator for authors to make necessary changes to their manuscript.  As such, rejection by peers is still the best way to require and receive revisions.  Though I think that referees should retain their rejecting power (and their anonymity!), I feel strongly that the entire peer review process would benefit from the increased transparency and accountability that publishing unsigned reviews would add.  As far as editors, they play a role in shaping the kind of journal they run by selecting appropriate material on a general level, but they should not play too large a role in determining the &quot;important&quot; research in any field.  The model used by the journal [Public Library of Science One][] is a promising one in this regard, with the only acceptance criterion being whether the science is sound.&lt;/p&gt;

&lt;p&gt;The amount of time that it takes to publish is one of the most frustrating aspects of peer review, however.  Journals could voluntarily publish time-to-publication figures, a number which could then be used by authorsalong with impact factors and acceptance ratesto decide which journals to submit to.  For instance, an editor of the Journal of Orthodontics writes about just this fact in &lt;a href=&quot;http://jorthod.maneyjournals.org/content/29/3/171.full&quot;&gt;an editorial&lt;/a&gt;.  A Google search for &quot;journal time to publication&quot; reveals that people have been thinking about this problem for a while (e.g. &lt;a href=&quot;http://www.hutter1.net/journals.htm&quot;&gt;computer science comparisons&lt;/a&gt;), but no general standard exists across journals.  In fact, I suspect these are numbers most journals are afraid will hurt them more than help them.  Nevertheless, journals acknowledge the demand for rapid publication when they offer services like [Springer's Fast Track publishing&lt;a href=&quot;http://www.springer.com/societies+%26+publishing+partners/society+%26+partner+zone?SGWID=0-173202-12-772912-0&quot;&gt;fasttrackpub&lt;/a&gt; or &lt;a href=&quot;http://pra.aps.org/highlighting-rapids&quot;&gt;Physical Review's Rapid Communications&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ultimately, it may not matter what journals do because authors are routing around this problem via pre-publication archives such as the &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv&lt;/a&gt; for physics-related subject matter.  Though not without complications, especially in the health sciences (see, for example, &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0010782&quot;&gt;&quot;The Promise and Perils of Pre-Publication Review&quot;&lt;/a&gt;), pre-publication allows authors to communicate results and establish priority without stressing about getting through the peer review process as fast as possible.  Instead, the process takes its normal, slower course while authors move along their on-going research.&lt;/p&gt;

&lt;p&gt;I will conclude by leaving an open question that I may address in a future post:  how do you encourage peer reviewers to do the best possible job, in a timely manner, without only relying on their altruism to doing good science and being good members of the community?  It is this question about peer review, I feel, that is the most fraught with complication and subject to the law of unintended consequences if the incentives are changed.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Function for phylogeny resolution</title>
   <link href="http://schamberlain.github.com/2012/01/phylogeny-resolution/"/>
   <updated>2012-01-13T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/phylogeny-resolution</id>
   <content type="html">&lt;p&gt;UPDATE:  Yeah, so the treeresstats function had a problem in one of the calculations.  I fixed that and added some more calulcations to the function.&lt;/p&gt;

&lt;p&gt;I couldn't find any functions to calculate number of polytomies, and related metrics.&lt;/p&gt;

&lt;p&gt;Here's a simple function that gives four metrics on a phylo tree object:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1607531.js?file=treeresstats.R&quot;&gt;&lt;/script&gt;


&lt;p&gt;Here's output from the gist above:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;trsize_tips
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;trsize_nodes
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;numpolys
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;numpolysbytrsize_tips
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.06666667&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;numpolysbytrsize_nodes
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.07692308&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;proptipsdescpoly
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.2&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;propnodesdich
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.9230769&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;And an example with many trees:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;
        &lt;th&gt;trsize_tips&lt;/th&gt;
        &lt;th&gt;trsize_nodes&lt;/th&gt;
        &lt;th&gt;numpolys&lt;/th&gt;
        &lt;th&gt;numpolysbytrsize_tips&lt;/th&gt;
        &lt;th&gt;numpolysbytrsize_nodes&lt;/th&gt;
        &lt;th&gt;proptipsdescpoly&lt;/th&gt;
        &lt;th&gt;propnodesdich&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;0.20&lt;/td&gt; &lt;td&gt;0.31&lt;/td&gt; &lt;td&gt;0.7&lt;/td&gt; &lt;td&gt;0.69&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;7&lt;/td&gt; &lt;td&gt;3&lt;/td&gt; &lt;td&gt;0.15&lt;/td&gt; &lt;td&gt;0.43&lt;/td&gt; &lt;td&gt;0.9&lt;/td&gt; &lt;td&gt;0.57&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;11&lt;/td&gt; &lt;td&gt;6&lt;/td&gt; &lt;td&gt;0.30&lt;/td&gt; &lt;td&gt;0.55&lt;/td&gt; &lt;td&gt;1.0&lt;/td&gt; &lt;td&gt;0.45&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;0.20&lt;/td&gt; &lt;td&gt;0.31&lt;/td&gt; &lt;td&gt;0.7&lt;/td&gt; &lt;td&gt;0.69&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;9&lt;/td&gt; &lt;td&gt;5&lt;/td&gt; &lt;td&gt;0.25&lt;/td&gt; &lt;td&gt;0.56&lt;/td&gt; &lt;td&gt;1.0&lt;/td&gt; &lt;td&gt;0.44&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;

</content>
 </entry>
 
 <entry>
   <title>Moving from blogger and wordpress to jekyll</title>
   <link href="http://schamberlain.github.com/2012/01/moving-from-blogger-wordpress-to-jekyll/"/>
   <updated>2012-01-11T00:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/moving-from-blogger-wordpress-to-jekyll</id>
   <content type="html">&lt;p&gt;Recology used to be hosted on Blogger, and my personal website was hosted on Wordpress.  Neither platform was very satisfying.  Blogger is very limited in their layouts, unless you use dynamic views, which suck because they don't allow javascript snippets to render GitHub gists.  Wordpress is just limited all around as you can't put in hardly anythig excep text and some pictures. They both have their place, but not so much for content that requires syntax highlighting, references, etc.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;Jekyll&lt;/a&gt; powered sites on &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; are an awesome alternative.  You do have to write the code yourself, but you can copy any number of templates on GitHub with a simple &lt;code&gt;git clone&lt;/code&gt; onto your machine, edit the text a bit, push it up to GitHub, and that's it.&lt;/p&gt;

&lt;p&gt;On Blogger and Wordpress you can't see the code behind why different blogs/sites look different.  But on Jekyll/GitHub you can see the code behind each site (see &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;here&lt;/a&gt; for a list of Jekyll/GitHub sites and their source code), which makes learning so easy.&lt;/p&gt;

&lt;p&gt;Here is a video on YouTube that explains in some detail Jekyll/GitHub sites:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/7mXeJlFdZ2c&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;


&lt;p&gt;A great point in the video above is that a Jekyll site allows a workflow that is great not only for code-junkies, but for scientists.  What is the most important thing about science?  That it is reproducible of course.   Documenting your code and sharing with everyone on GitHub or SVN, etc. is great for science in facilitating collaboration and facilitating transparency.  Having your website/blog on Jekyll fits right in to this workflow (that is, pull down any changes - write/edit something - commit - push to GitHub).  Although this sort of worklow isn't necessary for a blog, it is nice for scientists to use this workflow all the time.&lt;/p&gt;

&lt;p&gt;Here's how to get started:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://git-scm.com/&quot;&gt;Install git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/signup/free&quot;&gt;Get a free GitHub account&lt;/a&gt; and &lt;a href=&quot;http://help.github.com/mac-set-up-git/&quot;&gt;configure GitHub&lt;/a&gt;.  If you are afraid of the command line, there is a great GitHub app &lt;a href=&quot;http://mac.github.com/&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git clone&lt;/code&gt; a jekyll template to your machine.  There are hundreds of these now.  Look &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;here&lt;/a&gt; for your favorite, and &lt;code&gt;git clone&lt;/code&gt; it. ***&lt;/li&gt;
&lt;li&gt;Edit the template you have cloned, and commit and push to GitHub.  That's it.  It will take just a bit to render.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;There is more to it than that, but that is how you can get started.  If you want to add comments, &lt;a href=&quot;http://disqus.com/&quot;&gt;Disqus&lt;/a&gt; is a great option.  Once you fork someones jekyll site, make sure to change all the personal/site specific information to your information, including the RSS feed.&lt;/p&gt;

&lt;p&gt;*** Note: You can name your repo for your site/blog as yourgithubname.github.com if you want your URL for the site to be http://yourgithubname.github.com.  Or you can name your repo whatever you want, e.g., disrepo, then the URL will be http://yourgithubname.github.com/disrepo.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Presenting results of logistic regression</title>
   <link href="http://schamberlain.github.com/2012/01/logistic-regression-barplot-fig/"/>
   <updated>2012-01-10T05:50:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/logistic-regression-barplot-fig</id>
   <content type="html">&lt;p&gt;So my advisor pointed out this 'new' (well, 2004), way of plotting results of logistic regression results.  The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (&lt;a href=&quot;http://esapubs.org/bulletin/backissues/085-3/bulletinjuly2004_2column.htm#tools1&quot;&gt;here&lt;/a&gt;).  I tried to come up with a  solution using, what else, ggplot2.  I don't have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn't want to support second y-axes in ggplot2, but they can probably be hacked on).&lt;/p&gt;

&lt;p&gt;Here's the code:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1589136.js?file=loghistplot.R&quot;&gt;&lt;/script&gt;


&lt;p&gt;Here's a few examples using datasets provided with the ggplot2 package:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;mpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;vs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/images/posts/mtcarsplot.png&quot; alt=&quot;mtcars plot&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;movies&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rating&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/images/posts/moviesplot.png&quot; alt=&quot;movies plot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And two examples of the logpointplot function:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;logpointplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;mpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;vs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/images/posts/logpointplot1.png&quot; alt=&quot;mtcars point plot&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;logpointplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;movies&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rating&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/images/posts/logpointplot2.png&quot; alt=&quot;movies point plot&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Testing twitterfeed</title>
   <link href="http://schamberlain.github.com/2012/01/testing-twitterfeed/"/>
   <updated>2012-01-08T09:33:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/testing-twitterfeed</id>
   <content type="html">&lt;p&gt;Does this work on twitterfeed?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Testing new website</title>
   <link href="http://schamberlain.github.com/2012/01/testing-new-website/"/>
   <updated>2012-01-06T06:08:00-08:00</updated>
   <id>http://schamberlain.github.com/2012/01/testing-new-website</id>
   <content type="html">&lt;p&gt;Test post on new Jekyll hosted website...&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Weecology can has new mammal dataset</title>
   <link href="http://schamberlain.github.com/2011/12/weecology-can-has-new-mammal-dataset/"/>
   <updated>2011-12-29T06:11:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/12/weecology-can-has-new-mammal-dataset</id>
   <content type="html">&lt;p&gt;So the &lt;a href=&quot;http://weecology.org/&quot;&gt;Weecology&lt;/a&gt; folks have published a large dataset on mammal communities in a data paper in &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0262.1&quot;&gt;Ecology&lt;/a&gt;. I know nothing about mammal communities, but that doesn't mean one can't play with the data...&lt;/p&gt;

&lt;h3&gt;Their dataset consists of five csv files:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;communities,&lt;/li&gt;
&lt;li&gt;references,&lt;/li&gt;
&lt;li&gt;sites,&lt;/li&gt;
&lt;li&gt;species, and&lt;/li&gt;
&lt;li&gt;trapping data&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Where are these sites, and by the way, do they vary much in altitude?&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; height=&quot;230&quot; width=&quot;400&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png&quot; height=&quot;230&quot; width=&quot;400&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;Let's zoom in on just the states&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; height=&quot;230&quot; width=&quot;400&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;What phylogenies can we get for the species in this dataset?&lt;/h3&gt;

&lt;p&gt;We can use the &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/&quot;&gt;rOpenSci package treebase&lt;/a&gt; to search the online phylogeny repository &lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;TreeBASE&lt;/a&gt;. Limiting to returning a max of 1 tree (to save time), we can see that X species are in at least 1 tree on the TreeBASE database. Nice.&lt;/p&gt;

&lt;p&gt;So there are 321 species in the database with at least 1 tree in the TreeBASE database. Of course there could be many more, but we limited results from TreeBASE to just 1 tree per query.&lt;/p&gt;

&lt;h3&gt;Here's the code:&lt;/h3&gt;

&lt;script src=&quot;https://gist.github.com/1534730.js?file=mammaldataset.R&quot;&gt;&lt;/script&gt;



</content>
 </entry>
 
 <entry>
   <title>Recology is 1 yr old</title>
   <link href="http://schamberlain.github.com/2011/12/recology-is-1-yr-old-/"/>
   <updated>2011-12-23T16:52:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/12/recology-is-1-yr-old-</id>
   <content type="html">&lt;p&gt;This blog has lasted a whole year already. &amp;nbsp;Thanks for reading and commenting.&lt;/p&gt;

&lt;h3&gt;There are a couple of announcements:&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;Less blogging: I hope to put in many more years blogging here, but in full disclosure &lt;a href=&quot;http://jecologyblog.wordpress.com/&quot;&gt;I am blogging for Journal of Ecology&lt;/a&gt; now, so I am going to be (and already have been) blogging less here.&lt;/li&gt;
&lt;li&gt;More blogging: If anyone wants to write guest posts at Recology on the topics of using R for ecology and evolution, or open science, please contact me.&lt;/li&gt;
&lt;li&gt;Different blogging: I was going to roll out the new dynamic views for this blog, but Google doesn't allow javascript, which is how I include code using GitHub gists. Oh well...&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Anywho, here is the breakdown of visits to this blog, visualized using #ggplot2, of course. There were a total of about 23,000 pageviews in the first year of this blog.&lt;/p&gt;

&lt;p&gt;Here is the pie chart code I used:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1515754.js?file=piechart.R&quot;&gt;&lt;/script&gt;


&lt;p&gt;&lt;/p&gt;

&lt;p&gt;Visits to top ten posts:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7158/6613213609_e491cd6f95_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by by pages:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7033/6613216069_6c7b0d2aca_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by top referring sites:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7008/6613217859_a03bcfee3e_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by country:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7027/6613219049_97cf21a84e_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by browsers:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7147/6613232905_5a98d82f87_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by operating system:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7005/6613236311_7cab55afd6_d.jpg&quot;/&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Dynamic views don't support javascript-so reverting back to simple views</title>
   <link href="http://schamberlain.github.com/2011/12/dynamic-views-don-t-support-javascript-so-reverting-back-to-simple-views/"/>
   <updated>2011-12-22T09:36:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/12/dynamic-views-don-t-support-javascript-so-reverting-back-to-simple-views</id>
   <content type="html">&lt;p&gt;Sorry for the temporary loss of GitHub gists...Hopefully dynamic views will support javascript soon!!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>I Work For The Internet !</title>
   <link href="http://schamberlain.github.com/2011/12/i-work-for-internet-/"/>
   <updated>2011-12-13T07:35:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/12/i-work-for-internet-</id>
   <content type="html">&lt;p&gt;UPDATE: code and figure updated at 647 AM CST on 19 Dec '11. Also, see Jarrett Byrnes (improved) fork of my gist &lt;a href=&quot;https://gist.github.com/1474802&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The site &lt;a href=&quot;http://iworkfortheinternet.org/&quot;&gt;I WORK FOR THE INTERNET&lt;/a&gt; is collecting pictures and first names (last name initials only) to show collective support against SOPA (the Stop Online Piracy Act). Please stop by their site and add your name/picture.&lt;/p&gt;

&lt;p&gt;I used the #rstats package twitteR, created by Jeff Gentry, to search for tweets from people signing this site with their picture, then plotted using ggplot2, and also used Hadley's lubridate to round timestamps on tweets to be able to bin tweets in to time slots for plotting.&lt;/p&gt;

&lt;p&gt;Tweets containing the phrase 'I work for the internet' by time:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s1600/Rplot01.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;326&quot; src=&quot;http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s400/Rplot01.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here's the code as a GitHub gist. Sometimes the searchTwitter fxn doesn't returns an error, which I don't understand, but you can play with it:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1472619.js?file=iworkfortheinternet.R&quot;&gt;&lt;/script&gt;



</content>
 </entry>
 
 <entry>
   <title>LondonR meetings presentations</title>
   <link href="http://schamberlain.github.com/2011/12/londonr-meetings-presentations/"/>
   <updated>2011-12-11T09:59:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/12/londonr-meetings-presentations</id>
   <content type="html">&lt;p&gt;Three presentations uploaded on &lt;a href=&quot;http://www.londonr.org/Presentations/Agenda.html&quot; target=&quot;_blank&quot;&gt;LondonR meetings website&lt;/a&gt;. &amp;nbsp;I especially enjoyed the &lt;a href=&quot;http://www.londonr.org/Presentations/segue-presentation-LondonRUG%20(1).ppt&quot; target=&quot;_blank&quot;&gt;JD Long presentation&lt;/a&gt; on the seque package for simulations using Amazon's EC2.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rOpenSci won 3rd place in the PLoS-Mendeley Binary Battle!</title>
   <link href="http://schamberlain.github.com/2011/11/ropensci-won-3rd-place-in-the-plos-mendeley-binary-battle-/"/>
   <updated>2011-11-30T10:28:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/11/ropensci-won-3rd-place-in-the-plos-mendeley-binary-battle-</id>
   <content type="html">&lt;br /&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;I am part of the rOpenSci development team (&lt;a href=&quot;http://ropensci.org/developers/&quot; target=&quot;_blank&quot;&gt;along with Carl Boettiger, Karthik Ram, and Nick Fabina&lt;/a&gt;). &amp;nbsp; Our website: &lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;. &amp;nbsp;Code at Github:&amp;nbsp;&lt;a href=&quot;https://github.com/ropensci&quot;&gt;https://github.com/ropensci&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;We entered two of our R packages for integrating with PLoS Journals (rplos) and Mendeley (RMendeley) in the&amp;nbsp;&lt;a data-mce-href=&quot;http://dev.mendeley.com/api-binary-battle&quot; href=&quot;http://dev.mendeley.com/api-binary-battle&quot; target=&quot;_blank&quot;&gt;Mendeley-PLoS Binary Battle&lt;/a&gt;. &amp;nbsp;Get them at GitHub (&lt;a data-mce-href=&quot;https://github.com/ropensci/rplos&quot; href=&quot;https://github.com/ropensci/rplos&quot; target=&quot;_blank&quot;&gt;rplos&lt;/a&gt;;&amp;nbsp;&lt;a data-mce-href=&quot;https://github.com/ropensci/RMendeley&quot; href=&quot;https://github.com/ropensci/RMendeley&quot; target=&quot;_blank&quot;&gt;RMendeley&lt;/a&gt;).&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;These two packages allow users (from R! of course) to search and retrieve data from PLoS journals (including their altmetrics data), and from Mendeley. &amp;nbsp;You could surely mash up data from both PLoS and Mendeley. &amp;nbsp;That's what's cool about rOpenSci - we provide the tools, and leave it up to users vast creativity to do awesome things.&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;3rd place gives us a $1,000 prize, plus a&amp;nbsp;&lt;a data-mce-href=&quot;http://ardrone.parrot.com/parrot-ar-drone/uk/&quot; href=&quot;http://ardrone.parrot.com/parrot-ar-drone/uk/&quot; target=&quot;_blank&quot;&gt;Parrot AR Drone helicopter&lt;/a&gt;.&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>Public vote open for Mendely-PLoS Binary Battle: vote rOpenSci!</title>
   <link href="http://schamberlain.github.com/2011/11/public-vote-open-for-mendely-plos-binary-battle-vote-ropensci-/"/>
   <updated>2011-11-19T07:00:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/11/public-vote-open-for-mendely-plos-binary-battle-vote-ropensci-</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.surveygizmo.com/s3/722753/Mendeley-PLoS-Binary-Battle-Public-Vote&quot;&gt;http://www.surveygizmo.com/s3/722753/Mendeley-PLoS-Binary-Battle-Public-Vote&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My talk on doing phylogenetics in R</title>
   <link href="http://schamberlain.github.com/2011/11/my-talk-on-doing-phylogenetics-in-r/"/>
   <updated>2011-11-18T11:15:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/11/my-talk-on-doing-phylogenetics-in-r</id>
   <content type="html">&lt;p&gt;I gave a talk today on doing very basic phylogenetics in R, including getting sequence data, aligning sequence data, plotting trees, doing trait evolution stuff, etc.&lt;br /&gt;&lt;br /&gt;Please comment if you have code for doing bayesian phylogenetic inference in R. &amp;nbsp;I know phyloch has function mrbayes, but can't get it to work...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div id=&quot;__ss_10222772&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/phylogenetics-in-r&quot; target=&quot;_blank&quot; title=&quot;Phylogenetics in R&quot;&gt;Phylogenetics in R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/10222772&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Check out a video of my research at RocketHub</title>
   <link href="http://schamberlain.github.com/2011/11/check-out-a-video-of-my-research-at-rockethub/"/>
   <updated>2011-11-01T07:36:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/11/check-out-a-video-of-my-research-at-rockethub</id>
   <content type="html">&lt;p&gt;Okay, so this post isn't at all about R - but I can't resist begging my readers for some help. &lt;br /&gt;&lt;br /&gt;Im trying to get some crowdfunding for my research on the evolution of native plants in agricultural landscapes.  My campaign is part of a larger project by about 50 other scientists and me to see how well it works to go straight to the public to get funding for science research.  All these projects, including mine, are hosted at a site called RocketHub - a site that hosts crowdfunding projects of all sorts  and now they have science.&lt;br /&gt;&lt;br /&gt;It is important to get a few bucks at the beginning so that the people that dont know me with deep pockets will hopefully chip in once they see the money ball rolling.  &lt;br /&gt;&lt;br /&gt;The funding will go towards paying some students to collect data in the lab for me.&lt;br /&gt;&lt;br /&gt;Heres the link if you want to donate, or just to check out the video I made about my research!&lt;br /&gt;&lt;a href=&quot;http://www.rockethub.com/projects/3790-evolution-in-agriculture&quot;&gt;http://www.rockethub.com/projects/3790-evolution-in-agriculture&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;And watch the video here too:&lt;br /&gt;&lt;br /&gt;&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/W1mQgK6xFn0&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My little presentation on getting web data through R</title>
   <link href="http://schamberlain.github.com/2011/10/my-little-presentation-on-getting-web-data-through-r/"/>
   <updated>2011-10-28T09:16:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/10/my-little-presentation-on-getting-web-data-through-r</id>
   <content type="html">&lt;div id=&quot;__ss_9926321&quot; style=&quot;width: 425px;&quot;&gt;&lt;span style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;With examples from &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; R packages.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;p.s. I am no expert at this...&lt;/span&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;br /&gt;&lt;/strong&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/web-data-from-r&quot; target=&quot;_blank&quot; title=&quot;Web data from R&quot;&gt;Web data from R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9926321&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>Two new rOpenSci R packages are on CRAN</title>
   <link href="http://schamberlain.github.com/2011/10/two-new-ropensci-r-packages-are-on-cran/"/>
   <updated>2011-10-27T05:27:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/10/two-new-ropensci-r-packages-are-on-cran</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;, a graduate student at UC Davis, just got two packages on &lt;a href=&quot;http://cran.r-project.org/web/packages/available_packages_by_name.html&quot;&gt;CRAN&lt;/a&gt;. &amp;nbsp;One is &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/index.html&quot;&gt;treebase&lt;/a&gt;, which which handshakes with the &lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;Treebase&lt;/a&gt; API. &amp;nbsp;The other is &lt;a href=&quot;http://cran.r-project.org/web/packages/rfishbase/index.html&quot;&gt;rfishbase&lt;/a&gt;, which connects with the &lt;a href=&quot;http://www.fishbase.org/search.php&quot;&gt;Fishbase&lt;/a&gt;, although I believe just scrapes XML content as there is no API. &amp;nbsp;See development on GitHub for treebase &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;here&lt;/a&gt;, and for rfishbase &lt;a href=&quot;https://github.com/ropensci/rfishbase&quot;&gt;here&lt;/a&gt;. &amp;nbsp;Carl has some tutorials on treebase and rfishbase at his website &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;here&lt;/a&gt;, and we have an official rOpenSci tutorial for treebase &lt;a href=&quot;http://ropensci.org/tutorials/r-treebase-tutorial/&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Basically, these two R packages let you search and pull down data from Treebase and Fishbase - pretty awesome. &amp;nbsp;This improves workflow, and puts your data search and acquisition component into your code, instead of being a bunch of mouse clicks in a browser.&lt;br /&gt;&lt;br /&gt;These two packages are part of the &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci project&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Two-sex demographic models in R</title>
   <link href="http://schamberlain.github.com/2011/10/two-sex-demographic-models-in-r/"/>
   <updated>2011-10-26T07:31:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/10/two-sex-demographic-models-in-r</id>
   <content type="html">&lt;p&gt;Tom Miller (a prof here at Rice) and Brian Inouye have a paper out in Ecology (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0028.1&quot;&gt;paper&lt;/a&gt;, &lt;a href=&quot;http://www.esapubs.org/archive/archive_E.htm&quot;&gt;appendices&lt;/a&gt;) that confronts two-sex models of dispersal with empirical data.&lt;br /&gt;&lt;br /&gt;They conducted the first confrontation of two-sex demographic models with empirical data on lab populations of bean beetles &lt;i&gt;Callosobruchus&lt;/i&gt;. &lt;br /&gt;&lt;br /&gt;Their R code for the modeling work is available at Ecological Archives (link &lt;a href=&quot;http://www.esapubs.org/archive/ecol/E092/186/&quot;&gt;here&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is a figure made from running the five blocks of code in 'Miller_and_Inouye_figures.txt' that reproduces Fig. 4 (A-E) in their Ecology paper (p = proportion female, Nt = density). &amp;nbsp;Nice!&lt;br /&gt;A: Saturating density dependence &lt;br /&gt;B: Over-compensatory density dependence&lt;br /&gt;C: Sex-specific gamma's (but bM=bF=0.5)&lt;br /&gt;D:&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;Sex-specific b's (but gammaM=gammaF=1)&lt;/span&gt;&lt;br /&gt;E:&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;Sex-specific b's (but gammaM=gammaF=2)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-Ht7fPEjDhQY/TqgYoiQQlPI/AAAAAAAAFEU/ehhPrxOseK4/s1600/Screen+Shot+2011-10-26+at+9.26.11+AM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;391&quot; src=&quot;http://2.bp.blogspot.com/-Ht7fPEjDhQY/TqgYoiQQlPI/AAAAAAAAFEU/ehhPrxOseK4/s400/Screen+Shot+2011-10-26+at+9.26.11+AM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>New food web dataset</title>
   <link href="http://schamberlain.github.com/2011/10/new-food-web-dataset/"/>
   <updated>2011-10-14T11:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/10/new-food-web-dataset</id>
   <content type="html">&lt;br /&gt;&lt;br /&gt;So, there is a new food web dataset out that was put in Ecological Archives &lt;a href=&quot;http://www.esapubs.org/Archive/ecol/E092/173/default.htm&quot;&gt;here&lt;/a&gt;, and I thought I would play with it.  The food web is from Otago Harbour, an intertidal mudflat ecosystem in New Zealand.  The web contains 180 nodes, with 1,924 links. &lt;br /&gt;&lt;br /&gt;Fun stuff...&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;igraph, default layout plot&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-2lQOoeAqGCM/Tphf9GJI8LI/AAAAAAAAFEA/EPwum7GfwXg/s1600/igraphplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://3.bp.blogspot.com/-2lQOoeAqGCM/Tphf9GJI8LI/AAAAAAAAFEA/EPwum7GfwXg/s400/igraphplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;igraph, circle layout plot, nice&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/--hGl2IwHi4M/TphhJYdBO0I/AAAAAAAAFEI/8GsLuUkbYcM/s1600/igraphcircleplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://1.bp.blogspot.com/--hGl2IwHi4M/TphhJYdBO0I/AAAAAAAAFEI/8GsLuUkbYcM/s400/igraphcircleplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;My funky little gggraph function plot&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;get the gggraph function, and make it better, &lt;a href=&quot;https://github.com/SChamberlain/gggraph&quot;&gt;here at Github&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-MBPHlFaVWos/Tphf82gWUpI/AAAAAAAAFD4/qaxCX4PP-C0/s1600/gggraphplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://4.bp.blogspot.com/-MBPHlFaVWos/Tphf82gWUpI/AAAAAAAAFD4/qaxCX4PP-C0/s400/gggraphplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1287545.js?file=newfoodwb.R&quot;&gt;&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>Phylogenetic community structure: PGLMMs</title>
   <link href="http://schamberlain.github.com/2011/10/phylogenetic-community-structure-pglmms/"/>
   <updated>2011-10-13T08:18:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/10/phylogenetic-community-structure-pglmms</id>
   <content type="html">&lt;p&gt;So, &lt;a href=&quot;http://r-ecology.blogspot.com/2011/01/new-approach-to-analysis-of.html&quot;&gt;I've blogged about this topic before&lt;/a&gt;, way back on 5 Jan this year.&lt;br /&gt;&lt;br /&gt;Matt Helmus, a postdoc in the &lt;a href=&quot;http://woottonlab.uchicago.edu/&quot;&gt;Wootton lab at the University of Chicago&lt;/a&gt;, published a paper with Anthony Ives in Ecological Monographs this year (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/10-1264.1&quot;&gt;abstract here&lt;/a&gt;). &amp;nbsp;The paper addressed a new statistical approach to phylogenetic community structure. &lt;br /&gt;&lt;br /&gt;As I said in the original post, part of the power of the PGLMM (phylogenetic generalized linear mixed models) approach is that you don't have to conduct quite so many separate statistical tests as with the previous null model/randomization approach. &lt;br /&gt;&lt;br /&gt;Their original code was written in Matlab. &amp;nbsp;Here I provide the R code that Matt has so graciously shared with me. &amp;nbsp;There are four functions and a fifth file has an example use case. &amp;nbsp;The example and output are shown below. &lt;br /&gt;&lt;br /&gt;Look for the inclusion of Matt's PGLMM to the picante R package in the future.&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Here are links to the files as GitHub gists:&amp;nbsp;&lt;/u&gt;&lt;br /&gt;PGLMM.data.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1278205&quot;&gt;https://gist.github.com/1278205&lt;/a&gt;&lt;br /&gt;PGLMM.fit.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284284&quot;&gt;https://gist.github.com/1284284&lt;/a&gt;&lt;br /&gt;PGLMM.reml.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284287&quot;&gt;https://gist.github.com/1284287&lt;/a&gt;&lt;br /&gt;PGLMM.sim.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284288&quot;&gt;https://gist.github.com/1284288&lt;/a&gt;&lt;br /&gt;PGLMM_example.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284442&quot;&gt;https://gist.github.com/1284442&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Enjoy!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;The example&lt;/u&gt;&lt;/b&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1284477.js?file=PGLMM_exampleoutput.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;..and the figures...&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s1600/plot1.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;315&quot; src=&quot;http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s320/plot1.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s1600/plot2.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;307&quot; src=&quot;http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s320/plot2.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s1600/plot3.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s320/plot3.png&quot; width=&quot;316&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R talk on regular expressions (regex)</title>
   <link href="http://schamberlain.github.com/2011/10/r-talk-on-regular-expressions-regex-/"/>
   <updated>2011-10-06T08:50:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/10/r-talk-on-regular-expressions-regex-</id>
   <content type="html">&lt;p&gt;Regular expressions are a powerful in any language to manipulate, search, etc. data.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; fruit &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;apple&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;banana&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pear&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pineapple&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; fruit
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;apple&amp;quot;&lt;/span&gt;     &lt;span class=&quot;s&quot;&gt;&amp;quot;banana&amp;quot;&lt;/span&gt;    &lt;span class=&quot;s&quot;&gt;&amp;quot;pear&amp;quot;&lt;/span&gt;      &lt;span class=&quot;s&quot;&gt;&amp;quot;pineapple&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; grep&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fruit&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# there is an &amp;quot;a&amp;quot; in each of the words&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; strsplit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a string&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# strsplit splits the string on the &amp;quot;s&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a &amp;quot;&lt;/span&gt;    &lt;span class=&quot;s&quot;&gt;&amp;quot;tring&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;R base has many functions for regular expressions, see slide 9 of Ed's talk below.  The package stringr, created by Hadley Wickham, is a nice alternative that wraps the base regex functions for easier use. I highly recommend &lt;a href=&quot;http://cran.r-project.org/web/packages/stringr/index.html&quot;&gt;stringr&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ed Goodwin, the coordinator of the &lt;a href=&quot;http://www.meetup.com/houstonr/&quot;&gt;Houston R Users group&lt;/a&gt;, gave a presentation to the group last night on regular expressions in R. It was a great talk, and he is allowing me to post his talk here.&lt;/p&gt;

&lt;p&gt;Enjoy!  And thanks for sharing Ed!&lt;/p&gt;

&lt;div style=&quot;width:425px&quot; id=&quot;__ss_9576621&quot;&gt; &lt;strong style=&quot;display:block;margin:12px 0 4px&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/regexpresentationedgoodwin&quot; title=&quot;regex-presentation_ed_goodwin&quot; target=&quot;_blank&quot;&gt;regex-presentation_ed_goodwin&lt;/a&gt;&lt;/strong&gt; &lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/9576621&quot; width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt; &lt;div style=&quot;padding:5px 0 12px&quot;&gt; View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt; &lt;/div&gt;



</content>
 </entry>
 
 <entry>
   <title>R tutorial on visualizations/graphics</title>
   <link href="http://schamberlain.github.com/2011/09/r-tutorial-on-visualizationsgraphics/"/>
   <updated>2011-09-30T08:48:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/r-tutorial-on-visualizationsgraphics</id>
   <content type="html">&lt;p&gt;Rolf Lohaus, a Huxley postdoctoral fellow here in the EEB dept at Rice University, gave our R course a talk on basic visualizations in R this morning.&lt;br /&gt;&lt;br /&gt;Enjoy!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1254174.js?file=visualizations_tutorial.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Short on funding? Can't get a grant? Crowdfunding! #SciFund</title>
   <link href="http://schamberlain.github.com/2011/09/short-on-funding-can-t-get-a-grant-crowdfunding-scifund/"/>
   <updated>2011-09-27T09:16:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/short-on-funding-can-t-get-a-grant-crowdfunding-scifund</id>
   <content type="html">&lt;p&gt;Crowdsourced funding is becoming a sustainable way for various artists, entrepreneurs, etc. to get their idea funded from individuals. For example, think of &lt;a href=&quot;http://www.kickstarter.com/&quot;&gt;Kickstarter&lt;/a&gt; and &lt;a href=&quot;http://www.rockethub.com/&quot;&gt;RocketHub&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Jai Ranganathan and Jarrett Byrnes have started an experiment to determine how well crowdfunding can work for scientists: The SciFund Challenge. Go here to &lt;a href=&quot;http://scifund.wordpress.com/sign-up/&quot;&gt;signup&lt;/a&gt; and here for their &lt;a href=&quot;http://scifund.wordpress.com/&quot;&gt;website&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The deadline to sign up is Oct. 1&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ten Simple Rules for OA Publishers talk by Philip Bourne</title>
   <link href="http://schamberlain.github.com/2011/09/-ten-simple-rules-for-oa-publishers-talk-by-philip-bourne/"/>
   <updated>2011-09-23T12:44:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/-ten-simple-rules-for-oa-publishers-talk-by-philip-bourne</id>
   <content type="html">&lt;div id=&quot;__ss_9354451&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/pebourne/ten-simple-rules-for-open-access-publishers&quot; target=&quot;_blank&quot; title=&quot;Ten Simple Rules for Open Access Publishers&quot;&gt;Ten Simple Rules for Open Access Publishers&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9354451&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/pebourne&quot; target=&quot;_blank&quot;&gt;Philip Bourne&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>@drewconway interview on @DataNoBorders at the Strata conference</title>
   <link href="http://schamberlain.github.com/2011/09/-drewconway-interview-on-datanoborders-at-the-strata-conference/"/>
   <updated>2011-09-22T21:10:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/-drewconway-interview-on-datanoborders-at-the-strata-conference</id>
   <content type="html">&lt;p&gt;The O'Reilly Media Strata Summit has many interviews on YouTube (just search YouTube for it)&lt;br /&gt;&lt;br /&gt;Drew Conway is the author of a R packages, including &lt;a href=&quot;http://cran.r-project.org/web/packages/infochimps/index.html&quot;&gt;infochimps&lt;/a&gt;, an R wrapper to the &lt;a href=&quot;http://www.infochimps.com/&quot;&gt;Infochimps&lt;/a&gt; API service.&lt;br /&gt;&lt;br /&gt;The YouTube video:&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/fsnnwTWoOLk&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Open science talk by Carl Boettiger</title>
   <link href="http://schamberlain.github.com/2011/09/open-science-talk-by-carl-boettiger/"/>
   <updated>2011-09-22T20:55:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/open-science-talk-by-carl-boettiger</id>
   <content type="html">&lt;p&gt;Carl Boettiger gave a talk on the topic of open science to incoming UC Davis graduate students.&lt;/p&gt;

&lt;p&gt;Here is the audio &lt;a href=&quot;http://www.archive.org/details/ThingsIWishIKnewThreeYearsAgo-ByTheDavisOpenScienceGroup&amp;amp;amp;reCache=1&quot;&gt;click here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here are the slides &lt;a href=&quot;http://hazelnusse.github.com/DOS_WOW2011/#title-slide&quot;&gt;clickhere&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My take on an R introduction talk</title>
   <link href="http://schamberlain.github.com/2011/09/my-take-on-an-r-introduction-talk/"/>
   <updated>2011-09-09T11:03:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/my-take-on-an-r-introduction-talk</id>
   <content type="html">&lt;p&gt;UPDATE: I put in an R tutorial as a Github gist below.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is a short intro R talk I gave today...for what it's worth...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div id=&quot;__ss_9195930&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/r-introduction&quot; target=&quot;_blank&quot; title=&quot;R Introduction&quot;&gt;R Introduction&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9195930&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;&lt;script src=&quot;https://gist.github.com/1208321.js?file=Rintrotutorial.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A Data Visualization Book</title>
   <link href="http://schamberlain.github.com/2011/09/a-data-visualization-book/"/>
   <updated>2011-09-08T23:28:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/a-data-visualization-book</id>
   <content type="html">&lt;p&gt;&lt;i&gt;Note:  thanks to Scott for inviting me to contribute to the Recology blog despite being an ecology outsider; my work is primarily in atomic physics. -Pascal&lt;/i&gt;&lt;p&gt;A part of me has always liked thinking about how to effectively present information, but until the past year, I had not read much to support my (idle) interest in information visualization.  That changed in the spring when I read Edward Tufte's &lt;i&gt;The Visual Display of Quantitative Information&lt;/i&gt;, a book that stimulated me to think more deeply about presenting information.  I originally started with a specific task in mind--a wonderful tool for focusing one's interests--but quickly found that Tufte's book was less a practical guide and more a list of general design principles.  Then, a few months ago, I stumbled upon Nathan Yau's blog, &lt;a href=&quot;http://flowingdata.com/&quot;&gt;FlowingData&lt;/a&gt;, and found out he was writing a practical guide to design and visualization.  Conveniently enough for me, Yau's book, &lt;i&gt;&lt;a href=&quot;http://book.flowingdata.com/&quot;&gt;Visualize This&lt;/a&gt;&lt;/i&gt;, would be released within a month of my discovery of his blog; what follows are my impressions of &lt;i&gt;Visualize This&lt;/i&gt;.&lt;p&gt;I have liked &lt;i&gt;Visualize This&lt;/i&gt; a lot. Yau writes with much the same informal tone as on his blog, and the layout is visually pleasing (good thing, too, for a book about visualizing information!). The first few chapters are pretty basic if you have done much data manipulation before, but it is really nice to have something laid out so concisely. The examples are good, too, in that he is very explicit about every step: there is no intuiting what that missing step should be. The author even acknowledges in the introduction that the first part of the book is at an introductory level.&lt;p&gt;Early in the book, Yau discusses where to obtain data.  This compilation of sources is potentially a useful reference for someone, like me, who almost always generates his own data in the lab.  Unfortunately, Yau does not talk much about preparation of (or best practices for) your own data. Additionally, from the perspective of a practicing scientist, it would have been nice to hear about how to archive data to make sure it is readable far into the future, but that is probably outside the scope of the book.&lt;p&gt;Yau seems really big into using open source software for getting and analyzing data (e.g. Python, R, etc), but he is surprisingly attached to the proprietary Adobe Illustrator for turning figures into presentation quality graphics. He says that he feels like the default options in most analysis programs do not make for very good quality graphics (and he is right), but he does not really acknowledge that you can generate nice output if you go beyond the default settings. For me, the primary advantage of generating output programmatically is that it is easy to regenerate when you need to change the data or the formatting on the plot. Using a graphical user interface, like in Adobe Illustrator, is nice if you are only doing something once (how often does that happen?), but when you have to regenerate the darn figure fifty times to satisfy your advisor, it gets tedious to move things around pixel by pixel.&lt;p&gt;By the time I reached the middle chapters, I started finding many of the details to be repetitive.  Part of this repetition stems from the fact that Yau divides these chapters by the type of visualization. For example, &quot;Visualizing Proportions&quot; and &quot;Visualizing Relationships&quot; are two of the chapter titles.  While I think these distinctions are important ones for telling the right story about one's data, creating figures for the different data types often boils down to choosing different functions in R or Python. People with less analysis and presentation experience should find the repetition helpful, but I increasingly skimmed these sections as I went along. &lt;p&gt;Working through Yau's examples for steps you do not already know would probably be the most useful way of getting something out of the book. So, for example, I started trying to use Python to scrape data from a webpage, something I had not previously done. I followed the book's example of this data-scraping just fine, but as with most things in programming, you find all sorts of minor hurdles to clear when you try your own thing. In my case, I am re-learning the Python I briefly learned about 10 years ago--partly in anticipation of not having access to Matlab licenses once I vacate the academy--since I have forgotten a lot of the syntax. A lot of this stuff would be faster if I were working in Matlab which I grew more familiar with in graduate school.&lt;p&gt;Overall, &lt;i&gt;Visualize This&lt;/i&gt; is a really nice looking book and will continue to be useful to me as a reference. Yau concludes his book with a refreshing reminder to provide context for the data we present.  This advice is particularly relevant when presenting to a wider or lay audience, but it is still important for us, as scientists, to clearly communicate our findings in the literature.  Patterns in the data are not often self-evident, and therefore we should think carefully about which visualization tools will best convey the meaning of our results.&lt;p&gt;&lt;small&gt;Edited to add &lt;a href=&quot;http://book.flowingdata.com/&quot;&gt; a link to &lt;i&gt;Visualize This&lt;/i&gt;&lt;/a&gt; here and in the introductory paragraph.&lt;/small&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>FigShare Talk</title>
   <link href="http://schamberlain.github.com/2011/09/figshare-talk/"/>
   <updated>2011-09-08T21:36:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/figshare-talk</id>
   <content type="html">&lt;p&gt;FigShare - I very much like this idea of a place to put your data online that is NOT published. Dryad is a nice place for datastes linked with published papers, but there isn't really a place for datasets that perhaps did not make the cut for a published paper, and if known to the scientific community, could potentially help resolve the &quot;file-drawer&quot; effect in meta-analyses. (wow, run on sentence)&lt;br /&gt;&lt;br /&gt;&amp;nbsp;&lt;iframe frameborder=&quot;0&quot; height=&quot;225&quot; src=&quot;http://player.vimeo.com/video/26416313?title=0&amp;amp;byline=0&amp;amp;portrait=0&quot; width=&quot;400&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;a href=&quot;http://vimeo.com/26416313&quot;&gt;&quot;Figshare - Why don't you publish all your research?&quot; Mark Hahnel Imperial College London&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/biogeeks&quot;&gt;London Biogeeks&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com/&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jonathan Eisen on the Fourth Domain and Open Science</title>
   <link href="http://schamberlain.github.com/2011/09/jonathan-eisen-on-the-fourth-domain-and-open-science/"/>
   <updated>2011-09-06T16:53:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/09/jonathan-eisen-on-the-fourth-domain-and-open-science</id>
   <content type="html">&lt;iframe frameborder=&quot;0&quot; height=&quot;227&quot; src=&quot;http://player.vimeo.com/video/28444926?portrait=0&quot; width=&quot;400&quot;&gt;&lt;/iframe&gt;


&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://vimeo.com/28444926&quot;&gt;Stalking the Fourth Domain with Jonathan Eisen, Ph D&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/user8340111&quot;&gt;mendelspod&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com/&quot;&gt;Vimeo&lt;/a&gt;.

</content>
 </entry>
 
 <entry>
   <title>rnpn: An R interface for the National Phenology Network</title>
   <link href="http://schamberlain.github.com/2011/08/rnpn-r-interface-for-national-phenology/"/>
   <updated>2011-08-31T08:26:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/08/rnpn-r-interface-for-national-phenology</id>
   <content type="html">&lt;p&gt;The team at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; and I have been working on a wrapper for the &lt;a href=&quot;http://www.usanpn.org/&quot;&gt;USA National Phenology Network&lt;/a&gt; API. The following is a demo of some of the current possibilities. We will have more functions down the road. Get the publicly available code, and contribute, at Github &lt;a href=&quot;https://github.com/ropensci/rnpn&quot;&gt;here&lt;/a&gt;. If you try this out look at the &lt;a href=&quot;https://github.com/ropensci/rnpn/blob/master/DESCRIPTION&quot;&gt;Description file &lt;/a&gt;for the required R packages to run rnpn. Let us know at Github (&lt;a href=&quot;https://github.com/ropensci&quot;&gt;here&lt;/a&gt;) or at our website &amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;, or&amp;nbsp;in the comments below, or on twitter (@rOpenSci), what use cases you would like to see with the rnpn package.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;Method and demo of each&lt;/u&gt;&lt;/b&gt;:&lt;br /&gt;&lt;i&gt;&lt;b&gt;Get observations for species by day&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;From the documentation: &quot;&lt;/span&gt;&lt;/i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return a list of species, containing all the dates which observations were made about the species, and a count of the number of such observations made on that date.&lt;/span&gt;&lt;i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;&quot;&lt;/span&gt;&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-size: x-small;&quot;&gt;#### Note, the data below is truncated for blogging brevity...&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; getobsspbyday&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;'2008-01-01'&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;'2011-12-31'&lt;/span&gt;&lt;span style=&quot;color: #666666;&quot;&gt;) # Searched for species 1 and 2 from Jan 1, 2008 to Dec 31, 2011&lt;/span&gt;&lt;br /&gt;          &lt;a href=&quot;http://inside-r.org/r-doc/base/date&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;date&lt;/span&gt;&lt;/a&gt; count   species&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-08     &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;15&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;22&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;26&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;9&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;-07     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2010&lt;/span&gt;-01-&lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2010&lt;/span&gt;-01-&lt;span style=&quot;color: #cc66cc;&quot;&gt;23&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;62&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;29&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;63&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-06-&lt;span style=&quot;color: #cc66cc;&quot;&gt;27&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;64&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-06-&lt;span style=&quot;color: #cc66cc;&quot;&gt;30&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;65&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;66&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-03     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;67&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-05     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;68&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;69&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get individuals at specific stations&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;From the documentation: &quot;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function returns all of the individuals at a series of stations.&lt;/span&gt;&quot;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; getindsatstations&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;507&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;523&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666;&quot;&gt;# Searched for any individuals at stations 507 and 523&lt;/span&gt;&lt;br /&gt;   individual_id individual_name species_id kingdom&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1200&lt;/span&gt;         dogwood         &lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1197&lt;/span&gt;    purple lilac         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1193&lt;/span&gt;         white &lt;a href=&quot;http://inside-r.org/r-doc/base/t&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;t&lt;/span&gt;&lt;/a&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;38&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;3569&lt;/span&gt;     forsythia-&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;73&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1206&lt;/span&gt;            jack        &lt;span style=&quot;color: #cc66cc;&quot;&gt;150&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1199&lt;/span&gt;      trout lily        &lt;span style=&quot;color: #cc66cc;&quot;&gt;161&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1198&lt;/span&gt;           dandy        &lt;span style=&quot;color: #cc66cc;&quot;&gt;189&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1192&lt;/span&gt;           red &lt;a href=&quot;http://inside-r.org/r-doc/base/t&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;t&lt;/span&gt;&lt;/a&gt;        &lt;span style=&quot;color: #cc66cc;&quot;&gt;192&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;9&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1710&lt;/span&gt;    common lilac         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1711&lt;/span&gt;  common lilac &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1712&lt;/span&gt;       dandelion        &lt;span style=&quot;color: #cc66cc;&quot;&gt;189&lt;/span&gt; Plantae&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get individuals of species at stations&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;From the documentation:&amp;nbsp;&quot;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return a list of all the individuals, which are members of a species, among &amp;nbsp;any number of stations.&lt;/span&gt;&quot;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; getindspatstations&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;35&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;60&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;259&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  &lt;span style=&quot;color: #666666;&quot;&gt;# Search for individuals of species 35 at stations 60 and 259 in year 2009&lt;/span&gt;&lt;br /&gt;  individual_id individual_name number_observations&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1715&lt;/span&gt;            west                   &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1716&lt;/span&gt;            east                   &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get observation associated with particular observation&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;From the documentation:&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;&amp;nbsp;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return the comment associated with a particular observation.&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: monospace; white-space: pre;&quot;&gt;&amp;gt; getobscomm&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1938&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666;&quot;&gt;# The observation for observation number 1938&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;$observation_comment&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;some lower branches are bare&quot;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tenure track position in systematics at the University of Vermont</title>
   <link href="http://schamberlain.github.com/2011/08/tenure-track-position-in-systematics-at-the-university-of-vermont/"/>
   <updated>2011-08-22T13:24:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/08/tenure-track-position-in-systematics-at-the-university-of-vermont</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white; color: #4f4f4f; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 15px; line-height: 20px;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;center style=&quot;text-align: left;&quot;&gt;There is an awesome position opening up for an assistant professor in systematics at the University of Vermont. Below is the announcement, and see the &lt;a href=&quot;http://currentecology.blogspot.com/2011/08/tenure-track-position-in-systematics-at.html&quot;&gt;original post&lt;/a&gt; at the &lt;a href=&quot;http://currentecology.blogspot.com/&quot;&gt;Distributed Ecology blog&lt;/a&gt;. Why is this related to R? One can do a lot of systematics work in R, including retrieving scientific collections data through an upcoming package handshaking with &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt; (part of the &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; project), managing large data sets, retrieval of GenBank data through the ape package (see fxn read.genbank), phylogenetic reconstruction and analysis, and more. So I am sure a systematist with R ninja skills will surely have a head up on the rest of the field.&amp;nbsp;&lt;/center&gt;&lt;center style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/center&gt;&lt;center style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/center&gt;&lt;center&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/center&gt;&lt;center&gt;&lt;b&gt;Assistant Professor in Systematics&lt;/b&gt;&lt;/center&gt;&lt;br /&gt;&lt;br /&gt;Department of Biology&lt;br /&gt;University of Vermont&lt;br /&gt;Burlington, Vermont&lt;br /&gt;&lt;br /&gt;The Department of Biology of the University of Vermont seeks applications for a tenure- track Assistant Professor position in Systematics and Evolutionary Biology of arthropods, especially insects. The position will be open in the fall of 2012. The successful candidate will have expertise in classical and molecular systematics, including analysis of complex data sets. Candidates pursuing phylogenomics and innovative methods in bioinformatics in combination with taxonomy are especially encouraged to apply. Department information at:&lt;a href=&quot;http://www.uvm.edu/~biology/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;&amp;nbsp;http://www.uvm.edu/~biology/&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;All applicants are expected to: 1) hold a Ph.D. degree in relevant disciplines and have two or more years of postdoctoral experience; 2) develop a competitively funded research program; 3) teach undergraduate courses (chosen from among general biology, evolution, systematic entomology, and others in the candidate's expertise); 4) teach, mentor and advise undergraduate and graduate students; and 5) oversee a natural history collection of historic significance.&lt;br /&gt;&lt;br /&gt;Candidates must apply online:&lt;a href=&quot;http://www.uvmjobs.com/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;&amp;nbsp;http://www.uvmjobs.com/&lt;/a&gt;. On left see &quot;Search Postings&quot; then find &quot;Biology&quot; under &quot;HCM Department&quot; then posting 0040090 (first posting). Sorry, but we cannot supply the direct link because it will time out.&lt;br /&gt;&lt;br /&gt;Attach a cover letter with a statement of research focus and teaching interests (one document), a curriculum vitae, representative publications, and the contact information of three references.&lt;br /&gt;&lt;br /&gt;Review of applications will begin on September 15, 2011, and will continue until the position is filled. Questions and up to three additional publications may be directed to Dr. Jos. J. Schall: jschall@uvm.edu.&lt;br /&gt;&lt;br /&gt;The University of Vermont recently identified several &quot;Spires of Excellence&quot; in which it will strategically focus institutional investments and growth over the next several years. One spire associated with the position is Complex Systems. Candidates whose research interests align with this spire are especially encouraged to apply&lt;a href=&quot;http://www.uvm.edu/~tri/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;http://www.uvm.edu/~tri/&lt;/a&gt;.&lt;br /&gt;The University seeks faculty who can contribute to the diversity and excellence of the academic community through their research, teaching, and/or service. Applicants are requested to include in their cover letter information about how they will further this goal. The University of Vermont is an Affirmative Action/Equal Opportunity employer. The Department is committed to increasing faculty diversity and welcomes applications from women, underrepresented ethnic, racial and cultural groups, and from people with disabilities.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday at #ESA11</title>
   <link href="http://schamberlain.github.com/2011/08/thursday-at-esa11/"/>
   <updated>2011-08-12T06:11:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/08/thursday-at-esa11</id>
   <content type="html">&lt;p&gt;Interesting talks/posters:&lt;div&gt;&lt;br /&gt;Richard Lankau presented research on trade-offs and competitive ability. He suggests that during range expansion selection for increased intraspecific competitive ability in older populations leads to loss of traits for interspecific competitive traits due to trade-offs between these traits. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Ellner emphatically states that rapid evolution DOES matter for ecological responses, and longer-term evolutionary patterns as well. [His paper on the talk he was giving came out prior to his talk, which he pointed out, good form sir]&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Lauren Sullivan gave an interesting talk on bottom up and top down effects on plant reproduction in one site of a huge network of sites doing similar nutrient and herbivory manipulations around the globe - NutNet (go here: &lt;a href=&quot;http://nutnet.science.oregonstate.edu/&quot;&gt;http://nutnet.science.oregonstate.edu/&lt;/a&gt;). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Laura Prugh shows in California that the engineering effects (i.e., the mounds that they make) of giant kangaroo rats are more important for the associated food web than the species interaction effects (the proxy used was just density of rats). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Kristy Deiner suggests that chironomids are more phylogenetic similar in lakes with stocked fish relative to fishless lakes, in high elevation lakes in the Sierra Nevada. She used barcode data to generate her phylogeny of chironomids. If you have barcode data and want to search BOLD Systems site, one option is doing it from R using rbold, a package under development at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; (code at &lt;a href=&quot;https://github.com/SChamberlain/rbold&quot;&gt;Github&lt;/a&gt;). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Jessica Gurevitch presented a large working group's methods/approach to a set of reviews on invasion biology. We didn't get to see a lot of results from this work, but I personally was glad to see her explaining to a packed room the utility of meta-analysis, and comparing to the medical field in which meta-analysis is sort of the gold standard by which to draw conclusions. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Following Jessica, Jason Fridley told us about the Evolutionary Imbalance Hypothesis (EIH) (see my notes &lt;a href=&quot;http://schamber.wordpress.com/lab-notebook-2/&quot;&gt;here&lt;/a&gt;). He posed the problem of, when two biotas come together, what determines which species are retained in this new community and which species are left out. He listed a litany of traits/responses to measure to get at this problem, but suggested that with a little bit of &quot;desktop ecology&quot;, we could simply ask: Is the invasability of X region related to the phylogenetic diversity of that region? In three destination regions (Eastern Deciduous Forests, Mediterranean California, and the Czech Republic) out of four there was a positive relationship between proportion of invasive plant species in a source region and the phylogenetic diversity of the source regions. &lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday at #ESA11</title>
   <link href="http://schamberlain.github.com/2011/08/wednesday-at-esa11/"/>
   <updated>2011-08-11T06:50:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/08/wednesday-at-esa11</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;Interesting talks/posters:&lt;/span&gt;&lt;br /&gt;&lt;div&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;Ethan White's poster describing &lt;a href=&quot;http://ecologicaldata.org/&quot;&gt;EcologicalData.org&lt;/a&gt; was of course awesome given my interest in getting data into the hands of ecologists over at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci.org&lt;/a&gt;. Ethan also has software you can download on your machine to get the datasets you want easily - &lt;a href=&quot;http://ecologicaldata.org/ecodata-retriever&quot;&gt;EcoData Retriever&lt;/a&gt;. [rOpenSci will try to take advantage of their work and allow you to call the retriever from R]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;Carl Boettiger's talk was awesome. He explained how we need better tools to be able to predict collapses using early warning signals. He developed a way to estimate the statistical distribution of probabilities of system collapse.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;Jennifer Dunne: Explained how she put together an ancient network from Germany. Bravo.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;Carlos Melian explained his model of network buildup that starts from individuals, allows speciation, and other evolutionary processes.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white;&quot;&gt;Rachel Winfree told us that in two sets of mutualistic plant-pollinator networks in New Jersey and California, that the least connected pollinator species were the most likely to be lost from the network with increasing agricultural intensity.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, 'Times New Roman', serif;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white;&quot;&gt;Dan Cariveau suggests that pollination crop services can be stabilized even with increasing agriculture intensity if in fact pollinator species respond in different ways. That is, some pollinators may decrease in abundance with increasing ag intensity, while other species may increase - retaining overall pollination services to crops.&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday at #ESA11</title>
   <link href="http://schamberlain.github.com/2011/08/monday-at-esa11/"/>
   <updated>2011-08-08T20:17:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/08/monday-at-esa11</id>
   <content type="html">&lt;p&gt;Monday was a good day at ESA in Austin.&amp;nbsp;There were a few topics I promised to report on in my blogging/tweeting.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;...focused on open source data. &lt;a href=&quot;http://www.nceas.ucsb.edu/~strasser/Site/Home.html&quot;&gt;Carly Strasser's&lt;/a&gt; presentation on guidelines for data management was awesome (including other talks in the symposium on Creating Effective Data Management Plans for Ecological Research). Although this was a good session, I can't&amp;nbsp;help but wish that they had hammered home the need for open science more. Oh well. Also, they talked&amp;nbsp;a lot about how, and not a lot of why we should properly curate data. Still, a good session. One issue Carly and I talked about was tracking code in versioning systems such as &lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;. There doesn't seem to be a culture of versioning code for analyses/simulations in ecology. But when we get there...it will be easier to share/track/collaborate on &amp;nbsp;code.&lt;br /&gt;&lt;br /&gt;...used R software. &lt;a href=&quot;http://eco.confex.com/eco/2011/preliminaryprogram/abstract_31982.htm&quot;&gt;David Jennings&lt;/a&gt;&amp;nbsp;talked about a meta-analysis asking if phylogenetic distance influences competition strength in pairwise experiments. David used the metafor package in R to do his meta-analysis. Good form sir.&lt;br /&gt;&lt;br /&gt;...did cool science. &lt;a href=&quot;http://www.ecologicalevolution.org/people/former-lab-members/matthew-helmus/&quot;&gt;Matt Helmus &lt;/a&gt;presented a great talk on phylogenetic species area curves (likely using R, or Matlab maybe?).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;p.s. &lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;We&lt;/a&gt; launched &lt;a href=&quot;http://ropensci.org/2011/07/welcome-to-ropensci/&quot;&gt;rOpenSci&lt;/a&gt; today.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Oddities:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;The Tilman effect - Tilman's talk was so packed it looked like there was a line waiting to get into a trendy bar. &lt;a href=&quot;http://www.math.ualberta.ca/~ashander/images/til.jpg&quot;&gt;Here's a picture&lt;/a&gt;&amp;nbsp;(credit: Jaime Ashander). Bigger room next time anyone?&amp;nbsp;&lt;/li&gt;
&lt;li&gt;Wiley came out with an open source journal called &lt;a href=&quot;http://onlinelibrary.wiley.com/journal/10.1002/(ISSN)2045-7758&quot;&gt;Ecology and Evolution&lt;/a&gt;. This brings them to 3 open source journals (the other two are in other fields). We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) will attempt to hand-shake with these journals.&amp;nbsp; &lt;/li&gt;
&lt;li&gt;The vegetarian lunch option was surprisingly good. Nice.&amp;nbsp;&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>(#ESA11) rOpenSci: a collaborative effort to develop R-based tools for facilitating Open Science</title>
   <link href="http://schamberlain.github.com/2011/08/esa11-ropensci-collaborative-effort-to_08/"/>
   <updated>2011-08-08T08:06:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/08/esa11-ropensci-collaborative-effort-to_08</id>
   <content type="html">&lt;p&gt;Our&amp;nbsp;&lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;development team&lt;/a&gt;&amp;nbsp;would like to announce the launch of&amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;. As the title states, this project aims to create&amp;nbsp;&lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt;&amp;nbsp;&lt;a href=&quot;http://cran.r-project.org/web/packages/available_packages_by_name.html&quot;&gt;packages&lt;/a&gt;&amp;nbsp;to make open science more available to researchers.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;What this means is that we seek to connect researchers using R with as much open data as possible, mainly through APIs. There are a number of R packages that already do this (e.g.,&amp;nbsp;&lt;a href=&quot;http://cran.r-project.org/web/packages/infochimps/index.html&quot;&gt;infochimps&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://cran.r-project.org/web/packages/twitteR/index.html&quot;&gt;twitteR&lt;/a&gt;), but we are making more packages, e.g., for&amp;nbsp;&lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;Mendeley&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;https://github.com/SChamberlain/rplos&quot;&gt;PLoS Journals&lt;/a&gt;, and&amp;nbsp;&lt;a href=&quot;https://github.com/SChamberlain/taxize_&quot;&gt;taxonomic sources&lt;/a&gt;&amp;nbsp;(&lt;a href=&quot;http://www.itis.gov/&quot;&gt;ITIS&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://www.eol.org/&quot;&gt;EOL&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;TNRS&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://www.phylodiversity.net/phylomatic/&quot;&gt;Phylomatic&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://www.ubio.org/&quot;&gt;UBio&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;Importantly, we are creating a package called&amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, which aims to integrate functions from packages for individual open data sources.&lt;br /&gt;&lt;br /&gt;If you are somewhat interested, follow our progress on our&amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;website&lt;/a&gt;, on&amp;nbsp;&lt;a href=&quot;http://twitter.com/#!/rOpenSci&quot;&gt;Twitter&lt;/a&gt;, or&amp;nbsp;&lt;a href=&quot;http://ropensci.org/contact/&quot;&gt;contact us&lt;/a&gt;. If you are really&lt;sup&gt;2&lt;/sup&gt; interested you could go to&amp;nbsp;&lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;&amp;nbsp;and contribute. If &amp;nbsp;you are really&lt;sup&gt;3&lt;/sup&gt; interested,&amp;nbsp;&lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;join our development team&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Blogging/tweeting from #ESA11</title>
   <link href="http://schamberlain.github.com/2011/07/bloggingtweeting-from-esa11/"/>
   <updated>2011-07-31T12:46:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/07/bloggingtweeting-from-esa11</id>
   <content type="html">&lt;p&gt;I will be blogging about the upcoming Ecological Society of America meeting in Austin, TX. I will focus on discussing talks/posters that:&lt;br /&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;Have taken a cool approach to using data, or&lt;/li&gt;&lt;li&gt;Have focused on open science/data, or&lt;/li&gt;&lt;li&gt;Done&amp;nbsp;something cool with R software, or&lt;/li&gt;&lt;li&gt;Are just exciting in general&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I will also tweet throughout the meeting from @recology_ (yes the underscore is part of the name, recology was already taken).&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The hashtag for the meeting this year is #ESA11&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Models in Evolutionary Ecology seminar, organized by Timothee Poisot</title>
   <link href="http://schamberlain.github.com/2011/07/models-in-evolutionary-ecology-seminar-organized-by-timothee-poisot/"/>
   <updated>2011-07-18T05:27:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/07/models-in-evolutionary-ecology-seminar-organized-by-timothee-poisot</id>
   <content type="html">&lt;p&gt;Here is one of the talks by Thomas Brouquet, and see the rest &lt;a href=&quot;http://www.dailymotion.com/playlist/x1mv7l_mez_en_video_cefe-colloque#videoId=xjylea&quot;&gt;here&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;iframe frameborder=&quot;0&quot; height=&quot;270&quot; src=&quot;http://www.dailymotion.com/embed/video/xjylea&quot; width=&quot;480&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;a href=&quot;http://www.dailymotion.com/video/xjylea_thomas-broquet_tech&quot; target=&quot;_blank&quot;&gt;Thomas Broquet&lt;/a&gt; &lt;i&gt;by &lt;a href=&quot;http://www.dailymotion.com/mez_en_video&quot; target=&quot;_blank&quot;&gt;mez_en_video&lt;/a&gt;&lt;/i&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Archiving ecology/evolution data sets online</title>
   <link href="http://schamberlain.github.com/2011/07/archiving-ecologyevolution-data-sets/"/>
   <updated>2011-07-15T19:02:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/07/archiving-ecologyevolution-data-sets</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;/span&gt;&lt;br /&gt;We now have many options for archiving data sets online:&lt;br /&gt;&lt;br /&gt;&lt;a data-mce-href=&quot;http://datadryad.org/&quot; href=&quot;http://datadryad.org/&quot; target=&quot;_blank&quot;&gt;Dryad&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://knb.ecoinformatics.org/index.jsp&quot; href=&quot;http://knb.ecoinformatics.org/index.jsp&quot; target=&quot;_blank&quot;&gt;KNB&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://www.esapubs.org/archive/&quot; href=&quot;http://www.esapubs.org/archive/&quot; target=&quot;_blank&quot;&gt;Ecological Archives&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://www.esapubs.org/archive/archive_D.htm&quot; href=&quot;http://www.esapubs.org/archive/archive_D.htm&quot; target=&quot;_blank&quot;&gt;Ecology Data Papers&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://ecologicaldata.org/&quot; href=&quot;http://ecologicaldata.org/&quot; target=&quot;_blank&quot;&gt;Ecological Data&lt;/a&gt;, etc.&lt;br /&gt;&lt;br /&gt;However, these portals largely do not communicate with one another as far as I know, and there is no way to search over all data set sources, again, as far as I know. So, I wonder if it would ease finding of all these&amp;nbsp;different data sets to get these different sites to get their data sets cloned on a site like Infochimps, or have links from Infochimps. &amp;nbsp;Infochimps already has APIs (and there's an R wrapper for the Infochimps API already set up here: http://cran.r-project.org/web/packages/infochimps/index.html by Drew Conway), and they have discussions set up there, etc.&lt;br /&gt;&lt;br /&gt;Does it make sense to post data sets linked to published works on Infochimps? I think probably not know that I think about it. But perhaps it makes sense for other data sets, or subsets of data sets that are not linked with published works to be posted there as I know at least Dryad only accepts data sets linked with published papers.&lt;br /&gt;&lt;br /&gt;One use case is there was a tweet from someone recently that his students were excited about getting their data sets on their resume/CV, but didn't think there was a way to put them any place where there wasn't a precondition that the data set was linked with a published work. Seems like this&amp;nbsp;could be a good opportunity to place these datasets on Infcohimps, and at least they are available then where a lot of people are searching for data sets, etc.&lt;br /&gt;&lt;br /&gt;What I think would be ideal is if Dryad, KNB, etc. could link their datasets to Infochimps, where they could be found, then users can either get them from Infochimps, or perhaps you would have to go to the Dryad site, e.g. But at least you could search over all ecological data sets then.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>CRdata vs. Cloudnumbers</title>
   <link href="http://schamberlain.github.com/2011/07/crdata-vs-cloudnumbers/"/>
   <updated>2011-07-14T06:31:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/07/crdata-vs-cloudnumbers</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.cloudnumbers.com/&quot;&gt;Cloudnumbers&lt;/a&gt; and &lt;a href=&quot;http://crdata.org/&quot;&gt;CRdata&lt;/a&gt; are two new cloud computing services.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I tested the two services with a very simple script. The script simply creates a dataframe of 10000 numbers via rnorm, and assigns them to a factor of one of two levels (a or b). I then take the mean of the two factor levels with the aggregate function.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In CRdata you need to put in some extra code to format the output in a browser window. For example, the last line below needs to have '&amp;lt;crdata_object&amp;gt;' on both sides of the output object so it can be rendered in a browser. And etc. for other things that one would print to a console. Whereas you don't need this extra code for using Cloudnumbers.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;dat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;n = &lt;a href=&quot;http://inside-r.org/r-doc/stats/rnorm&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rnorm&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10000&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; p = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;'a'&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;'b'&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each=&lt;span style=&quot;color: #cc66cc;&quot;&gt;5000&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;out &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/aggregate&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;aggregate&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;n ~ p&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = dat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#&amp;lt;crdata_object&amp;gt;out&amp;lt;/crdata_object&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;Here is a screenshot of the output from CRdata with the simple script above.&lt;br /&gt;&lt;img height=&quot;208&quot; src=&quot;http://f.cl.ly/items/1D090q2N0Y3a410W262V/Screen%20shot%202011-07-14%20at%208.04.33%20AM.png&quot; width=&quot;400&quot; /&gt;&lt;br /&gt;This simple script ran in about 20 seconds or so from starting the job to finishing. However, it seems like the only output option is html. Can this be right? This seems like a terrible only option.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In Cloudnumbers you have to start a workspace, upload your R code file.&lt;br /&gt;Then, start a session...&lt;br /&gt;choose your software platform...&lt;br /&gt;choose packages (one at a time, very slow)...&lt;br /&gt;then choose number of clusters, etc.&lt;br /&gt;Then finally star the job.&lt;br /&gt;Then it initializes, then finally you can open the console, and&lt;br /&gt;Then from here it is like running R as you normally would, except on the web.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Who wins (at least for our very minimal example above)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;Speed of entire process (not just running code): CRdata&lt;/li&gt;&lt;li&gt;Ease of use: CRdata&lt;/li&gt;&lt;li&gt;Cost: CRdata (free only)&lt;/li&gt;&lt;li&gt;Least annoying: Cloudnumbers (you don't have to add in extra code to run your own code)&lt;/li&gt;&lt;li&gt;Opensource: CRdata (you can use publicly available code on the site)&lt;/li&gt;&lt;li&gt;Long-term use: Cloudnumbers (more powerful, flexible, etc.)&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I imagine Cloudnumbers could be faster for larger jobs, but you would have to pay for the speed of course.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;What I really want to see is a cloud computing service that accepts code directly run from R or RStudio. Hmmm...that would be so tasty indeed. I think&lt;a href=&quot;http://cloudnumbers.zendesk.com/entries/20199198-using-an-external-terminal-ssh-console&quot;&gt; Cloudnumbers may be able to do this&lt;/a&gt;, but haven't tested it yet.&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Perhaps using the server version of RStudio along with Amazon's EC2 is a better option than both of these. See Karthik Ram's &lt;a href=&quot;http://inundata.org/2011/03/30/r-ec2-rstudio-server/&quot;&gt;post&lt;/a&gt; about using RStudio server along with Amazon's EC2. Even just running RStudio server on your Unbuntu machine or virtual machine is a pretty cool option, even without EC2 (works like a charm on my Parallels Ubuntu vm on my Mac).&amp;nbsp;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rbold: An R Interface for Bold Systems barcode repository</title>
   <link href="http://schamberlain.github.com/2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository/"/>
   <updated>2011-06-28T07:27:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository</id>
   <content type="html">&lt;p&gt;Have you ever wanted to &lt;a href=&quot;http://services.boldsystems.org/index.php?page=1_esearch&amp;amp;status=&quot;&gt;search&lt;/a&gt; and &lt;a href=&quot;http://services.boldsystems.org/index.php?page=2_efetch&amp;amp;status=&quot;&gt;fetch&lt;/a&gt; barcode data from &lt;a href=&quot;http://www.boldsystems.org/views/login.php&quot;&gt;Bold Systems&lt;/a&gt;?&lt;br /&gt;&lt;br /&gt;I am developing functions to interface with Bold from R. I just started, but hopefully folks will find it useful.&lt;br /&gt;&lt;br /&gt;The code is at Github &lt;a href=&quot;https://github.com/ropensci/rbold&quot;&gt;here&lt;/a&gt;. The two functions are still very buggy, so please bring up issues below, or in the Issues area on Github. For example, some searches work and other similar searches don't. Apologies in advance for the bugs.&lt;br /&gt;&lt;br /&gt;Below is a screenshot of an example query using function getsampleids to get barcode identifiers for specimens. You can then use getseqs function to grab barcode data for specific specimens or many specimens.&lt;br /&gt;&lt;img alt=&quot;Screen shot 2011-06-28 at 9.24.00 AM.png&quot; height=&quot;267&quot; src=&quot;http://cl.ly/1V1y1Q1A0t062F2y2308/Screen_shot_2011-06-28_at_9.24.00_AM.png&quot; width=&quot;400&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iEvoBio 2011 Synopsis</title>
   <link href="http://schamberlain.github.com/2011/06/ievobio-2011-synopsis/"/>
   <updated>2011-06-22T19:38:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/ievobio-2011-synopsis</id>
   <content type="html">&lt;p&gt;We just wrapped up the &lt;a href=&quot;http://ievobio.org/&quot;&gt;2011 iEvoBio meeting&lt;/a&gt;. It was awesome! If you didn't go this year or last year, definitely think about going next year.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Here is a list of the cool projects that were discussed at the meeting (apologies if I left some out):&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;http://vistrails.org/index.php/Main_Page&quot;&gt;Vistrails&lt;/a&gt;: workflow tool, awesome project by Claudio Silva&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.commplish.com/&quot;&gt;Commplish&lt;/a&gt;: purpose is to use via API's, not with the web UI&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://phylopic.org/&quot;&gt;Phylopic&lt;/a&gt;: a database of life-form silouhettes, including an API for remote access, sweet!&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://gloome.tau.ac.il/&quot;&gt;Gloome&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.mappinglife.org/&quot;&gt;MappingLife&lt;/a&gt;: awesome geographic/etc data visualization interace on the web&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://bioinfolab.unl.edu/~canderson/SuiteMSA/&quot;&gt;SuiteSMA&lt;/a&gt;: visualizating multiple alignments&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;treeBASE&lt;/a&gt;: R interface to treebase, by &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;: database for vertebrate natural history collections&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/projects/revbayes/&quot;&gt;RevBayes&lt;/a&gt;: revamp of MrBayes, with GUI, etc.&amp;nbsp;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.phenoscape.org/wiki/Main_Page&quot;&gt;Phenoscape Knowledge Base&lt;/a&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Peter Midford lightning talk: talked about matching taxonomic and genetic data&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;a href=&quot;http://biscicol.blogspot.com/p/biscicol-prototype.html&quot;&gt;BiSciCol&lt;/a&gt;: biological science collections tracker&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.ontogrator.org/&quot;&gt;Ontogrator&lt;/a&gt;&amp;nbsp;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;TNRS&lt;/a&gt;: taxonomic name resolution service&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.boldsystems.org/views/login.php&quot;&gt;Barcode of Life data systems&lt;/a&gt;, and &lt;a href=&quot;http://services.boldsystems.org/&quot;&gt;remote access&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.mooreabiocode.org/about&quot;&gt;Moorea Biocode Project&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://amarallab.mbl.edu/mirada/mirada.html&quot;&gt;Microbial LTER's data&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://birdvis.org/&quot;&gt;BirdVis&lt;/a&gt;: interactive bird data visualization (Claudio Silva&amp;nbsp;in collaboration with Cornell Lab of Ornithology)&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.crowdlabs.org/&quot;&gt;Crowdlabs&lt;/a&gt;: I think the site is down right now, another project by Claudio Silva&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://hydrodictyon.eeb.uconn.edu/projects/phycas/index.php/Phycas_Home&quot;&gt;Phycas&lt;/a&gt;: Bayesian phylogenetics, can you just call this from R?&lt;/li&gt;&lt;li&gt;RIP MrBayes!!!! replaced by RevBayes (see 9 above)&lt;/li&gt;&lt;li&gt;Slides of presentations will be at&amp;nbsp;&lt;a href=&quot;http://www.slideshare.net/event/ievobio11&quot;&gt;Slideshare&lt;/a&gt; (not all presentations up yet) &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/li&gt;&lt;li&gt;A birds of a feather group I was involved in proposed an idea (TOL-o-matic) like Phylomatic, but of broader scope, for easy access and submission of trees, and perhaps even social (think just pushing a 'SHARE' button within PAUP, RevBayes, or other phylogenetics software)!&amp;nbsp;&lt;/li&gt;&lt;li&gt;Synopses of Birds of a Feather discussion groups:&amp;nbsp;&lt;a href=&quot;http://piratepad.net/iEvoBio11-BoF-reportouts&quot;&gt;http://piratepad.net/iEvoBio11-BoF-reportouts&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>PLoS journals API from R: "rplos"</title>
   <link href="http://schamberlain.github.com/2011/06/plos-journals-api-from-r-rplos-/"/>
   <updated>2011-06-21T06:30:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/plos-journals-api-from-r-rplos-</id>
   <content type="html">&lt;p&gt;The Public Libraries of Science (PLOS) has an API so&amp;nbsp;that developers can create cool tools to access their data (including full text papers!!).&lt;br /&gt;&lt;br /&gt;Carl Boettiger at UC Davis and I are working on R functions that use the PLoS API. See our code on Github &lt;a href=&quot;https://github.com/ropensci/rplos&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: red;&quot;&gt;here&lt;/span&gt;&lt;/a&gt;. See the wiki at the Github page for examples of use. We hope to deploy rplos as a package someday soon. Please feel free to suggest changes/additions rplos in the comments below or on the Github/rplos site.&lt;br /&gt;&lt;br /&gt;Get your own API key &lt;a href=&quot;http://api.plos.org/&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: red;&quot;&gt;here&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ggplot2 talk by Hadley Whickam at Google</title>
   <link href="http://schamberlain.github.com/2011/06/ggplot2-talk-by-hadley-whickam-at-google/"/>
   <updated>2011-06-17T09:40:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/ggplot2-talk-by-hadley-whickam-at-google</id>
   <content type="html">&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;349&quot; src=&quot;http://www.youtube.com/embed/TaxJwC_MP9Q&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;

</content>
 </entry>
 
 <entry>
   <title>OpenStates from R via API: watch your elected representatives</title>
   <link href="http://schamberlain.github.com/2011/06/openstates-from-r-via-api-watch-your-elected-representatives/"/>
   <updated>2011-06-10T21:19:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/openstates-from-r-via-api-watch-your-elected-representatives</id>
   <content type="html">&lt;p&gt;I am writing some functions to acquire data from the &lt;a href=&quot;http://openstates.sunlightlabs.com/&quot;&gt;OpenStates project,&lt;/a&gt;&amp;nbsp;via &lt;a href=&quot;http://openstates.sunlightlabs.com/api/&quot;&gt;their API&lt;/a&gt;. They have &lt;a href=&quot;http://groups.google.com/group/fifty-state-project&quot;&gt;a great support community&lt;/a&gt; at Google Groups as well.&lt;br /&gt;&lt;br /&gt;On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.&lt;br /&gt;&lt;br /&gt;Code &lt;a href=&quot;https://SChamberlain@github.com/SChamberlain/ropstates.git&quot;&gt;I am developing is over at Github&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Here is an example of its use in R, in this case using the Bill Search option (billsearch.R on my Github site), and in this case you do not provide your API key in the function call, but instead put it in your .Rprofile file, which is called when you open R. We are searching here for the term 'agriculture' in Texas ('tx'), in the 'upper' chamber.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; temp &amp;lt;- billsearch&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;'agriculture'&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/datasets/state&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;state&lt;/span&gt;&lt;/a&gt; = &lt;span style=&quot;color: blue;&quot;&gt;'tx'&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; chamber = &lt;span style=&quot;color: blue;&quot;&gt;'upper'&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;temp&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;21&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;gt; temp&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;$title&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;Congratulating John C. Padalino of El Paso for being appointed to the United States Department of Agriculture.&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$created_at&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;2010-08-11 07:59:46&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$updated_at&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;2010-09-02 03:34:39&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$chamber&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;upper&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$state&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;tx&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$session&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;81&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$type&lt;br /&gt;$type&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;resolution&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$subjects&lt;br /&gt;$subjects&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;Resolutions&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$subjects&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;Other&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$bill_id&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;SR 1042&quot;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Apparently, the first bill (SR 2042, see $bill_id at the bottom of the list output) that came up was to congratulate John Paladino for being appointed to the USDA.&lt;br /&gt;&lt;br /&gt;The other function I have ready is getting basic metadata on a state, called statemetasearch.&lt;br /&gt;&lt;br /&gt;I plan to develop more functions for all the possible API calls to the OpenStates project.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Just turned on 'mobile template' for this blog, let me know if it works</title>
   <link href="http://schamberlain.github.com/2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works/"/>
   <updated>2011-06-09T10:50:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works</id>
   <content type="html">&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;161&quot; src=&quot;http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>> 10,000 visits to Recology!!!!</title>
   <link href="http://schamberlain.github.com/2011/06/10000-visits-to-my-recology/"/>
   <updated>2011-06-09T10:09:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/10000-visits-to-my-recology</id>
   <content type="html">&lt;p&gt;Thanks so much everyone for stopping by!&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;337&quot; src=&quot;http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to fit power laws</title>
   <link href="http://schamberlain.github.com/2011/06/how-to-fit-power-laws/"/>
   <updated>2011-06-07T13:24:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/how-to-fit-power-laws</id>
   <content type="html">&lt;p&gt;A new paper out in Ecology by Xiao and colleagues (in press, &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0538.1&quot;&gt;here&lt;/a&gt;) compares the use of log-transformation to non-linear regression for analyzing power-laws.&lt;br /&gt;&lt;br /&gt;They suggest that the error distribution should determine which method performs better. When your errors are additive, homoscedastic, and normally distributed, they propose using non-linear regression. When errors are multiplicative, heteroscedastic, and lognormally distributed, they suggest using linear regression on log-transformed data. The assumptions about these two methods are different, so cannot be correct for a single dataset.&lt;br /&gt;&lt;br /&gt;They will provide their R code for their methods once they are up on Ecological Archives (they weren't up there by the time of this post).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>searching ITIS and fetching Phylomatic trees</title>
   <link href="http://schamberlain.github.com/2011/06/searching-itis-and-fetching-phylomatic-trees/"/>
   <updated>2011-06-03T15:35:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/06/searching-itis-and-fetching-phylomatic-trees</id>
   <content type="html">&lt;p&gt;I am writing a set of functions to search&amp;nbsp;ITIS for taxonomic information (more databases to come) and functions to fetch plant phylogenetic trees from Phylomatic. &lt;a href=&quot;https://github.com/SChamberlain/taxize_&quot;&gt;Code at github&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Also, see the examples in the demos folder on the Github site above.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1007288.js?file=taxize_example.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-rcw5OIf3Hak/Telhj896L0I/AAAAAAAAEh4/p6GhpNRW6IA/s1600/examplephylogenyplot.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;http://1.bp.blogspot.com/-rcw5OIf3Hak/Telhj896L0I/AAAAAAAAEh4/p6GhpNRW6IA/s400/examplephylogenyplot.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>phylogenetic signal simulations</title>
   <link href="http://schamberlain.github.com/2011/05/phylogenetic-signal-simulations/"/>
   <updated>2011-05-18T06:13:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/phylogenetic-signal-simulations</id>
   <content type="html">&lt;p&gt;I did a little simulation to examine how K and lambda vary in response to tree size (and how they compare to each other on the same simulated trees). I use Liam Revell's functions fastBM to generate traits, and phylosig to measure phylogenetic signal.&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;


&lt;p&gt;Two observations:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;First, it seems that lambda is more sensitive than K to tree size, but then lambda levels out at about 40 species, whereas K continues to vary around a mean of 1.&lt;/li&gt;
&lt;li&gt;Second, K is more variable than lambda at all levels of tree size (compare standard error bars).&lt;/li&gt;
&lt;/ul&gt;


&lt;br /&gt;&lt;br /&gt;


&lt;p&gt;Does this make sense to those smart folks out there?&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;




&lt;script src=&quot;https://gist.github.com/977999.js?file=phylogeneticsignal_sim.R&quot;&gt;&lt;/script&gt;


&lt;br /&gt;




&lt;br /&gt;&lt;br /&gt;


&lt;p&gt;&lt;img src=&quot;http://4.bp.blogspot.com/-hY0LQNsBzWc/TdNOJFMZzkI/AAAAAAAAEcg/SYeSCgUfyOY/s400/physig_sim.jpeg&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A simple function for plotting phylogenies in ggplot2</title>
   <link href="http://schamberlain.github.com/2011/05/simple-function-for-plotting/"/>
   <updated>2011-05-17T12:37:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/simple-function-for-plotting</id>
   <content type="html">&lt;p&gt;UPDATE: Greg jordan has a much more elegant way of plotting trees with ggplot2. See his links in the comments below.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I wrote a simple function for plotting a phylogeny in ggplot2. However, it only handles a 3 species tree right now, as I haven't figured out how to generalize the approach to N species.&lt;br /&gt;&lt;br /&gt;Any ideas on how to improve this?&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/977207.js?file=ggtree_v1.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>plyr's idata.frame VS. data.frame</title>
   <link href="http://schamberlain.github.com/2011/05/plyrs-idataframe-vs-dataframe/"/>
   <updated>2011-05-13T13:16:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/plyrs-idataframe-vs-dataframe</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;I had seen the function idata.frame in plyr before, but not really tested it. From the plyr documentation:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;&quot;An immutable data frame works like an ordinary data frame, except that when you subset it, it returns a reference to the original data frame, not a a copy. This makes subsetting substantially faster and has a big impact when you are working with large datasets with many groups.&quot;&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For example, although baseball is a data.frame, its immutable counterpart is a reference to it:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; idata.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;environment: &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;x1022c74e8&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
attr&lt;span class=&quot;p&quot;&gt;(,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;class&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;idf&amp;quot;&lt;/span&gt;         &lt;span class=&quot;s&quot;&gt;&amp;quot;environment&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Here are a few comparisons of operations on normal data frames and immutable data frames. Immutable data frames don't work with the doBy package, but do work with aggregate in base functions. &amp;nbsp;Overall, the speed gains using idata.frame are quite impressive - I will use it more often for sure.&lt;/p&gt;

&lt;p&gt;Here's the comparisons of idata.frames and data.frames:&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# load packages&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make immutable data frame&lt;/span&gt;
baseball_i &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; idata.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Example 1 - idata.frame more than twice as fast&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  8.509   0.266   8.798 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  7.233   0.025   7.334 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Example 2 - Bummer, this does not work with idata.frame's&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;colwise&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;max&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; is.numeric&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# works&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;  year stint   g  ab   r   h X2b X3b hr rbi sb cs  bb so ibb hbp sh sf
1 2007     4 165 705 177 257  64  28 73  NA NA NA 232 NA  NA  NA NA NA
  gidp
1   NA
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;colwise&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;max&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; is.numeric&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# doesn&amp;#39;t work&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Error: is.data.frame(df) is not TRUE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Example 3 - idata.frame twice as fast&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;year &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1884&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  1.329   0.035   1.378 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball_i&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;year &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1884&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  0.674   0.015   0.689 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Example 4 - idata.frame faster&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  7.129   0.506   7.691 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  0.852   0.162   1.015 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;And you can go back to a data frame by&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
str&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;&amp;#39;data.frame&amp;#39;: 21699 obs. of  22 variables:
 $ id   : chr  &amp;quot;ansonca01&amp;quot; &amp;quot;forceda01&amp;quot; &amp;quot;mathebo01&amp;quot; &amp;quot;startjo01&amp;quot; ...
 $ year : int  1871 1871 1871 1871 1871 1871 1871 1872 1872 1872 ...
 $ stint: int  1 1 1 1 1 1 1 1 1 1 ...
 $ team : chr  &amp;quot;RC1&amp;quot; &amp;quot;WS3&amp;quot; &amp;quot;FW1&amp;quot; &amp;quot;NY2&amp;quot; ...
 $ lg   : chr  &amp;quot;&amp;quot; &amp;quot;&amp;quot; &amp;quot;&amp;quot; &amp;quot;&amp;quot; ...
 $ g    : int  25 32 19 33 29 29 29 46 37 25 ...
 $ ab   : int  120 162 89 161 128 146 145 217 174 130 ...
 $ r    : int  29 45 15 35 35 40 36 60 26 40 ...
 $ h    : int  39 45 24 58 45 47 37 90 46 53 ...
 $ X2b  : int  11 9 3 5 3 6 5 10 3 11 ...
 $ X3b  : int  3 4 1 1 7 5 7 7 0 0 ...
 $ hr   : int  0 0 0 1 3 1 2 0 0 0 ...
 $ rbi  : int  16 29 10 34 23 21 23 50 15 16 ...
 $ sb   : int  6 8 2 4 3 2 2 6 0 2 ...
 $ cs   : int  2 0 1 2 1 2 2 6 1 2 ...
 $ bb   : int  2 4 2 3 1 4 9 16 1 1 ...
 $ so   : int  1 0 0 0 0 1 1 3 1 0 ...
 $ ibb  : int  NA NA NA NA NA NA NA NA NA NA ...
 $ hbp  : int  NA NA NA NA NA NA NA NA NA NA ...
 $ sh   : int  NA NA NA NA NA NA NA NA NA NA ...
 $ sf   : int  NA NA NA NA NA NA NA NA NA NA ...
 $ gidp : int  NA NA NA NA NA NA NA NA NA NA ...
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;idata.frame doesn't work with the doBy package&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doBy&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
summaryBy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi ~ year&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mean&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; na.rm &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k-Variable&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;Error: cannot coerce type &amp;#39;environment&amp;#39; to vector of type &amp;#39;any&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;But idata.frame works with aggregate in base (but with minimal speed gains) and aggregate is faster than ddply&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aggregate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi ~ year&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  4.998   0.346   5.373 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aggregate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi ~ year&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
  4.745   0.283   5.045 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;system.time&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;replicate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text&quot;&gt;   user  system elapsed 
 13.293   0.042  13.428 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;



</content>
 </entry>
 
 <entry>
   <title>google reader</title>
   <link href="http://schamberlain.github.com/2011/05/google-reader/"/>
   <updated>2011-05-12T11:10:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/google-reader</id>
   <content type="html">&lt;p&gt;I just realized that the gists code blocks don't show up in Google Reader, so you have to click the link to my blog to see the gists. Apologies for that!&lt;br /&gt;&lt;br /&gt;-S&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Comparison of functions for comparative phylogenetics</title>
   <link href="http://schamberlain.github.com/2011/05/comparison-of-functions-for-comparative-phylogenetics/"/>
   <updated>2011-05-11T08:08:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/comparison-of-functions-for-comparative-phylogenetics</id>
   <content type="html">&lt;p&gt;With all the packages (and beta stage groups of functions) for comparative phylogenetics in R (tested here: picante, geiger, ape, motmot, Liam Revell's functions), I was simply interested in which functions to use in cases where multiple functions exist to do the same thing. I only show default settings, so perhaps these functions would differ under different parameter settings. &amp;nbsp;[I am using a Mac 2.4 GHz i5, 4GB RAM]&lt;br /&gt;&lt;br /&gt;Get motmot here:&amp;nbsp;&lt;a href=&quot;https://r-forge.r-project.org/R/?group_id=782&quot;&gt;https://r-forge.r-project.org/R/?group_id=782&lt;/a&gt;&lt;br /&gt;Get Liam Revell's functions here:&amp;nbsp;&lt;a href=&quot;http://anolis.oeb.harvard.edu/~liam/R-phylogenetics/&quot;&gt;http://anolis.oeb.harvard.edu/~liam/R-phylogenetics/&lt;/a&gt;&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;




&lt;script src=&quot;https://gist.github.com/3600585.js?file=comparfxn.r&quot;&gt;&lt;/script&gt;




&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;


&lt;p&gt;It's hard to pick an overall winner because not all functions are available in all packages, but there are definitely some functions that are faster than others.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>RHIPE package in R for interfacing between Hadoop and R</title>
   <link href="http://schamberlain.github.com/2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r/"/>
   <updated>2011-05-04T17:11:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r</id>
   <content type="html">&lt;div&gt;&lt;strong&gt;&lt;a href=&quot;http://www.lecturemaker.com/2011/02/rhipe/#video&quot; title=&quot;Click link to go to the video page&quot;&gt;RHIPE: An Interface Between Hadoop and R&lt;/a&gt;&lt;/strong&gt;&lt;br /&gt;Presented by Saptarshi Guha&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;http://www.lecturemaker.com/2011/02/rhipe/#video&quot;&gt;&lt;img alt=&quot;Video Link&quot; border=&quot;0&quot; height=&quot;169&quot; src=&quot;http://www.lecturemaker.com/lectures/RMeetUp2010/RHIPE_Lecture.jpg&quot; title=&quot;Click image to go to the video page&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;          &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;And &lt;a href=&quot;http://blog.piccolboni.info/2011/04/looking-for-map-reduce-language.html&quot;&gt;this review&lt;/a&gt; of methods for interfacing with Hadoop suggests R's RHIPE is quite nice.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Treebase trees from R</title>
   <link href="http://schamberlain.github.com/2011/05/treebase-trees-from-r/"/>
   <updated>2011-05-03T08:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/05/treebase-trees-from-r</id>
   <content type="html">&lt;p&gt;UPDATE: See Carl Boettiger's functions/package at Github for searching Treebase &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;


&lt;p&gt;Treebase is a great resource for phylogenetic trees, and has a nice interface for searching for certain types of trees. However, if you want to simply download a lot of trees for analyses (like that in &lt;a href=&quot;http://biology.mcgill.ca/faculty/davies/pdfs/Davies_etal_Evolution_2011.pdf&quot;&gt;Davies et al.&lt;/a&gt;), then you want to be able to access trees in bulk (I believe Treebase folks are working on an API though). I wrote some simple code for extracting trees from &lt;a href=&quot;http://treebase.org/&quot;&gt;Treebase.org&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;It reads an xml file of (in this case consensus) URL's for each tree, parses the xml, makes a vector of URL's, reads the nexus files with error checking, remove trees that gave errors, then a simple plot looking at metrics of the trees.&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;


&lt;p&gt;Is there an easier way to do this?&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;




&lt;script src=&quot;https://gist.github.com/953468.js?file=treebase_code.R&quot;&gt;&lt;/script&gt;




&lt;br /&gt;


&lt;p&gt;&lt;img src=&quot;http://2.bp.blogspot.com/-AaMexPVCreo/TcAW171ZBaI/AAAAAAAAEbc/bDafe7YgGcw/s320/sampetreebaseplot.png&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Processing nested lists</title>
   <link href="http://schamberlain.github.com/2011/04/processing-nested-lists/"/>
   <updated>2011-04-28T15:41:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/04/processing-nested-lists</id>
   <content type="html">&lt;p&gt;So perhaps you have all figured this out already, but I was excited to figure out how to finally neatly get all the data frames, lists, vectors, etc. out of a nested list. It is as easy as nesting calls to the apply family of functions, in the case below, using plyr's apply like functions. Take this example:&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# Nested lists code, an example&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# Make a nested list&lt;/span&gt;&lt;br /&gt;mylist &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/list&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;list&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;mylist&lt;em&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/list&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;list&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;i &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;font-family: monospace;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt; &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;j &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;font-family: monospace;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  mylist&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;j&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; i&lt;span style=&quot;font-family: monospace;&quot;&gt;*&lt;/span&gt;j&lt;br /&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;mylist&lt;/em&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;i&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; mylist&lt;br /&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# return values from first part of list&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;mylist&lt;em&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/identity&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;identity&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;[1] 1 2 3 4 5&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# return all values&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;mylist&lt;/em&gt;&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/identity&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;identity&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;     1  2  3  4  5&lt;br /&gt;[1,] 1  2  3  4  5&lt;br /&gt;[2,] 2  4  6  8 10&lt;br /&gt;[3,] 3  6  9 12 15&lt;br /&gt;[4,] 4  8 12 16 20&lt;br /&gt;[5,] 5 10 15 20 25&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# perform some function, in this case sqrt of each value&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;mylist_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; laply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/sqrt&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #009900;&quot;&gt;  &lt;/span&gt;&lt;br /&gt;        1        2        3        4        5&lt;br /&gt;[1,] 1.000000 1.414214 1.732051 2.000000 2.236068&lt;br /&gt;[2,] 1.414214 2.000000 2.449490 2.828427 3.162278&lt;br /&gt;[3,] 1.732051 2.449490 3.000000 3.464102 3.872983&lt;br /&gt;[4,] 2.000000 2.828427 3.464102 4.000000 4.472136&lt;br /&gt;[5,] 2.236068 3.162278 3.872983 4.472136 5.000000&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Running Phylip's contrast application for trait pairs from R</title>
   <link href="http://schamberlain.github.com/2011/04/running-phylip-s-contrast-application-for-trait-pairs-from-r/"/>
   <updated>2011-04-26T05:40:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/04/running-phylip-s-contrast-application-for-trait-pairs-from-r</id>
   <content type="html">&lt;p&gt;Here is some code to run Phylip's contrast application from R and get the output within R to easily manipulate yourself. Importantly, the code is written specifically for trait pairs only as the regular expression work in the code specifically grabs data from contast results when only two traits are input. You could easily change the code to do N traits. Note that the p-value calculated for the chi-square statistic is not output from contrast, but is calculated within the function 'PhylipWithinSpContr'. In the code below there are two functions that make&amp;nbsp;a lot of busy work easier: 'WritePhylip' and&amp;nbsp;'PhylipWithinSpContr'. The first function is nice because the formatting required for data input to Phylip programs is so, well, awkward &amp;nbsp;- and this function does it for you. The second function runs contrast and retrieves the output data. The example data set I produce in the code below has multiple individuals per species, so that contrasts are calculated taking into account within species variation. Get Phylip's contrast documentation &lt;a href=&quot;http://evolution.genetics.washington.edu/phylip/doc/contrast.html&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Note that the data input format allows only 10 characters for the species name, so I suggest if your species names are longer than 10 characters use the function abbreviate, for example, to shorten all names to no longer than 10 characters. Also, within the function WritePhylip I concatenate species names and their number of individuals per species leaving plenty of space.&lt;br /&gt;&lt;br /&gt;Also, mess around with the options in the &quot;system&quot; call to get what you want. For example, I used &quot;R&quot;, &quot;W&quot; and &quot;Y&quot;, meaning replace old outfile (R), then turn on within species analyses (W), then accept all options (Y). E..g, if you don't have an old outfile, then you obviously don't need to replace the old file with the &quot;R&quot; command.&lt;br /&gt;&lt;br /&gt;(p.s. I have not tried this on a windows machine).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/942176.js?file=phylip_fromR.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;Here is example output:&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Monaco; font-size: 12px; line-height: 17px; white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;pre class=&quot;G1dpdwhmFL&quot; style=&quot;border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; font-family: Monaco; font-size: 9pt !important; line-height: 1.45; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: none; outline-width: initial; white-space: pre-wrap !important;&quot; tabindex=&quot;0&quot;&gt;&lt;span class=&quot;G1dpdwhmIL  ace_keyword&quot; style=&quot;white-space: pre;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;G1dpdwhmMK  ace_keyword&quot;&gt;datout&lt;br /&gt;&lt;/span&gt;               names2   dat...1.    dat...2.&lt;br /&gt;1      VarAIn_VarAest   0.000110   -0.000017&lt;br /&gt;2      VarAIn_VarAest  -0.000017    0.000155&lt;br /&gt;3      VarAIn_VarEest   0.790783   -0.063097&lt;br /&gt;4      VarAIn_VarEest  -0.063097    0.981216&lt;br /&gt;5      VarAIn_VarAreg   1.000000   -0.107200&lt;br /&gt;6      VarAIn_VarAreg  -0.151800    1.000000&lt;br /&gt;7     VarAIn_VarAcorr   1.000000   -0.127600&lt;br /&gt;8     VarAIn_VarAcorr  -0.127600    1.000000&lt;br /&gt;9      VarAIn_VarEreg   1.000000   -0.064300&lt;br /&gt;10     VarAIn_VarEreg  -0.079800    1.000000&lt;br /&gt;11    VarAIn_VarEcorr   1.000000   -0.071600&lt;br /&gt;12    VarAIn_VarEcorr  -0.071600    1.000000&lt;br /&gt;13    VarAOut_VarEest   0.790734   -0.063104&lt;br /&gt;14    VarAOut_VarEest  -0.063104    0.981169&lt;br /&gt;15    VarAOut_VarEreg   1.000000   -0.064300&lt;br /&gt;16    VarAOut_VarEreg  -0.079800    1.000000&lt;br /&gt;17   VarAOut_VarEcorr   1.000000   -0.071600&lt;br /&gt;18   VarAOut_VarEcorr  -0.071600    1.000000&lt;br /&gt;19    logL_withvar_df -68.779770    6.000000&lt;br /&gt;20 logL_withoutvar_df -68.771450    3.000000&lt;br /&gt;21           chisq_df  -0.016640    3.000000&lt;br /&gt;22            chisq_p   1.000000 -999.000000&lt;/pre&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylometa from R: Randomization via Tip Shuffle</title>
   <link href="http://schamberlain.github.com/2011/04/phylometa-from-r-randomization-via-tip-shuffle/"/>
   <updated>2011-04-16T11:44:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/04/phylometa-from-r-randomization-via-tip-shuffle</id>
   <content type="html">&lt;p&gt;---UPDATE: I am now using code formatting from gist.github, so I replaced the old prettyR code (sorry guys). The github way is much easier and prettier. I hope readers like the change.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/04/phylometa-from-r-udpate.html&quot;&gt;I wrote earlier&lt;/a&gt; about some code I wrote for running Phylometa (software to do phylogenetic meta-analysis) from R.&lt;br /&gt;&lt;br /&gt;I have been concerned about what exactly is the right penalty for including phylogeny in a meta-analysis. E.g.: AIC is calculated from Q in Phylometa, and Q increases with tree size.&lt;br /&gt;&lt;br /&gt;So, I wrote some code to shuffle the tips of your tree N number of times, run Phylometa, and extract just the &quot;Phylogenetic MA&quot; part of the output. So, we compare the observed output (without tip shuffling) to the distribution of the tip shuffled output, and we can calculate a P-value from that. The code I wrote simply extracts the pooled effect size for fixed and also random-effects models. But you could change the code to extract whatever you like for the randomization.&lt;br /&gt;&lt;br /&gt;I think the point of this code is not to estimate your pooled effects, etc., but may be an alternative way to compare traditional to phylogenetic MA where hopefully simply incorporating a tree is not penalizing the meta-analysis so much&amp;nbsp;that you will&amp;nbsp;always accept the traditional MA as better.&lt;br /&gt;&lt;br /&gt;Get the code &lt;a href=&quot;https://gist.github.com/925343#file_phylometa_rand_fxn_one.r&quot;&gt;here&lt;/a&gt;, and also below. Get the example &lt;a href=&quot;http://wp.me/PRT1F-2R&quot;&gt;tree file&lt;/a&gt; and &lt;a href=&quot;http://wp.me/PRT1F-2S&quot;&gt;data file&lt;/a&gt;, named &quot;phylogeny.txt&quot; and &quot;metadata_2g.txt&quot;, respectively below (or use your own data!). You need the file &quot;phylometa_fxn.r&quot; from my website, get &lt;a href=&quot;https://gist.github.com/939970&quot;&gt;here&lt;/a&gt;, but just call it using source as seen below.&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/925343.js?file=phylometa_rand_fxn_one.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;As you can see, the observed values fall well within the distribution of values obtained from shuffling tips. &amp;nbsp;P-values were 0.64 and 0.68 for fixed- and random-effects MA's, respectively. This suggests, to me at least, that the traditional (distribution of tip shuffled analyses, the histograms below) and phylogenetic (red lines) MA's are not&amp;nbsp;different. The way I would use this is as an additional analysis to the actual Phylometa output.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-fpEjXUBvAw8/TanftVw49QI/AAAAAAAAEbY/z9rJKThxRMo/s1600/metadata_2g.txt.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;http://4.bp.blogspot.com/-fpEjXUBvAw8/TanftVw49QI/AAAAAAAAEbY/z9rJKThxRMo/s400/metadata_2g.txt.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>RStudio Beta 2 is Out!</title>
   <link href="http://schamberlain.github.com/2011/04/rstudio-beta-2-is-out-/"/>
   <updated>2011-04-11T07:33:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/04/rstudio-beta-2-is-out-</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://blog.rstudio.org/2011/04/11/rstudio-beta2/&quot;&gt;RStudio Beta 2 (v0.93)  RStudio Blog&lt;/a&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;A new beta version of RStudio is out! &lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Adjust branch lengths with node ages: comparison of two methods</title>
   <link href="http://schamberlain.github.com/2011/04/adjust-branch-lengths-with-node-ages-comparison-of-two-methods/"/>
   <updated>2011-04-10T11:02:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/04/adjust-branch-lengths-with-node-ages-comparison-of-two-methods</id>
   <content type="html">&lt;p&gt;Here is an approach for comparing two methods of adjusting branch lengths on trees: bladj in the program Phylocom and a fxn written by Gene Hunt at the Smithsonian.&lt;br /&gt;&lt;br /&gt;Get the code and example files (tree and node ages) &lt;a href=&quot;https://gist.github.com/938313&quot;&gt;here&lt;/a&gt;&lt;br /&gt;Get phylocom here:&amp;nbsp;&lt;a href=&quot;http://www.phylodiversity.net/phylocom/&quot;&gt;http://www.phylodiversity.net/phylocom/&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Gene Hunt's method has many options you can mess with, including setting tip ages (not available in bladj), setting node ages, and minimum branch length imposed. You will notice that Gene's method may be not the appropriate if you only have extant taxa.&lt;br /&gt;&lt;br /&gt;The function AdjBrLens uses as input a newick tree file and a text file of node ages, and uses functions you can simply run by &quot;source&quot; the R file bladjing_twomethods.R file from &lt;a href=&quot;https://gist.github.com/938313&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Note that blad does not like numbers for node names, so you have to put a character in front of a number of just character names for nodes.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# This is where the work happens... &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Directory below needs to have at least three items:&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  1. phylocom executable for windows or mac&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  2. tree newick file&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  3. node ages file as required by phylocom, see their manual&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Output: trees_out is a list of three trees, the original, bladj, and Gene Hunt's method&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Also, within the function all three trees are written to file as PDFs&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Mac/R_stuff/Blog_etc/Bladjing&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# set working directory&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/source&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;source&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;bladjing_twomethods.R&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# run functions from source file&lt;/span&gt;&lt;br /&gt;trees_out &amp;lt;- AdjBrLens&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;tree.txt&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;nodeages.txt&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot trees of three methods together, &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# with nodes with age estimates labeled&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/jpeg&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;jpeg&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;threeplots.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; quality=&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/layout&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;layout&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/matrix&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;original tree&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;bladj method&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;gene hunt method, scalePhylo&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;It is sort of hard to see the differences in&amp;nbsp;the branch length changes here, but the individual output trees will reveal the differences better.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-tLK1y12TYlI/TaHwayCs3GI/AAAAAAAAEbU/rPsFYqSEDuI/s1600/threeplots.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://2.bp.blogspot.com/-tLK1y12TYlI/TaHwayCs3GI/AAAAAAAAEbU/rPsFYqSEDuI/s1600/threeplots.jpeg&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylometa from R - UDPATE</title>
   <link href="http://schamberlain.github.com/2011/04/phylometa-from-r-udpate/"/>
   <updated>2011-04-01T14:18:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/04/phylometa-from-r-udpate</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2010/12/phylogenetic-meta-analysis-in-r-using.html&quot;&gt;A while back I posted some messy code to run Phylometa from R&lt;/a&gt;, especially useful for processing the output data from Phylometa which is not easily done. The code is still quite messy, but it should work now. I have run the code with tens of different data sets and phylogenies so it should work. &lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I fixed errors when parentheses came up against numbers in the output, and other things. You can use the code for up to 4 levels of your grouping variable. In addition, there are some lines of code to plot the effect sizes with confidence intervals, comparing random and fixed effects models and phylogenetic and traditional models.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Get the code at my website:&lt;/div&gt;&lt;div&gt;-&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #333333; font-family: Georgia, 'Bitstream Charter', serif; font-size: 14px; line-height: 23px;&quot;&gt;&lt;a href=&quot;https://gist.github.com/939970&quot; style=&quot;border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #1c9bdc; font-style: inherit; font-weight: inherit; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-decoration: underline; vertical-align: baseline;&quot; target=&quot;_blank&quot;&gt;phylometa_fxn.R&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #333333; font-family: Georgia, 'Bitstream Charter', serif; font-size: 14px; line-height: 23px;&quot;&gt;&lt;a href=&quot;https://gist.github.com/939971&quot; style=&quot;border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #1c9bdc; font-style: inherit; font-weight: inherit; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-decoration: underline; vertical-align: baseline;&quot; target=&quot;_blank&quot;&gt;phylometa_inR_run.R&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;- Use the first file to do the work, calling the second file using source().&lt;br /&gt;- This new code works with Marc's new version of Phylometa, so please update:&amp;nbsp;http://lajeunesse.myweb.usf.edu/publications.html&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Again, please let me know if it doesn't work, if it's worthless, what changes could make it better.&lt;br /&gt;&lt;br /&gt;Some notes on tree formatting for Phylometa. &lt;br /&gt;1.&amp;nbsp;Trees cannot have node labels - remove them (e.g., tree$node.label &amp;lt; NULL).&lt;br /&gt;2. Trees cannot have zero length branches. This may seem like a non-problem, but it might be for example if you have resolved polytomies and zero length branches are added to resolve the polytomy.&lt;br /&gt;3. I think you cannot have a branch length on the root branch.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Bio-ORACLE</title>
   <link href="http://schamberlain.github.com/2011/03/bio-oracle/"/>
   <updated>2011-03-25T06:38:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/03/bio-oracle</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.oracle.ugent.be/index.html&quot;&gt;Bio-ORACLE&lt;/a&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;A new dataset available of geophysical, biotic and climate data. Should be fun to play with in R. &lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>basic ggplot2 network graphs - ver2</title>
   <link href="http://schamberlain.github.com/2011/03/basic-ggplot2-network-graphs-ver2/"/>
   <updated>2011-03-23T12:09:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/03/basic-ggplot2-network-graphs-ver2</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;I posted last week a simple function to plot networks using ggplot2 package. Here is version 2. I still need to work on figuring out efficient vertex placement.&lt;/p&gt;

&lt;p&gt;Changes in version 2:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You have one of three options: use an igraph object, a matrix, or a dataframe (matrices will be converted to data frames within the function)&lt;/li&gt;
&lt;li&gt;If you have data on food webs similar to that provided in the Takapoto dataset provided in the NetIndices package, you can set trophic = &quot;TRUE&quot;, and gggraph will use the function TrophInd to assign trophic levels (the y axis value) to each vertex/node. You have to provide additional information along with this option such as what the imports and exports are, see NetIndices documentation.&lt;/li&gt;
&lt;li&gt;I added some simple error checking.&lt;/li&gt;
&lt;li&gt;if using method=&quot;df&quot; and trophic=&quot;FALSE&quot;, x axis placement of vertices is now done using the function degreex (see inside the fxn), which sorts vertices according to their degree (so the least connected species are on the left of the graph; note that species with the same degree are not stacked on the y-axis because e.g., two vertices of degree=5 would get x=3 then x=4).&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# ggraph Version 2&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;bipartite&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;igraph&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# gggraph, version 3 g = an igraph graph object, a matrix, or data frame&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# vplace = type of vertex placement assignment, one of rnorm, runif, etc.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# method = one of &amp;#39;df&amp;#39; for data frame, &amp;#39;mat&amp;#39; for matrix or &amp;#39;igraph&amp;#39; for an&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# igraph graph object trophic = TRUE or FALSE for using Netindices&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# function TrophInd to determine trophic level (y value in graph)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# trophinames = columns in matrix or dataframe to use for calculating&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# trophic level import = named or refereced by col# columns of matrix or&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# dataframe to use for import argument of TrophInd export = named or&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# refereced by col# columns of matrix or dataframe to use for export&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# argument of TrophInd dead = named or refereced by col# columns of matrix&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# or dataframe to use for dead argument of TrophInd&lt;/span&gt;

gggraph &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vplace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophic &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophinames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    import&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; export&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    degreex &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        degreecol &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; apply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        degreerow &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; apply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        degrees &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sort&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degreecol&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; degreerow&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; seq&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degrees&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; rownames&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        df
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# require igraph&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;!require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;igraph&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
        stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;must first install &amp;#39;igraph&amp;#39; package.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# require ggplot2&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;!require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
        stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;must first install &amp;#39;ggplot2&amp;#39; package.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;class&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;matrix&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            g &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;class&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;data.frame&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
            stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;object must be of class &amp;#39;data.frame.&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trophic &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# data preparation from adjacency matrix&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;expand.grid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dimnames&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; as.vector&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as.matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; !is.na&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;sort.list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            
            g_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            
            xy_s &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degreex&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
            g_df_2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; merge&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xy_s&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trophic &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;TRUE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# require NetIndices&lt;/span&gt;
            &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;!require&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;NetIndices&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
                stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;must first install &amp;#39;NetIndices&amp;#39; package.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# data preparation from adjacency matrix&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;expand.grid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dimnames&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;]))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; 
                as.vector&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as.matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; !is.na&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;sort.list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            
            g_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            
            xy_s &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
                y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; TrophInd&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Import &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; import&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Export &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; export&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df_2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; merge&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xy_s&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# plotting&lt;/span&gt;
        p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; freqint&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; hjust &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;label &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
            theme_bw&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.title.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            axis.title.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        p  &lt;span class=&quot;c1&quot;&gt;# return graph&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;igraph&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;class&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;igraph&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
            stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;object must be of class &amp;#39;igraph.&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# data preparation from igraph object&lt;/span&gt;
        g_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get.edgelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        g_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;:length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        xy_s &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vplace&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
            y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vplace&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;length&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unique&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
        g_df2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; merge&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xy_s&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;c1&quot;&gt;# plotting&lt;/span&gt;
        p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; hjust &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;label &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_bw&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            axis.title.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.title.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        p  &lt;span class=&quot;c1&quot;&gt;# return graph&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; stop&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;paste&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;do not recognize method = \&amp;quot;&amp;quot;, method, &amp;quot;&lt;/span&gt;\&lt;span class=&quot;s&quot;&gt;&amp;quot;;\nmethods are \&amp;quot;&lt;/span&gt;df\&lt;span class=&quot;s&quot;&gt;&amp;quot; and \&amp;quot;&lt;/span&gt;igraph\&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Eg&lt;/span&gt;
library&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;NetIndices&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Takapoto&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
gggraph&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Takapoto&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vplace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophic &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;TRUE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophinames &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    import &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; export &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;CO2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Sedimentation&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Grazing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gggraph1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;r&quot;&gt;plants &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rlnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; meanlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sdlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
animals &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; round&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rlnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; meanlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sdlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
plants &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; plants &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;sum&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plants&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
animals &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; animals &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;sum&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;animals&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
z &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; r2dtable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; animals&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plants&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# if errors, rerun again until no error&lt;/span&gt;
z &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.data.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;
rownames&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; c&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;e&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
gggraph&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vplace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophic &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/img/gggraph2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>basic ggplot2 network graphs</title>
   <link href="http://schamberlain.github.com/2011/03/basic-ggplot2-network-graphs/"/>
   <updated>2011-03-17T06:35:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/03/basic-ggplot2-network-graphs</id>
   <content type="html">&lt;p&gt;I have been looking around on the web and have not found anything yet related to using ggplot2 for making graphs/networks. I put together a few functions to make very simple graphs. The bipartite function especially is not ideal, as of course we only want to allow connections between unlike nodes, not all nodes. These functions do not, obviously, take full advantage of the power of ggplot2, but&amp;nbsp;its a start.&lt;/p&gt;

&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;




&lt;script src=&quot;https://gist.github.com/3601320.js?file=gggraph.r&quot;&gt;&lt;/script&gt;


&lt;p&gt;&lt;img src=&quot;/img/gggraph/erdos.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/img/gggraph/barabasi.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/img/gggraph/grg.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/img/gggraph/growing.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/img/gggraph/watts.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/img/gggraph/grg-bipartite.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Species abundance distributions and basketball</title>
   <link href="http://schamberlain.github.com/2011/03/species-abundance-distributions-and/"/>
   <updated>2011-03-13T13:00:00-07:00</updated>
   <id>http://schamberlain.github.com/2011/03/species-abundance-distributions-and</id>
   <content type="html">&lt;p&gt;A post over at the Phased blog (http://www.nasw.org/users/mslong/) highlights a recent paper in PLoS One by Robert Warren et al. Similar results were obtained in a 2007 Ecology Letters paper by Nekola and Brown, who showed that abundance distributions found in ecology are similar to those found for scientific citations, Eastern North American precipitation, among other things. A similar argument was made by Nee et al. in 1991 (in the journal PRSL-B). The author of the blog appears to agree with the outcome of the Warren et al. study.&lt;br /&gt;&lt;br /&gt;I tend to disagree.&lt;br /&gt;&lt;br /&gt;In the field of graphs/networks, many networks (social, sexual intercourse among humans, etc.) are found to have similar statistical properties to those of ecological networks (food webs, interactions among mutualists, etc.). However, just because these networks have similar statistical properties does not mean that the statistical properties of ecological networks have no biological meaning.&lt;br /&gt;&lt;br /&gt;They make the argument that the common SAD fit may be an artifact of large data sets alone. However, I don't see any explanation of why they think large data sets is a valid explanation of SADs. Surely SAD's are fit to varying sizes of datasets. The problem with small datasets is lack of statistical power to detect a particular pattern, but surely you can get a fit for a particular SAD to a small dataset.&lt;br /&gt;&lt;br /&gt;There are ecological mechanistic theories behind different SAD models. They argue that because very similar SADs are found in ecological and non-ecological datasets alike one option is that a universal mechanism structures ecological and non-ecological data (with the mechanism unknown in both). Why can't the same SAD pattern be generated by different mechanisms? &lt;br /&gt;&lt;br /&gt;Are Warren et al, Nekola, and Nee right in questioning the utility of SADs? Questioning our theories and ideas only makes the theories better in the end by weeding out shortcomings, etc.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;float: left; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; padding-top: 5px;&quot;&gt;&lt;a href=&quot;http://www.researchblogging.org/&quot;&gt;&lt;img alt=&quot;ResearchBlogging.org&quot; src=&quot;http://www.researchblogging.org/public/citation_icons/rb2_large_white.png&quot; style=&quot;border: 0;&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Z3988&quot; title=&quot;ctx_ver=Z39.88-2004&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;amp;rft.jtitle=PLoS+ONE&amp;amp;rft_id=info%3Adoi%2F10.1371%2Fjournal.pone.0017342&amp;amp;rfr_id=info%3Asid%2Fresearchblogging.org&amp;amp;rft.atitle=Universal+Ecological+Patterns+in+College+Basketball+Communities&amp;amp;rft.issn=1932-6203&amp;amp;rft.date=2011&amp;amp;rft.volume=6&amp;amp;rft.issue=3&amp;amp;rft.spage=0&amp;amp;rft.epage=&amp;amp;rft.artnum=http%3A%2F%2Fdx.plos.org%2F10.1371%2Fjournal.pone.0017342&amp;amp;rft.au=Warren%2C+R.&amp;amp;rft.au=Skelly%2C+D.&amp;amp;rft.au=Schmitz%2C+O.&amp;amp;rft.au=Bradford%2C+M.&amp;amp;rfe_dat=bpr3.included=1;bpr3.tags=Ecology+%2F+Conservation&quot;&gt;Warren, R., Skelly, D., Schmitz, O., &amp;amp; Bradford, M. (2011). Universal Ecological Patterns in College Basketball Communities &lt;span style=&quot;font-style: italic;&quot;&gt;PLoS ONE, 6&lt;/span&gt; (3) DOI: &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0017342&quot; rev=&quot;review&quot;&gt;10.1371/journal.pone.0017342&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cloudnumbers.com</title>
   <link href="http://schamberlain.github.com/2011/03/cloudnumbers-com/"/>
   <updated>2011-03-11T05:28:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/03/cloudnumbers-com</id>
   <content type="html">&lt;p&gt;UPDATE: I guess it still is not actually available. Bummer...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Has anyone used cloudnumbers.com?&lt;br /&gt;&lt;br /&gt;http://www.cloudnumbers.com/&lt;br /&gt;&lt;br /&gt;They provide cloud computing, and have built in applications, including R.&lt;br /&gt;&lt;br /&gt;How well does it work? Does it increase processing speed? I guess it may at the least free up RAM and processor space on your own machine.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Five ways to visualize your pairwise comparisons</title>
   <link href="http://schamberlain.github.com/2011/03/for-all-your-pairwise-comparison-needs/"/>
   <updated>2011-03-05T10:49:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/03/for-all-your-pairwise-comparison-needs</id>
   <content type="html">&lt;p&gt;UPDATE: &lt;i&gt;&lt;u&gt;At the bottom are two additional methods, and some additions (underlined) are added to the original 5 methods. Thanks for all the feedback...&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;u&gt;-Also, another post &lt;a href=&quot;http://www.r-statistics.com/2010/04/correlation-scatter-plot-matrix-for-ordered-categorical-data/&quot;&gt;here&lt;/a&gt; about ordered-categorical data&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;u&gt;-Also #2, a method combining splom and hexbin packages &lt;a href=&quot;http://procomun.wordpress.com/2011/03/18/splomr/&quot;&gt;here&lt;/a&gt;, for larger datasets&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In data analysis it is often nice to look at all pairwise combinations of continuous variables in scatterplots. Up until recently, I&amp;nbsp;have used the function splom in the package lattice, but ggplot2 has superior aesthetics, I think anyway.&lt;br /&gt;&lt;br /&gt;Here a few ways to accomplish the task:&lt;br /&gt;&lt;br /&gt;# load packages&lt;br /&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/lattice&quot;&gt;lattice&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;nbsp;&lt;br /&gt;&lt;/pre&gt;&lt;div&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/car&quot;&gt;car&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;1) Using base graphics, function &quot;pairs&quot;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; pch = &lt;span style=&quot;color: #cc66cc;&quot;&gt;21&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh3.googleusercontent.com/-QrjiX4jAPxo/TXJ-Qj0mpfI/AAAAAAAAEac/DQkKhzJgl7c/s1600/pairs.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh3.googleusercontent.com/-QrjiX4jAPxo/TXJ-Qj0mpfI/AAAAAAAAEac/DQkKhzJgl7c/s400/pairs.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;2) Using lattice package, function &quot;splom&quot;&lt;br /&gt;&lt;br /&gt;-&lt;u&gt;Additional code to improve splom plots &lt;a href=&quot;http://www.mail-archive.com/r-help@stat.math.ethz.ch/msg94527.html&quot;&gt;here&lt;/a&gt; (and see Oscar's code below in comments)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/lattice/splom&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;splom&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;~&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh6.googleusercontent.com/-boKmTPP2s60/TXKAc4YcbCI/AAAAAAAAEak/ImCWlnGkpmc/s1600/splom.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh6.googleusercontent.com/-boKmTPP2s60/TXKAc4YcbCI/AAAAAAAAEak/ImCWlnGkpmc/s400/splom.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;3) Using package ggplot2, function &quot;plotmatrix&quot;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;plotmatrix&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh4.googleusercontent.com/-3aqCYfmVpNw/TXJ-RG6Zs8I/AAAAAAAAEag/ADZRrR8QB8g/s1600/plotmatrix.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh4.googleusercontent.com/-3aqCYfmVpNw/TXJ-RG6Zs8I/AAAAAAAAEag/ADZRrR8QB8g/s400/plotmatrix.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;4) a function called ggcorplot by Mike Lawrence at Dalhousie University&lt;br /&gt;&lt;br /&gt;-get ggcorplot function at &lt;a href=&quot;http://groups.google.com/group/ggplot2/attach/6bf632a9718dddd6/ggcorplot.R?part=2&quot;&gt;this link&lt;/a&gt;&lt;br /&gt;-&lt;u&gt;ggcorplot is also built in to Deducer (&lt;a href=&quot;http://www.deducer.org/pmwiki/pmwiki.php?n=Main.DeducerManual&quot;&gt;get here&lt;/a&gt;); see Ian's code below in the comments&lt;/u&gt;&lt;br /&gt;-&lt;u&gt;Lastly, an improved version of ggcorplot is built in to the ez package (&lt;a href=&quot;http://cran.r-project.org/web/packages/ez/index.html&quot;&gt;get here&lt;/a&gt;)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;ggcorplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  var_text_size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  cor_text_limits = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh6.googleusercontent.com/-jw2x1p68lp0/TXJ-Qs3JgwI/AAAAAAAAEaY/42UfLSleVHc/s1600/ggcorplot.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh6.googleusercontent.com/-jw2x1p68lp0/TXJ-Qs3JgwI/AAAAAAAAEaY/42UfLSleVHc/s400/ggcorplot.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;5) panel.cor function using pairs, similar to ggcorplot, but using base graphics. Not sure who wrote this function, but &lt;a href=&quot;http://addictedtor.free.fr/graphiques/graphcode.php?graph=137&quot;&gt;here&lt;/a&gt; is where I found it.&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;panel.cor &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; digits=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; prefix=&lt;span style=&quot;color: blue;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    usr &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;usr&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/on.exit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;on.exit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;usr&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;usr = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    r &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/abs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;abs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/cor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    txt &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/format&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;format&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;r&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.123456789&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; digits=digits&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;br /&gt;    txt &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prefix&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; txt&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; sep=&lt;span style=&quot;color: blue;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/missing&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;missing&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;cex.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; cex &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.8&lt;/span&gt;/strwidth&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;txt&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;    test &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cor.test&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor.test&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# borrowed from printCoefmat&lt;/span&gt;&lt;br /&gt;    Signif &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/symnum&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;symnum&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;test$p.value&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/boot/corr&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;corr&lt;/span&gt;&lt;/a&gt; = &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;FALSE&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na = &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;FALSE&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;br /&gt;                  cutpoints = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.001&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.01&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.05&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                  &lt;a href=&quot;http://inside-r.org/r-doc/graphics/symbols&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;symbols&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;&lt;em&gt;&lt;strong&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;&lt;/strong&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;&lt;/em&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/text&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;text&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; txt&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = cex * r&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/text&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;text&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; Signif&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex=cex&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/col&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lower.panel=&lt;a href=&quot;http://inside-r.org/r-doc/graphics/panel.smooth&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;panel.smooth&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; upper.panel=panel.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh3.googleusercontent.com/-df9_9d84Qdg/TXJ9s9OZQgI/AAAAAAAAEaU/zHwWtTQZFSw/s1600/panel.cor.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh3.googleusercontent.com/-df9_9d84Qdg/TXJ9s9OZQgI/AAAAAAAAEaU/zHwWtTQZFSw/s400/panel.cor.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;A comparison of run times...&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.138&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.008&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.156&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/lattice/splom&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;splom&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;~&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.003&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.000&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.003&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plotmatrix&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.052&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.000&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.052&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ggcorplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;br /&gt;+ &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  var_text_size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  cor_text_limits = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.130&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.001&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.131&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lower.panel=&lt;a href=&quot;http://inside-r.org/r-doc/graphics/panel.smooth&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;panel.smooth&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; upper.panel=panel.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.170&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.011&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.200&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;...shows that splom is the fastest method, with the method using the panel.cor function pulling up the rear.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;6) given by a reader in the comments (get her/his code &lt;a href=&quot;http://handlesman.blogspot.com/2011/03/matrix-plot-with-confidence-intervals.html&quot;&gt;here&lt;/a&gt;). This one is nice as it gives 95% CI's for the correlation coefficients, AND histograms of each variable.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s400/pairs_anehandlesman.png&quot; style=&quot;cursor: move;&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;7)&amp;nbsp;a reader in the comments suggested the scatterplotMatrix (spm can be used) function in the car package. This one has the advantage of plotting distributions of each variable, and providing fits to each data with confidence intervals.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;spm&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh4.googleusercontent.com/-gV9rB3jhZUU/TXTY57Z0bwI/AAAAAAAAEas/GuEWgTGpVzk/s1600/car.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh4.googleusercontent.com/-gV9rB3jhZUU/TXTY57Z0bwI/AAAAAAAAEas/GuEWgTGpVzk/s400/car.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Check out Phyloseminar.org</title>
   <link href="http://schamberlain.github.com/2011/03/check-out-phyloseminar-org/"/>
   <updated>2011-03-04T06:22:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/03/check-out-phyloseminar-org</id>
   <content type="html">&lt;div&gt;They have online seminars that you can join in on live, and watch later as recorded videos. Check it out at: &lt;a href=&quot;http://phyloseminar.org/index.html&quot;&gt;phyloseminar.org home&lt;/a&gt;&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>RStudio</title>
   <link href="http://schamberlain.github.com/2011/02/rstudio/"/>
   <updated>2011-02-28T18:21:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/rstudio</id>
   <content type="html">&lt;p&gt;&lt;b&gt;&lt;u&gt;New thoughts&lt;/u&gt;&lt;/b&gt;: After actually using it more, it is quite nice, but I have a couple of major issues.&lt;br /&gt;1. The text editor is quite slow to scroll through.&lt;br /&gt;2. ggplot2 graphics look bad, worse than if just running R alone.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://www.rstudio.org/&quot;&gt;RStudio&lt;/a&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Everyone seems to be excited about this...&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Is it any good? Seems great for folks just learning R, but perhaps less ideal for advanced R users?&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R overtakes SAS in popularity</title>
   <link href="http://schamberlain.github.com/2011/02/r-overtakes-sas-in-popularity/"/>
   <updated>2011-02-25T06:58:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/r-overtakes-sas-in-popularity</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html&quot;&gt;TIOBE Software: Tiobe Index&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phenotypic selection analysis in R</title>
   <link href="http://schamberlain.github.com/2011/02/phenotypic-selection-analysis-in-r/"/>
   <updated>2011-02-24T07:43:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/phenotypic-selection-analysis-in-r</id>
   <content type="html">&lt;p&gt;I have up to recently always done my phenotypic selection analyses in SAS. I finally got some code I think works to do everything SAS would do. Feedback much appreciated!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########################Selection analyses#############################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;car&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;reshape&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/car&quot;&gt;car&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/reshape&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reshape&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Create data set&lt;/span&gt;&lt;br /&gt;dat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plant = &lt;a href=&quot;http://inside-r.org/r-doc/base/seq&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;seq&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; trait1 = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.15&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.21&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.25&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.9&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;14&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;15&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;16&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; trait2 = &lt;a href=&quot;http://inside-r.org/r-doc/stats/runif&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;runif&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; fitness = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;50&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Make relative fitness column&lt;/span&gt;&lt;br /&gt;dat&lt;em&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/cbind&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cbind&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dat$fitness/mean&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat$fitness&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/names&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: blue;&quot;&gt;&quot;relfitness&quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Standardize traits&lt;/span&gt;&lt;br /&gt;dat&lt;em&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/cbind&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cbind&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; rescaler&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;sd&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Selection differentials and correlations among traits, cor.prob uses function in functions.R file&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####### Function for calculating correlation matrix, corrs below diagonal,&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####### and P-values above diagonal&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;cor.prob &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dfr = &lt;a href=&quot;http://inside-r.org/r-doc/base/nrow&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;nrow&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; - &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;         R &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         above &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/row&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;row&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;R&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &amp;lt; &lt;a href=&quot;http://inside-r.org/r-doc/base/col&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;col&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;R&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         r2 &amp;lt;- R&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;above&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;sup&gt;&amp;lt;span&lt;/sup&gt; style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;         Fstat &amp;lt;- r2 * dfr / &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; - r2&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         R&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;above&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; - &lt;a href=&quot;http://inside-r.org/r-doc/stats/pf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;Fstat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dfr&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         R&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Get selection differentials and correlations among traits in one data frame&lt;/span&gt;&lt;br /&gt;dat_seldiffs &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cov&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cov&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# calculates sel'n differentials using cov&lt;/span&gt;&lt;br /&gt;dat_selcorrs &amp;lt;- cor.prob&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# use P-values above diagonal for significance of sel'n differentials in dat_seldiffs&lt;/span&gt;&lt;br /&gt;dat_seldiffs_selcorrs &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_seldiffs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dat_selcorrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# combine the two&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;##########################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Selection gradients&lt;/span&gt;&lt;br /&gt;dat_selngrad &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/lm&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;lm&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;relfitness ~ trait1 * trait2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/summary&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;summary&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# where &quot;Estimate&quot; is our sel'n gradient&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Check assumptions&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/shapiro.test&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;shapiro.test&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad$residuals&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# normality, bummer, non-normal&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/hist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;hist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad$residuals&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot residuals&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/VIF&quot;&gt;vif&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# check variance inflation factors (need package car), everything looks fine&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# cycle through diagnostic plots&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trait1&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; relfitness&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_smooth&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;method = &lt;span style=&quot;color: blue;&quot;&gt;&quot;lm&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Trait 1&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Relative fitness&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;myplot.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Plot of relative fitness vs. trait 1 standardized&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-OVQl92LOmZY/TWZ8RW9lHlI/AAAAAAAAEaQ/MGB39Lyghig/s1600/myplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;http://2.bp.blogspot.com/-OVQl92LOmZY/TWZ8RW9lHlI/AAAAAAAAEaQ/MGB39Lyghig/s400/myplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic analysis with the phangorn package: an example</title>
   <link href="http://schamberlain.github.com/2011/02/phylogenetic-analysis-with-the-phangorn-package-an-example/"/>
   <updated>2011-02-21T10:31:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/phylogenetic-analysis-with-the-phangorn-package-an-example</id>
   <content type="html">&lt;p&gt;The phangorn package is a relatively new package in R for the analysis and comparison of phylogenies.&amp;nbsp;See &lt;a href=&quot;http://bioinformatics.oxfordjournals.org/content/27/4/592.short&quot;&gt;here&lt;/a&gt; for the Bioinformatics paper and &lt;a href=&quot;http://cran.r-project.org/web/packages/phangorn/index.html&quot;&gt;here&lt;/a&gt; for the package.&amp;nbsp;Here is an example of using phangorn from getting sequences to making phylogenies and visualizing them:&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Getting sequences from Genbank&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Multiple alignment&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Maximum likelihood tree reconstruction&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Visualizing trees&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Visualizing trees and traits&lt;/u&gt;&lt;br /&gt;Make fake traits:&lt;br /&gt;&lt;br /&gt;Visualize them on trees:&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Farmer's markets data</title>
   <link href="http://schamberlain.github.com/2011/02/farmer-s-markets-data/"/>
   <updated>2011-02-16T20:41:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/farmer-s-markets-data</id>
   <content type="html">&lt;p&gt;I combined USDA data on farmer's markets in the US with population census data to get an idea of the disparity in farmers markets by state, and then also expressed per capita.&lt;br /&gt;&lt;br /&gt;Download USDA data &lt;a href=&quot;http://www.ams.usda.gov/AMSv1.0/getfile?dDocName=STELPRDC5087258&amp;amp;acct=frmrdirmkt&quot;&gt;here&lt;/a&gt;. The formatted file I used below is &lt;a href=&quot;http://schamber.files.wordpress.com/2011/02/farmmarkets.xls&quot;&gt;here&lt;/a&gt; (in excel format, although I read into R as csv file). The census data is read from url as below.&lt;br /&gt;&lt;br /&gt;California has a ton of absolute number of farmer's markets, but Vermont takes the cake by far with number of markets per capita. Iowa comes in a distant second behind Vermont in markets per capita.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The code:&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;######## Farmer's Markets #############&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Mac/R_stuff/Blog_etc/USDAFarmersMarkets&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set to your working directory, this is where you want to call files from and write files to&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;RCurl&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# install all packags required below&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plyr is libraried along with ggplot2, as ggplot2 uses plyr (as well as package reshape) functions&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read market data&lt;/span&gt;&lt;br /&gt;markets &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;farmmarkets.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets$state &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.factor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.factor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;Wyoming &quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;Wyoming&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; markets$LocAddState&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# there was a typo for Wyoming&lt;/span&gt;&lt;br /&gt;markets &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/na.omit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;na.omit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read population census data&lt;/span&gt;&lt;br /&gt;popcen &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;http://www.census.gov/popest/national/files/NST_EST2009_ALLDATA.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;popcen &amp;lt;- popcen&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;popcen&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# summarize&lt;/span&gt;&lt;br /&gt;markets&lt;em&gt; &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; .&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; markets_n = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;LocAddState&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;markets_pop&lt;/em&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; popcen&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&quot;NAME&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# merge two data sets&lt;/span&gt;&lt;br /&gt;markets_pop&lt;/em&gt;$marketspercap &amp;lt;- markets_pop&lt;em&gt;$markets_n/markets_pop&lt;/em&gt;$POPESTIMATE2009 &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# create column of markets per capita&lt;/span&gt;&lt;br /&gt;markets_pop&lt;em&gt;$markets_n_st &amp;lt;- markets_pop&lt;/em&gt;$markets_n/max&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop&lt;em&gt;$markets_n&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets_pop&lt;/em&gt;$marketspercap_st &amp;lt;- markets_pop&lt;em&gt;$marketspercap/max&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop&lt;/em&gt;$marketspercap&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;melt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = state&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = value&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = variable&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_bar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;position = &lt;span style=&quot;color: blue;&quot;&gt;&quot;dodge&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;fmarkets_barplot.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Note: the x-axis here is standardized value of number of markets (markets_n_st) and number of markets per capita (marketspercap_st).&lt;br /&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s1600/fmarkets_barplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;452&quot; src=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s640/fmarkets_barplot.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# maps&lt;/span&gt;&lt;br /&gt;try_require&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;maps&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;states &amp;lt;- map_data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets_pop&lt;/em&gt;$statelow &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/tolower&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;tolower&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop&lt;em&gt;$state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; markets_pop&lt;/em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&quot;region&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&quot;statelow&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- survey_sum_map&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/order&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;order&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum_map$order&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum_map&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = markets_n&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; main = &lt;span style=&quot;color: blue;&quot;&gt;&quot;Total farmer's markets&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + &lt;br /&gt; scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;fmarkets_map_green.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s1600/fmarkets_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;452&quot; src=&quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s640/fmarkets_map_green.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = marketspercap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; main = &lt;span style=&quot;color: blue;&quot;&gt;&quot;Farmer's markets per person&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;fmarkerspercap_map_green.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-g8zapywmu7M/TVyE2qNzFnI/AAAAAAAAEaE/yrjk5txjFgo/s1600/fmarkerspercap_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;453&quot; src=&quot;http://4.bp.blogspot.com/-g8zapywmu7M/TVyE2qNzFnI/AAAAAAAAEaE/yrjk5txjFgo/s640/fmarkerspercap_map_green.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s1600/fmarkets_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s1600/fmarkets_barplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Troubling news for the teaching of evolution</title>
   <link href="http://schamberlain.github.com/2011/02/troubling-news-for-teaching-of/"/>
   <updated>2011-02-09T06:20:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/troubling-news-for-teaching-of</id>
   <content type="html">&lt;p&gt;[UPDATE: i remade the maps in green, hope that helps...]&lt;br /&gt;&lt;br /&gt;A recent survey reported in &lt;a href=&quot;http://www.sciencemag.org.silk.library.umass.edu/content/331/6016/404.full&quot;&gt;Science&lt;/a&gt;&amp;nbsp;(&quot;Defeating Creationism in the Courtroom, but not in the Classroom&quot;) found that biology teachers in high school do not often accept the basis of their discipline, as do teachers in other disciplines, and thus may not teach evolution appropriately.&amp;nbsp;Read more here:&amp;nbsp;&lt;a href=&quot;http://www.nytimes.com/2011/02/08/science/08creationism.html?emc=eta1&quot;&gt;New York Times&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;I took a little time to play with the data provided online along with the Science article. The data is available on the Science website along with the article, and the dataset I read into R is unchanged from the original. The states abbreviations file is &lt;a href=&quot;http://schamber.files.wordpress.com/2011/02/states_abbreviations.xls&quot;&gt;here&lt;/a&gt;&amp;nbsp;(as a .xls). Here goes:&lt;br /&gt;&lt;br /&gt;I only played with two survey questions: q1b (no. of hours ecology is taught per year), and q1d (no. of hours evolution is taught per year). I looked at ecology and evolution as this blog is about ecology and evolution. It seems that some states that teach a lot of ecology teach&amp;nbsp;a lot of evolution, but I found no correlation between the two without extreme outliers. I&amp;nbsp;couldnt help but notice my home state, TX, is near the bottom of the list on both counts - go TX! The teaching of evolution on the map produced below is less predictable than I would have though just based on my assumptions about political will in each state.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Analyses of Conditionality Data set of all variables, except for latitude, etc.&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Mac/R_stuff/Blog_etc/EvolutionTeaching/&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set working directory&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read in data, and prepare new columns&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;berkmandata.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;) # (I do realize that survey is a data object in the MASS package)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Assign actual hours to survey answers &lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$q1b&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$q1d&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.numeric&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.numeric&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# ddply it&lt;/span&gt;&lt;br /&gt;survey_sum &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; .&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; mean_ecol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; mean_evol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se_ecol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se_evol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; num_teachers = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plotting&lt;/span&gt;&lt;br /&gt;limits_ecol &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = mean_ecol_hrs + se_ecol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = mean_ecol_hrs - se_ecol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;limits_evol &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = mean_evol_hrs + se_evol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = mean_evol_hrs - se_evol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; mean_ecol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = mean_ecol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits_ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;label = num_teachers&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; vjust = &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; hjust = -&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;span style=&quot;color: blue;&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = &lt;span style=&quot;color: blue;&quot;&gt;&quot;Mean hours of ecology taught &lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt; per year (+/- 1 se)&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #009900;&quot;&gt;####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s640/survey_ecol.jpeg&quot; width=&quot;392&quot; /&gt;&lt;/a&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; mean_evol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = mean_evol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits_evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;label = num_teachers&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; vjust = &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; hjust = -&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;span style=&quot;color: blue;&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = &lt;span style=&quot;color: blue;&quot;&gt;&quot;Mean hours of evolution taught &lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt; per year (+/- 1 se)&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #009900;&quot;&gt;####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s1600/survey_evol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s640/survey_evol.jpeg&quot; width=&quot;392&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# map&lt;/span&gt;&lt;br /&gt;try_require&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;maps&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;states &amp;lt;- map_data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;statenames &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Mac/R_stuff/Code/states_abbreviations.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum&lt;em&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; statenames&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&quot;st_posta&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&quot;state_abbrev&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; survey_sum&lt;/em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&quot;region&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- survey_sum_map&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/order&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;order&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum_map$order&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = mean_ecol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s1600/survey_ecol_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;458&quot; src=&quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s640/survey_ecol_map_green.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = mean_evol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: black; font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s1600/survey_evol_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;458&quot; src=&quot;http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s640/survey_evol_map_green.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Plants are less sex deprived when next to closely related neighbors</title>
   <link href="http://schamberlain.github.com/2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors/"/>
   <updated>2011-02-01T20:59:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors</id>
   <content type="html">&lt;p&gt;A new early online paper in &lt;a href=&quot;http://www.amjbot.org/cgi/content/abstract/ajb.1000329v1&quot;&gt;American Journal of Botany&lt;/a&gt; by &lt;a href=&quot;http://mysite.science.uottawa.ca/rsargent/&quot;&gt;Risa Sargent&lt;/a&gt; and colleagues suggests that plants are less sex deprived (pollen limited) in vernal pools that have more closely related plant species. Vernal pools are (at least in my experience) small (to quite large) depressions that fill up with water with winter rains, and dry out completely in the summer. Vernal pool adapted plants flower in rings down the pool as the water dries up. Aquatic invertebrates and some herps can last through the summer by burrowing in the soil.&lt;/p&gt;

&lt;p&gt;The study did hand pollination experiments with a focal species, &lt;em&gt;Lasthenia fremontii&lt;/em&gt;. They examined the relationship between these pollen limitation experiments and the relatedness of &lt;em&gt;L. fremontii&lt;/em&gt; to the rest of the plant community in each pool.&lt;/p&gt;

&lt;p&gt;Plant species richness was not related to pollen limitation. Thus, at least in their study with vernal pools in California, relatedness to your plant neighbors has a greater impact than plant richness.&lt;/p&gt;

&lt;p&gt;The great thing about vernal pools is that they are truly terrestrial islands of habitat, surrounded by inhospitable habitat for pool species. Many vernal pools are created artificially for habitat conservation easements (e.g., &lt;a href=&quot;http://www.vollmarconsulting.com/projects/caltrans-madera-pools/index.html&quot;&gt;here&lt;/a&gt;. Perhaps someone can experimentally manipulate phylogenetic diversity in artificially created pools to really get at the causal links.&lt;/p&gt;

&lt;p&gt;p.s. Ok, this post is not terribly R related, except for that this paper used R for some of their statistics.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Good riddance to Excel pivot tables</title>
   <link href="http://schamberlain.github.com/2011/01/good-riddance-to-excel-pivot-tables/"/>
   <updated>2011-01-30T20:36:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/good-riddance-to-excel-pivot-tables</id>
   <content type="html">&lt;p&gt;Excel pivot tables have been how I have reorganized data...up until now. These are just a couple of examples why R is superior to Excel for reorganizing data:&lt;/p&gt;

&lt;p&gt;UPDATE: I fixed the code to use 'dcast' instead of 'cast'. And library(ggplot2) instead of library(plyr) [plyr is called along with ggplot2]. Thanks Bob!&lt;/p&gt;

&lt;p&gt;Also, see another post on this topic &lt;a href=&quot;http://news.mrdwab.com/2010/08/08/using-the-reshape-packagein-r/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1578361.js?file=goodriddance.R&quot;&gt;&lt;/script&gt;


&lt;p&gt;&lt;img src=&quot;/pivottable1.png&quot; alt=&quot;Figure&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API: Fish harvests</title>
   <link href="http://schamberlain.github.com/2011/01/r-and-google-visualization-api-fish/"/>
   <updated>2011-01-17T19:04:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/r-and-google-visualization-api-fish</id>
   <content type="html">&lt;p&gt;I recently gathered fish harvest data from the U.S. National Oceanic and Atmospheric Administarion (NOAA), which I downloaded from &lt;a href=&quot;http://infochimps.com/&quot;&gt;Infochimps&lt;/a&gt;. The data is fish harvest by weight and value, by species for 21 years, from 1985 to 2005.&lt;br /&gt;&lt;br /&gt;Here is a link to a google document of the data I used below. I had to do some minor pocessing in Excel first; thus the link to this data.&lt;br /&gt;https://spreadsheets.google.com/ccc?key=0Aq6aW8n11tS_dFRySXQzYkppLXFaU2F5aC04d19ZS0E&amp;amp;hl=en&lt;br /&gt;&lt;br /&gt;Get the original data from Infochimps here:&lt;br /&gt;http://infochimps.com/datasets/domestic-fish-and-shellfish-catch-value-and-price-by-species-198&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################# Fish harvest data ########################################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Mac/R_stuff/Blog_etc/Infochimps/Fishharvest&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set path&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;googleVis&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/Hmisc&quot;&gt;Hmisc&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fish &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;fishharvest.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read data&lt;/span&gt;&lt;br /&gt;fish2 &amp;lt;- melt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;id=&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;measure=&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# melt table&lt;/span&gt;&lt;br /&gt;year &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1985&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;2005&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;117&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;fish2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;year&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# replace year with actual values&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Google visusalization API&lt;/span&gt;&lt;br /&gt;fishdata &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fish2$var == &lt;span style=&quot;color: blue;&quot;&gt;&quot;quantity_1000lbs&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;value_1000dollars=&lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fish2$var == &lt;span style=&quot;color: blue;&quot;&gt;&quot;value_1000dollars&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/names&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdata&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: blue;&quot;&gt;&quot;quantity_1000lbs&quot;&lt;/span&gt;&lt;br /&gt;fishharvest &amp;lt;- gvisMotionChart&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdata&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; idvar=&lt;span style=&quot;color: blue;&quot;&gt;&quot;species&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; timevar=&lt;span style=&quot;color: blue;&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishharvest&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;http://www.google.com/jsapi&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;script type=&quot;text/javascript&quot;&gt;google.load(&quot;visualization&quot;, &quot;1&quot;, { packages:[&quot;motionchart&quot;] });google.setOnLoadCallback(drawChart);function drawChart() {var data = new google.visualization.DataTable();var datajson = [ [ &quot;Anchovies&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14566,  2704 ],[ &quot;Bluefish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13743,  2363 ],[ &quot;Butterfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10338,  3537 ],[ &quot;Cod, Atlantic&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82823, 35140 ],[ &quot;Cod, Pacific&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2028e+05, 18556 ],[ &quot;Croaker&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11088,  3658 ],[ &quot;Flounders&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9572e+05,1.2912e+05 ],[ &quot;Haddock&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14416, 13545 ],[ &quot;Halibut&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61032, 38376 ],[ &quot;Herring, sea; Atlantic &quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 57133,  2968 ],[ &quot;Herring, sea; Pacific&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.4207e+05, 47025 ],[ &quot;Jack mackerel&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20852,  1770 ],[ &quot;Mackerel, Chub&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75453,  6324 ],[ &quot;Menhaden&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.7394e+06,1.0068e+05 ],[ &quot;Mullet&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21205,  5720 ],[ &quot;Ocean perch, Atlantic&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9666,  3179 ],[ &quot;Ocean perch, Pacific&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9034,  1757 ],[ &quot;Pollock, Atlantic&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43477,  6978 ],[ &quot;Pollock, Alaska&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92833,  5409 ],[ &quot;Rockfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82109, 23107 ],[ &quot;Sablefish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63380, 28692 ],[ &quot;Salmon&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.2695e+05,4.398e+05 ],[ &quot;Scup or porgy&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15996,  9338 ],[ &quot;Sea trout, gray&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16400,  7330 ],[ &quot;Shark, Dogfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11563,   842 ],[ &quot;Snapper, red&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5181, 10661 ],[ &quot;Swordfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12258, 33191 ],[ &quot;Tuna&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 83054, 52515 ],[ &quot;Whiting (Atlantic, silver)&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44545,  8274 ],[ &quot;Whiting (Pacific, hake)&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16316,   792 ],[ &quot;Clams&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.5055e+05,1.2835e+05 ],[ &quot;Crabs&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3763e+05,2.0304e+05 ],[ &quot;Lobsters: American&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46152,1.149e+05 ],[ &quot;Oysters&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 44173, 70053 ],[ &quot;Scallops, Calico&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 12513,  1281 ],[ &quot;Scallops, sea&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 15829, 74562 ],[ &quot;Shrimp&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3369e+05,4.7285e+05 ],[ &quot;Squid, Atlantic&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  7157,  7256 ],[ &quot;Squid, Pacific&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 22276,  4047 ],[ &quot;Anchovies&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13436,  2523 ],[ &quot;Bluefish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13968,  2413 ],[ &quot;Butterfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9880,  6576 ],[ &quot;Cod, Atlantic&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61134, 36142 ],[ &quot;Cod, Pacific&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0444e+05, 11337 ],[ &quot;Croaker&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12382,  3883 ],[ &quot;Flounders&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.6905e+05,1.2459e+05 ],[ &quot;Haddock&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10968, 10911 ],[ &quot;Halibut&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 77691, 82925 ],[ &quot;Herring, sea; Atlantic &quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 79381,  4314 ],[ &quot;Herring, sea; Pacific&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3076e+05, 44598 ],[ &quot;Jack mackerel&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23672,  1775 ],[ &quot;Mackerel, Chub&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 85444,  6408 ],[ &quot;Menhaden&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.3914e+06, 93762 ],[ &quot;Mullet&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21646,  6043 ],[ &quot;Ocean perch, Atlantic&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6576,  3160 ],[ &quot;Ocean perch, Pacific&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15585,  3116 ],[ &quot;Pollock, Atlantic&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 54469, 14044 ],[ &quot;Pollock, Alaska&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3042e+05,  7167 ],[ &quot;Rockfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92029, 28265 ],[ &quot;Sablefish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 84868, 45879 ],[ &quot;Salmon&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.5852e+05,4.9394e+05 ],[ &quot;Scup or porgy&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16181,  9476 ],[ &quot;Sea trout, gray&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20602,  7086 ],[ &quot;Shark, Dogfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11114,   964 ],[ &quot;Snapper, red&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4489,  9820 ],[ &quot;Swordfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9671, 30508 ],[ &quot;Tuna&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 87811, 54575 ],[ &quot;Whiting (Atlantic, silver)&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 39924,  8312 ],[ &quot;Whiting (Pacific, hake)&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25615,  1182 ],[ &quot;Clams&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.4539e+05,1.3491e+05 ],[ &quot;Crabs&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.5566e+05,2.7014e+05 ],[ &quot;Lobsters: American&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46053,1.2056e+05 ],[ &quot;Oysters&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40544, 78068 ],[ &quot;Scallops, Calico&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  1616,  3087 ],[ &quot;Scallops, sea&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 19992, 97415 ],[ &quot;Shrimp&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.0018e+05,6.6274e+05 ],[ &quot;Squid, Atlantic&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33145, 10279 ],[ &quot;Squid, Pacific&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 42262,  4368 ],[ &quot;Anchovies&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12857,  2706 ],[ &quot;Bluefish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15226,  3254 ],[ &quot;Butterfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10315,  6496 ],[ &quot;Cod, Atlantic&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 59100, 44179 ],[ &quot;Cod, Pacific&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7061e+05, 31443 ],[ &quot;Croaker&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11044,  4396 ],[ &quot;Flounders&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9971e+05,1.4508e+05 ],[ &quot;Haddock&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6673,  8522 ],[ &quot;Halibut&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 76107, 88254 ],[ &quot;Herring, sea; Atlantic &quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 84536,  4368 ],[ &quot;Herring, sea; Pacific&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.226e+05, 47916 ],[ &quot;Jack mackerel&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26671,  1831 ],[ &quot;Mackerel, Chub&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 93755,  6433 ],[ &quot;Menhaden&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.7123e+06,1.0442e+05 ],[ &quot;Mullet&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30125,  8224 ],[ &quot;Ocean perch, Atlantic&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4202,  2709 ],[ &quot;Ocean perch, Pacific&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19982,  4478 ],[ &quot;Pollock, Atlantic&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45645, 17916 ],[ &quot;Pollock, Alaska&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5205e+05, 45849 ],[ &quot;Rockfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1788e+05, 38153 ],[ &quot;Sablefish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.027e+05, 58107 ],[ &quot;Salmon&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6202e+05,5.9638e+05 ],[ &quot;Scup or porgy&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14295,  9810 ],[ &quot;Sea trout, gray&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17927,  7499 ],[ &quot;Shark, Dogfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14167,  1573 ],[ &quot;Snapper, red&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3732,  8661 ],[ &quot;Swordfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9761, 34974 ],[ &quot;Tuna&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0006e+05, 95803 ],[ &quot;Whiting (Atlantic, silver)&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34673, 11584 ],[ &quot;Whiting (Pacific, hake)&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 38783,  1900 ],[ &quot;Clams&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3436e+05,1.3286e+05 ],[ &quot;Crabs&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.8637e+05,3.2188e+05 ],[ &quot;Lobsters: American&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 45558,1.3355e+05 ],[ &quot;Oysters&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 39807, 92423 ],[ &quot;Scallops, Calico&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  8155,  8889 ],[ &quot;Scallops, sea&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 32038,1.3226e+05 ],[ &quot;Shrimp&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.6314e+05,5.7808e+05 ],[ &quot;Squid, Atlantic&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38883, 12493 ],[ &quot;Squid, Pacific&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 43166,  4300 ],[ &quot;Anchovies&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12425,  2615 ],[ &quot;Bluefish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16853,  3012 ],[ &quot;Butterfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5441,  3407 ],[ &quot;Cod, Atlantic&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 76073, 42941 ],[ &quot;Cod, Pacific&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.6720e+05, 38429 ],[ &quot;Croaker&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10604,  4596 ],[ &quot;Flounders&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.2862e+05,1.4014e+05 ],[ &quot;Haddock&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6429,  7030 ],[ &quot;Halibut&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 81608, 72718 ],[ &quot;Herring, sea; Atlantic &quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 90397,  5229 ],[ &quot;Herring, sea; Pacific&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3143e+05, 57431 ],[ &quot;Jack mackerel&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22546,  1685 ],[ &quot;Mackerel, Chub&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0034e+05,  7498 ],[ &quot;Menhaden&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0861e+06,1.057e+05 ],[ &quot;Mullet&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 32642, 11218 ],[ &quot;Ocean perch, Atlantic&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2350,  1467 ],[ &quot;Ocean perch, Pacific&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11919,  2546 ],[ &quot;Pollock, Atlantic&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 33052, 11071 ],[ &quot;Pollock, Alaska&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2573e+06, 95252 ],[ &quot;Rockfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2403e+05, 38663 ],[ &quot;Sablefish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0751e+05, 91779 ],[ &quot;Salmon&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.0615e+05,9.1067e+05 ],[ &quot;Scup or porgy&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14358,  9572 ],[ &quot;Sea trout, gray&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20533,  7948 ],[ &quot;Shark, Dogfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10070,   975 ],[ &quot;Snapper, red&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4154,  9496 ],[ &quot;Swordfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12818, 42703 ],[ &quot;Tuna&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1135e+05,1.2099e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35569,  8621 ],[ &quot;Whiting (Pacific, hake)&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15740,  1160 ],[ &quot;Clams&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3174e+05,1.3478e+05 ],[ &quot;Crabs&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.5563e+05,3.8356e+05 ],[ &quot;Lobsters: American&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 48643,1.4524e+05 ],[ &quot;Oysters&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 31892, 78498 ],[ &quot;Scallops, Calico&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 11868, 12462 ],[ &quot;Scallops, sea&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 30557,1.2824e+05 ],[ &quot;Shrimp&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3087e+05,5.0603e+05 ],[ &quot;Squid, Atlantic&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46739, 16220 ],[ &quot;Squid, Pacific&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 80426,  7689 ],[ &quot;Anchovies&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13389,  2696 ],[ &quot;Bluefish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10429,  2245 ],[ &quot;Butterfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7051,  4108 ],[ &quot;Cod, Atlantic&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 78423, 47772 ],[ &quot;Cod, Pacific&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.7214e+05, 55375 ],[ &quot;Croaker&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8287,  4114 ],[ &quot;Flounders&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0249e+05,1.1983e+05 ],[ &quot;Haddock&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3808,  4538 ],[ &quot;Halibut&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75168, 85145 ],[ &quot;Herring, sea; Atlantic &quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 89657,  5041 ],[ &quot;Herring, sea; Pacific&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1935e+05, 24391 ],[ &quot;Jack mackerel&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28422,  1927 ],[ &quot;Mackerel, Chub&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 88667,  6023 ],[ &quot;Menhaden&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9887e+06, 84462 ],[ &quot;Mullet&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31594, 15023 ],[ &quot;Ocean perch, Atlantic&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1392,   919 ],[ &quot;Ocean perch, Pacific&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22332,  4646 ],[ &quot;Pollock, Atlantic&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23249,  9922 ],[ &quot;Pollock, Alaska&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.362e+06,1.8692e+05 ],[ &quot;Rockfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3362e+05, 42338 ],[ &quot;Sablefish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 97590, 73272 ],[ &quot;Salmon&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.8587e+05,5.9123e+05 ],[ &quot;Scup or porgy&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9582,  7720 ],[ &quot;Sea trout, gray&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14187,  7160 ],[ &quot;Shark, Dogfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12804,  1602 ],[ &quot;Snapper, red&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3959, 10329 ],[ &quot;Swordfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11768, 38321 ],[ &quot;Tuna&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 89413,1.0354e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 39353,  9403 ],[ &quot;Whiting (Pacific, hake)&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16564,  1094 ],[ &quot;Clams&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3817e+05,1.3494e+05 ],[ &quot;Crabs&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.5838e+05,4.144e+05 ],[ &quot;Lobsters: American&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 52926,1.4912e+05 ],[ &quot;Oysters&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 29926, 83585 ],[ &quot;Scallops, Calico&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  6580,  5928 ],[ &quot;Scallops, sea&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33757,1.3259e+05 ],[ &quot;Shrimp&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.5151e+05,4.6757e+05 ],[ &quot;Squid, Atlantic&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66829, 25592 ],[ &quot;Squid, Pacific&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 60509,  5509 ],[ &quot;Anchovies&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13189,  2723 ],[ &quot;Bluefish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13802,  3239 ],[ &quot;Butterfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6532,  3334 ],[ &quot;Cod, Atlantic&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 95881, 61329 ],[ &quot;Cod, Pacific&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.264e+05, 91384 ],[ &quot;Croaker&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6720,  3390 ],[ &quot;Flounders&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.5452e+05,1.1292e+05 ],[ &quot;Haddock&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5440,  5967 ],[ &quot;Halibut&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 70454, 96700 ],[ &quot;Herring, sea; Atlantic &quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.131e+05,  5746 ],[ &quot;Herring, sea; Pacific&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0812e+05, 32178 ],[ &quot;Jack mackerel&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8959,   535 ],[ &quot;Mackerel, Chub&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 83721,  5081 ],[ &quot;Menhaden&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9622e+06, 93896 ],[ &quot;Mullet&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28554, 12738 ],[ &quot;Ocean perch, Atlantic&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1322,   703 ],[ &quot;Ocean perch, Pacific&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 60972,  8494 ],[ &quot;Pollock, Atlantic&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21042, 10516 ],[ &quot;Pollock, Alaska&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.108e+06,2.6834e+05 ],[ &quot;Rockfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3154e+05, 38504 ],[ &quot;Sablefish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 89802, 58865 ],[ &quot;Salmon&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.3315e+05,6.1237e+05 ],[ &quot;Scup or porgy&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11452,  8677 ],[ &quot;Sea trout, gray&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9880,  5777 ],[ &quot;Shark, Dogfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35793,  3801 ],[ &quot;Snapper, red&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3101,  8411 ],[ &quot;Swordfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13797, 40851 ],[ &quot;Tuna&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 62393,1.0504e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44500, 11281 ],[ &quot;Whiting (Pacific, hake)&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21232,  1229 ],[ &quot;Clams&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.392e+05,1.3019e+05 ],[ &quot;Crabs&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.9942e+05,4.8384e+05 ],[ &quot;Lobsters: American&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 61017,1.5468e+05 ],[ &quot;Oysters&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 29193, 93718 ],[ &quot;Scallops, Calico&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 39917,1.537e+05 ],[ &quot;Shrimp&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.4649e+05,4.9143e+05 ],[ &quot;Squid, Atlantic&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 59809, 21178 ],[ &quot;Squid, Pacific&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 36082,  2636 ],[ &quot;Anchovies&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19245,  6813 ],[ &quot;Bluefish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13232,  2731 ],[ &quot;Butterfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6181,  3171 ],[ &quot;Cod, Atlantic&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92636, 74093 ],[ &quot;Cod, Pacific&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5372e+05,1.2293e+05 ],[ &quot;Croaker&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4761,  2146 ],[ &quot;Flounders&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.0496e+05,1.4479e+05 ],[ &quot;Haddock&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4053,  4581 ],[ &quot;Halibut&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 66339, 99532 ],[ &quot;Herring, sea; Atlantic &quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0707e+05,  6339 ],[ &quot;Herring, sea; Pacific&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2314e+05, 30832 ],[ &quot;Jack mackerel&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3618, 24433 ],[ &quot;Mackerel, Chub&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63336,  4872 ],[ &quot;Menhaden&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9771e+06, 77694 ],[ &quot;Mullet&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12717, 10569 ],[ &quot;Ocean perch, Atlantic&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1176,   543 ],[ &quot;Ocean perch, Pacific&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29994,  6445 ],[ &quot;Pollock, Atlantic&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17344,  9901 ],[ &quot;Pollock, Alaska&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.8553e+06,2.4155e+05 ],[ &quot;Rockfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 97466,1.0993e+05 ],[ &quot;Sablefish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 83610, 78166 ],[ &quot;Salmon&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.8328e+05,3.5972e+05 ],[ &quot;Scup or porgy&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16145,  9127 ],[ &quot;Sea trout, gray&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8668,  4854 ],[ &quot;Shark, Dogfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34376,  3444 ],[ &quot;Snapper, red&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2358,  5681 ],[ &quot;Swordfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17963, 50155 ],[ &quot;Tuna&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35695, 75053 ],[ &quot;Whiting (Atlantic, silver)&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 36533, 11219 ],[ &quot;Whiting (Pacific, hake)&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 55964,  3692 ],[ &quot;Clams&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3424e+05,1.2527e+05 ],[ &quot;Crabs&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,6.4999e+05,4.1484e+05 ],[ &quot;Lobsters: American&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 63337,1.6503e+05 ],[ &quot;Oysters&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 31859, 97996 ],[ &quot;Scallops, Calico&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,   858 ],[ &quot;Scallops, sea&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 39302,1.5893e+05 ],[ &quot;Shrimp&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.2009e+05,5.1285e+05 ],[ &quot;Squid, Atlantic&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 70929, 30346 ],[ &quot;Squid, Pacific&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 68640,  5288 ],[ &quot;Anchovies&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13679,  5228 ],[ &quot;Bluefish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11595,  2694 ],[ &quot;Butterfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7608,  3701 ],[ &quot;Cod, Atlantic&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61283, 52013 ],[ &quot;Cod, Pacific&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5053e+05,1.3248e+05 ],[ &quot;Croaker&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5077,  1893 ],[ &quot;Flounders&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.4583e+05,1.4351e+05 ],[ &quot;Haddock&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5111,  5582 ],[ &quot;Halibut&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 68579, 53773 ],[ &quot;Herring, sea; Atlantic &quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2299e+05,  6821 ],[ &quot;Herring, sea; Pacific&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.5905e+05, 35907 ],[ &quot;Jack mackerel&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2624,   245 ],[ &quot;Mackerel, Chub&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 41879,  4118 ],[ &quot;Menhaden&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.6443e+06, 82973 ],[ &quot;Mullet&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22479,  9730 ],[ &quot;Ocean perch, Atlantic&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1867,   790 ],[ &quot;Ocean perch, Pacific&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45484, 13561 ],[ &quot;Pollock, Atlantic&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15843, 10543 ],[ &quot;Pollock, Alaska&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.9521e+06,3.2474e+05 ],[ &quot;Rockfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2507e+05, 47280 ],[ &quot;Sablefish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75451, 79634 ],[ &quot;Salmon&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.1583e+05,5.8285e+05 ],[ &quot;Scup or porgy&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14014,  8669 ],[ &quot;Sea trout, gray&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7467,  4479 ],[ &quot;Shark, Dogfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 42327,  4675 ],[ &quot;Snapper, red&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3471,  7354 ],[ &quot;Swordfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19713, 60320 ],[ &quot;Tuna&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 56803, 90822 ],[ &quot;Whiting (Atlantic, silver)&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35893, 10990 ],[ &quot;Whiting (Pacific, hake)&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2375e+05,  5866 ],[ &quot;Clams&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.4245e+05,1.2733e+05 ],[ &quot;Crabs&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,6.2432e+05,4.7132e+05 ],[ &quot;Lobsters: American&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 55841,1.6095e+05 ],[ &quot;Oysters&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 36156,1.1454e+05 ],[ &quot;Scallops, Calico&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33528,1.6223e+05 ],[ &quot;Shrimp&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3776e+05,4.7995e+05 ],[ &quot;Squid, Atlantic&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 81944, 33925 ],[ &quot;Squid, Pacific&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 30436,  2698 ],[ &quot;Anchovies&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9786,  4518 ],[ &quot;Bluefish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10575,  2970 ],[ &quot;Butterfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10470,  7039 ],[ &quot;Cod, Atlantic&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50503, 44956 ],[ &quot;Cod, Pacific&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.828e+05,1.1617e+05 ],[ &quot;Croaker&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9377,  3758 ],[ &quot;Flounders&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.9918e+05,1.356e+05 ],[ &quot;Haddock&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1938,  2672 ],[ &quot;Halibut&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63053, 62391 ],[ &quot;Herring, sea; Atlantic &quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0964e+05,  6511 ],[ &quot;Herring, sea; Pacific&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0657e+05, 18711 ],[ &quot;Jack mackerel&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3925,   232 ],[ &quot;Mackerel, Chub&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 24051,  1359 ],[ &quot;Menhaden&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9833e+06,1.0326e+05 ],[ &quot;Mullet&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31568, 12870 ],[ &quot;Ocean perch, Atlantic&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1764,   805 ],[ &quot;Ocean perch, Pacific&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45522, 13477 ],[ &quot;Pollock, Atlantic&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12500,  8370 ],[ &quot;Pollock, Alaska&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.258e+06,3.5838e+05 ],[ &quot;Rockfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2066e+05, 45696 ],[ &quot;Sablefish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 77467, 83861 ],[ &quot;Salmon&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.8813e+05,4.2353e+05 ],[ &quot;Scup or porgy&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10301,  6439 ],[ &quot;Sea trout, gray&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7032,  4216 ],[ &quot;Shark, Dogfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50164,  6257 ],[ &quot;Snapper, red&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3520,  7608 ],[ &quot;Swordfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21951, 55544 ],[ &quot;Tuna&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 55392, 91430 ],[ &quot;Whiting (Atlantic, silver)&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35735, 12872 ],[ &quot;Whiting (Pacific, hake)&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.1018e+05,  9326 ],[ &quot;Clams&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.4775e+05,1.3803e+05 ],[ &quot;Crabs&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,6.0444e+05,5.1049e+05 ],[ &quot;Lobsters: American&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 56513,1.5175e+05 ],[ &quot;Oysters&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33575, 86698 ],[ &quot;Scallops, Calico&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18116,1.056e+05 ],[ &quot;Shrimp&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9289e+05,4.129e+05 ],[ &quot;Squid, Atlantic&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 90809, 38323 ],[ &quot;Squid, Pacific&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 71550,  8079 ],[ &quot;Anchovies&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8334,  1890 ],[ &quot;Bluefish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9825,  2937 ],[ &quot;Butterfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10215,  4857 ],[ &quot;Cod, Atlantic&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 38653, 36160 ],[ &quot;Cod, Pacific&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.6029e+05, 95836 ],[ &quot;Croaker&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11460,  4321 ],[ &quot;Flounders&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.2686e+05,1.2658e+05 ],[ &quot;Haddock&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   724,  1033 ],[ &quot;Halibut&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 57900, 84898 ],[ &quot;Herring, sea; Atlantic &quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.01e+05,  5816 ],[ &quot;Herring, sea; Pacific&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1284e+05, 25587 ],[ &quot;Jack mackerel&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6387,   366 ],[ &quot;Mackerel, Chub&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22148,  1283 ],[ &quot;Menhaden&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.3235e+06,1.2836e+05 ],[ &quot;Mullet&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30544, 14943 ],[ &quot;Ocean perch, Atlantic&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   968,   602 ],[ &quot;Ocean perch, Pacific&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30865,  4355 ],[ &quot;Pollock, Atlantic&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8238,  6730 ],[ &quot;Pollock, Alaska&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.1245e+06,3.7593e+05 ],[ &quot;Rockfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 91705, 44062 ],[ &quot;Sablefish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 71339, 84827 ],[ &quot;Salmon&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,9.0109e+05,4.5641e+05 ],[ &quot;Scup or porgy&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10297,  7028 ],[ &quot;Sea trout, gray&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6101,  3998 ],[ &quot;Shark, Dogfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 46829,  6393 ],[ &quot;Snapper, red&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3771,  8718 ],[ &quot;Swordfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15260, 44728 ],[ &quot;Tuna&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 71795,1.0866e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35619, 13828 ],[ &quot;Whiting (Pacific, hake)&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.572e+05, 16747 ],[ &quot;Clams&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3143e+05,1.2236e+05 ],[ &quot;Crabs&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.4694e+05,5.3299e+05 ],[ &quot;Lobsters: American&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66416,1.9618e+05 ],[ &quot;Oysters&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38086, 93737 ],[ &quot;Scallops, Calico&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  7162,  6944 ],[ &quot;Scallops, sea&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18228, 91793 ],[ &quot;Shrimp&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.8226e+06,5.6417e+05 ],[ &quot;Squid, Atlantic&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,9.3339e+05, 43409 ],[ &quot;Squid, Pacific&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.224e+05, 20335 ],[ &quot;Anchovies&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6788,  1193 ],[ &quot;Bluefish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8379,  2855 ],[ &quot;Butterfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6430,  3186 ],[ &quot;Cod, Atlantic&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29631, 28184 ],[ &quot;Cod, Pacific&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.914e+05,1.0968e+05 ],[ &quot;Croaker&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16027,  5855 ],[ &quot;Flounders&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.2344e+05,1.5024e+05 ],[ &quot;Haddock&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   877,  1207 ],[ &quot;Halibut&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44796, 66781 ],[ &quot;Herring, sea; Atlantic &quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.4718e+05,  8654 ],[ &quot;Herring, sea; Pacific&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1748e+05, 49245 ],[ &quot;Jack mackerel&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4132,   279 ],[ &quot;Mackerel, Chub&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18974,  1130 ],[ &quot;Menhaden&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.847e+06, 99131 ],[ &quot;Mullet&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22249, 14725 ],[ &quot;Ocean perch, Atlantic&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   962,   608 ],[ &quot;Ocean perch, Pacific&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34420,  4660 ],[ &quot;Pollock, Atlantic&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7152,  6602 ],[ &quot;Pollock, Alaska&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.8526e+06,2.5961e+05 ],[ &quot;Rockfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 90119, 41125 ],[ &quot;Sablefish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 65904,1.2369e+05 ],[ &quot;Salmon&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0208e+06,4.8611e+05 ],[ &quot;Scup or porgy&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7221,  6646 ],[ &quot;Sea trout, gray&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6824,  4124 ],[ &quot;Shark, Dogfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 52980,  9516 ],[ &quot;Snapper, red&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3645,  8356 ],[ &quot;Swordfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13043, 37270 ],[ &quot;Tuna&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63864,1.0264e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 33548, 14632 ],[ &quot;Whiting (Pacific, hake)&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.903e+05, 18002 ],[ &quot;Clams&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3422e+05,1.4041e+05 ],[ &quot;Crabs&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.6364e+05,5.1199e+05 ],[ &quot;Lobsters: American&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66406,2.1484e+05 ],[ &quot;Oysters&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40380,1.0157e+05 ],[ &quot;Scallops, Calico&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,   957,  1219 ],[ &quot;Scallops, sea&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18316, 92826 ],[ &quot;Shrimp&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.0687e+05,5.7003e+05 ],[ &quot;Squid, Atlantic&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 74248, 33269 ],[ &quot;Squid, Pacific&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.5528e+05, 22660 ],[ &quot;Anchovies&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9933,   988 ],[ &quot;Bluefish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9356,  3166 ],[ &quot;Butterfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9685,  5747 ],[ &quot;Cod, Atlantic&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31422, 26634 ],[ &quot;Cod, Pacific&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.0531e+05,1.1198e+05 ],[ &quot;Croaker&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20483,  7386 ],[ &quot;Flounders&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.5953e+05,1.5405e+05 ],[ &quot;Haddock&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1257,  1494 ],[ &quot;Halibut&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49092, 83468 ],[ &quot;Herring, sea; Atlantic &quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9712e+05, 11194 ],[ &quot;Herring, sea; Pacific&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2043e+05, 69747 ],[ &quot;Jack mackerel&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4798,   296 ],[ &quot;Mackerel, Chub&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21994,  1336 ],[ &quot;Menhaden&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7555e+06, 94150 ],[ &quot;Mullet&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17026, 12518 ],[ &quot;Ocean perch, Atlantic&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   720,   477 ],[ &quot;Ocean perch, Pacific&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 46305,  6171 ],[ &quot;Pollock, Atlantic&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6529,  4543 ],[ &quot;Pollock, Alaska&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.6231e+06,2.3813e+05 ],[ &quot;Rockfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 94760, 39049 ],[ &quot;Sablefish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 59949,1.0901e+05 ],[ &quot;Salmon&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.7706e+05,3.6873e+05 ],[ &quot;Scup or porgy&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6895,  7330 ],[ &quot;Sea trout, gray&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7189,  4839 ],[ &quot;Shark, Dogfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 65342, 11804 ],[ &quot;Snapper, red&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4422,  9528 ],[ &quot;Swordfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12879, 36494 ],[ &quot;Tuna&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 85439,1.1026e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35400, 13494 ],[ &quot;Whiting (Pacific, hake)&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.3054e+05, 17031 ],[ &quot;Clams&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2324e+05,1.2778e+05 ],[ &quot;Crabs&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.918e+05,4.2670e+05 ],[ &quot;Lobsters: American&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 71641,2.418e+05 ],[ &quot;Oysters&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38007,1.1484e+05 ],[ &quot;Scallops, Calico&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18162,1.0182e+05 ],[ &quot;Shrimp&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1688e+05,5.092e+05 ],[ &quot;Squid, Atlantic&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 65248, 28514 ],[ &quot;Squid, Pacific&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.7478e+05, 31712 ],[ &quot;Anchovies&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12738,   827 ],[ &quot;Bluefish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9307,  2849 ],[ &quot;Butterfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7544,  5112 ],[ &quot;Cod, Atlantic&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28619, 24464 ],[ &quot;Cod, Pacific&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.6131e+05,1.4243e+05 ],[ &quot;Croaker&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 27781,  9058 ],[ &quot;Flounders&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6635e+05,1.3077e+05 ],[ &quot;Haddock&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3316,  3595 ],[ &quot;Halibut&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 69864,1.1736e+05 ],[ &quot;Herring, sea; Atlantic &quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.1101e+05, 11543 ],[ &quot;Herring, sea; Pacific&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3686e+05, 29341 ],[ &quot;Jack mackerel&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2557,   281 ],[ &quot;Mackerel, Chub&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 40558,  2762 ],[ &quot;Menhaden&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0278e+06,1.1205e+05 ],[ &quot;Mullet&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19637, 13419 ],[ &quot;Ocean perch, Atlantic&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   553,   346 ],[ &quot;Ocean perch, Pacific&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43166,  3186 ],[ &quot;Pollock, Atlantic&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9372,  5349 ],[ &quot;Pollock, Alaska&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.5125e+06,2.4259e+05 ],[ &quot;Rockfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1699e+05, 47899 ],[ &quot;Sablefish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 52925,1.0878e+05 ],[ &quot;Salmon&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6766e+05,2.7037e+05 ],[ &quot;Scup or porgy&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5718,  7449 ],[ &quot;Sea trout, gray&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7314,  4136 ],[ &quot;Shark, Dogfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 46345,  7307 ],[ &quot;Snapper, red&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5161, 10365 ],[ &quot;Swordfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13586, 33786 ],[ &quot;Tuna&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82855,1.0979e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34248, 15024 ],[ &quot;Whiting (Pacific, hake)&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.996e+05, 27344 ],[ &quot;Clams&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1418e+05,1.2969e+05 ],[ &quot;Crabs&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.2996e+05,4.2955e+05 ],[ &quot;Lobsters: American&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 83921,2.6722e+05 ],[ &quot;Oysters&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 37115, 92243 ],[ &quot;Scallops, Calico&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,  3601 ],[ &quot;Scallops, sea&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 13789, 90291 ],[ &quot;Shrimp&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9026e+05,5.4406e+05 ],[ &quot;Squid, Atlantic&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66177, 33343 ],[ &quot;Squid, Pacific&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.5761e+05, 22108 ],[ &quot;Anchovies&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3429,   242 ],[ &quot;Bluefish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8299,  2765 ],[ &quot;Butterfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5684,  2848 ],[ &quot;Cod, Atlantic&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 24514, 25474 ],[ &quot;Cod, Pacific&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5599e+05, 87717 ],[ &quot;Croaker&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25542,  9719 ],[ &quot;Flounders&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.9118e+05, 96804 ],[ &quot;Haddock&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6252,  7880 ],[ &quot;Halibut&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 73260,1.0397e+05 ],[ &quot;Herring, sea; Atlantic &quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7972e+05, 10856 ],[ &quot;Herring, sea; Pacific&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92296, 10722 ],[ &quot;Jack mackerel&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3445,   308 ],[ &quot;Mackerel, Chub&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45025,  2547 ],[ &quot;Menhaden&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7057e+06,1.0384e+05 ],[ &quot;Mullet&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17921,  9420 ],[ &quot;Ocean perch, Atlantic&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   706,   419 ],[ &quot;Ocean perch, Pacific&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 40663,  4072 ],[ &quot;Pollock, Atlantic&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12307,  8101 ],[ &quot;Pollock, Alaska&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.7165e+06,1.9015e+05 ],[ &quot;Rockfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 70058, 33041 ],[ &quot;Sablefish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43500, 91823 ],[ &quot;Salmon&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.4443e+05,2.5746e+05 ],[ &quot;Scup or porgy&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4913,  6882 ],[ &quot;Sea trout, gray&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8423,  4060 ],[ &quot;Shark, Dogfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49111,  8139 ],[ &quot;Snapper, red&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4257,  9899 ],[ &quot;Swordfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15093, 28888 ],[ &quot;Tuna&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 84999, 94462 ],[ &quot;Whiting (Atlantic, silver)&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 32990, 13369 ],[ &quot;Whiting (Pacific, hake)&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.0155e+05, 19931 ],[ &quot;Clams&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.0796e+05,1.3524e+05 ],[ &quot;Crabs&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,5.5272e+05,4.7338e+05 ],[ &quot;Lobsters: American&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 79642,2.5364e+05 ],[ &quot;Oysters&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33538, 88627 ],[ &quot;Scallops, Calico&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 13061, 79606 ],[ &quot;Shrimp&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.7776e+05,5.1562e+05 ],[ &quot;Squid, Atlantic&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 93245, 41881 ],[ &quot;Squid, Pacific&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  6208,  1591 ],[ &quot;Anchovies&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11736,  1358 ],[ &quot;Bluefish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7405,  2673 ],[ &quot;Butterfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6090,  3068 ],[ &quot;Cod, Atlantic&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21445, 23943 ],[ &quot;Cod, Pacific&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.2399e+05, 83227 ],[ &quot;Croaker&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 27016,  7798 ],[ &quot;Flounders&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3122e+05, 89946 ],[ &quot;Haddock&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6937,  9120 ],[ &quot;Halibut&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 80330,1.247e+05 ],[ &quot;Herring, sea; Atlantic &quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7548e+05, 11082 ],[ &quot;Herring, sea; Pacific&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 91059, 14989 ],[ &quot;Jack mackerel&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2461,   199 ],[ &quot;Mackerel, Chub&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19217,  1082 ],[ &quot;Menhaden&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9891e+06,1.1308e+05 ],[ &quot;Mullet&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15336,  8486 ],[ &quot;Ocean perch, Atlantic&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   778,   420 ],[ &quot;Ocean perch, Pacific&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45402,  3640 ],[ &quot;Pollock, Atlantic&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10129,  8440 ],[ &quot;Pollock, Alaska&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.3259e+06,1.6281e+05 ],[ &quot;Rockfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63223, 30436 ],[ &quot;Sablefish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 48255, 97148 ],[ &quot;Salmon&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.149e+05,3.5978e+05 ],[ &quot;Scup or porgy&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3879,  4783 ],[ &quot;Sea trout, gray&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6935,  4188 ],[ &quot;Shark, Dogfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 36712,  5951 ],[ &quot;Snapper, red&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4722, 10492 ],[ &quot;Swordfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16022, 33436 ],[ &quot;Tuna&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 58120, 86254 ],[ &quot;Whiting (Atlantic, silver)&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30997, 14282 ],[ &quot;Whiting (Pacific, hake)&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.7815e+05, 18593 ],[ &quot;Clams&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1223e+05,1.3502e+05 ],[ &quot;Crabs&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.5831e+05,5.2124e+05 ],[ &quot;Lobsters: American&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 87469,3.2296e+05 ],[ &quot;Oysters&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 26983, 72658 ],[ &quot;Scallops, Calico&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  4105,  3880 ],[ &quot;Scallops, sea&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 23038,1.2529e+05 ],[ &quot;Shrimp&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.0417e+05,5.605e+05 ],[ &quot;Squid, Atlantic&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 58310, 36218 ],[ &quot;Squid, Pacific&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.9989e+05, 34954 ],[ &quot;Anchovies&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25324,  1129 ],[ &quot;Bluefish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8072,  2796 ],[ &quot;Butterfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4677,  1922 ],[ &quot;Cod, Atlantic&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25060, 26384 ],[ &quot;Cod, Pacific&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.3050e+05,1.4233e+05 ],[ &quot;Croaker&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26991, 10249 ],[ &quot;Flounders&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.1272e+05,1.0991e+05 ],[ &quot;Haddock&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8823, 11575 ],[ &quot;Halibut&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75190,1.4383e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.6027e+05,  9972 ],[ &quot;Herring, sea; Pacific&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 74835, 12043 ],[ &quot;Jack mackerel&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2902,   247 ],[ &quot;Mackerel, Chub&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 47065,  2826 ],[ &quot;Menhaden&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7605e+06,1.124e+05 ],[ &quot;Mullet&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20554, 13652 ],[ &quot;Ocean perch, Atlantic&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   702,   375 ],[ &quot;Ocean perch, Pacific&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 39521,  2597 ],[ &quot;Pollock, Atlantic&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8913,  7028 ],[ &quot;Pollock, Alaska&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.6068e+06,1.6052e+05 ],[ &quot;Rockfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50044, 23385 ],[ &quot;Sablefish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49680,1.0116e+05 ],[ &quot;Salmon&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.2864e+05,2.7021e+05 ],[ &quot;Scup or porgy&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3018,  3670 ],[ &quot;Sea trout, gray&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5375,  3589 ],[ &quot;Shark, Dogfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23680,  4853 ],[ &quot;Snapper, red&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5084, 12003 ],[ &quot;Swordfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17805, 37981 ],[ &quot;Tuna&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50779, 95176 ],[ &quot;Whiting (Atlantic, silver)&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26855, 11370 ],[ &quot;Whiting (Pacific, hake)&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.5272e+05, 18809 ],[ &quot;Clams&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1848e+05,1.5397e+05 ],[ &quot;Crabs&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9901e+05,4.0501e+05 ],[ &quot;Lobsters: American&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 83180,3.013e+05 ],[ &quot;Oysters&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 41146, 90667 ],[ &quot;Scallops, Calico&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 32747,1.6461e+05 ],[ &quot;Shrimp&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3249e+05,6.9045e+05 ],[ &quot;Squid, Atlantic&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 57520, 27956 ],[ &quot;Squid, Pacific&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.5951e+05, 27077 ],[ &quot;Anchovies&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 42460,  1422 ],[ &quot;Bluefish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8804,  3088 ],[ &quot;Butterfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10939,  3582 ],[ &quot;Cod, Atlantic&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 33211, 32086 ],[ &quot;Cod, Pacific&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.7171e+05,1.1807e+05 ],[ &quot;Croaker&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29000,  8315 ],[ &quot;Flounders&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.5236e+05,1.0524e+05 ],[ &quot;Haddock&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12845, 14513 ],[ &quot;Halibut&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 77978,1.1517e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0919e+05, 12717 ],[ &quot;Herring, sea; Pacific&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 91297, 13213 ],[ &quot;Jack mackerel&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8464,   614 ],[ &quot;Mackerel, Chub&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15981,  1172 ],[ &quot;Menhaden&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7414e+06,1.0269e+05 ],[ &quot;Mullet&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18535, 11332 ],[ &quot;Ocean perch, Atlantic&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   794,   358 ],[ &quot;Ocean perch, Pacific&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 38997,  1692 ],[ &quot;Pollock, Atlantic&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9058,  6200 ],[ &quot;Pollock, Alaska&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.1794e+06,2.3072e+05 ],[ &quot;Rockfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43909, 21158 ],[ &quot;Sablefish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44037, 80361 ],[ &quot;Salmon&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.2283e+05,2.0893e+05 ],[ &quot;Scup or porgy&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4538,  3857 ],[ &quot;Sea trout, gray&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5010,  3150 ],[ &quot;Shark, Dogfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7703,  1778 ],[ &quot;Snapper, red&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5048, 11902 ],[ &quot;Swordfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9409, 19831 ],[ &quot;Tuna&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 51854, 93497 ],[ &quot;Whiting (Atlantic, silver)&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28479, 13232 ],[ &quot;Whiting (Pacific, hake)&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.793e+05, 16147 ],[ &quot;Clams&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2276e+05,1.6199e+05 ],[ &quot;Crabs&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.7225e+05,3.8167e+05 ],[ &quot;Lobsters: American&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 73637,2.5433e+05 ],[ &quot;Oysters&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 32673, 80946 ],[ &quot;Scallops, Calico&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46958,1.7535e+05 ],[ &quot;Shrimp&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.2448e+05,5.6855e+05 ],[ &quot;Squid, Atlantic&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40167, 22621 ],[ &quot;Squid, Pacific&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.9153e+05, 17834 ],[ &quot;Anchovies&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10762,   623 ],[ &quot;Bluefish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6973,  2394 ],[ &quot;Butterfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3363,  1431 ],[ &quot;Cod, Atlantic&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29841, 30715 ],[ &quot;Cod, Pacific&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.1283e+05, 96206 ],[ &quot;Croaker&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26146,  8029 ],[ &quot;Flounders&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.727e+05,1.0237e+05 ],[ &quot;Haddock&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16652, 19080 ],[ &quot;Halibut&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82044,1.356e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3587e+05,  9106 ],[ &quot;Herring, sea; Pacific&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 78408, 11534 ],[ &quot;Jack mackerel&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2262,   207 ],[ &quot;Mackerel, Chub&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7706,   496 ],[ &quot;Menhaden&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7506e+06,1.051e+05 ],[ &quot;Mullet&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15609,  9971 ],[ &quot;Ocean perch, Atlantic&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   811,   487 ],[ &quot;Ocean perch, Pacific&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45390,  4613 ],[ &quot;Pollock, Atlantic&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7894,  6200 ],[ &quot;Pollock, Alaska&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3411e+06,2.037e+05 ],[ &quot;Rockfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 36039, 17811 ],[ &quot;Sablefish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 40908, 78281 ],[ &quot;Salmon&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6718e+05,1.5501e+05 ],[ &quot;Scup or porgy&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7749,  5263 ],[ &quot;Sea trout, gray&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4765,  3064 ],[ &quot;Shark, Dogfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8513,  1913 ],[ &quot;Snapper, red&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4522, 10196 ],[ &quot;Swordfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8642, 17106 ],[ &quot;Tuna&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49358, 84116 ],[ &quot;Whiting (Atlantic, silver)&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17622,  7454 ],[ &quot;Whiting (Pacific, hake)&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.8571e+05, 13584 ],[ &quot;Clams&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3008e+05,1.6722e+05 ],[ &quot;Crabs&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.076e+05,3.977e+05 ],[ &quot;Lobsters: American&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 82252,2.9333e+05 ],[ &quot;Oysters&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 34397, 89071 ],[ &quot;Scallops, Calico&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 53056,2.0371e+05 ],[ &quot;Shrimp&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1673e+05,4.6088e+05 ],[ &quot;Squid, Atlantic&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 44856, 25284 ],[ &quot;Squid, Pacific&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.6068e+05, 18262 ],[ &quot;Anchovies&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4253,   342 ],[ &quot;Bluefish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7509,  2477 ],[ &quot;Butterfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2840,  1097 ],[ &quot;Cod, Atlantic&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23628, 27559 ],[ &quot;Cod, Pacific&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6754e+05,1.5962e+05 ],[ &quot;Croaker&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28777,  9218 ],[ &quot;Flounders&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.646e+05, 94454 ],[ &quot;Haddock&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14960, 16962 ],[ &quot;Halibut&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 79515,1.7219e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.1252e+05, 15554 ],[ &quot;Herring, sea; Pacific&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 74332, 10456 ],[ &quot;Jack mackerel&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   510,    73 ],[ &quot;Mackerel, Chub&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9658,   676 ],[ &quot;Menhaden&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.5993e+06, 96080 ],[ &quot;Mullet&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16054, 12496 ],[ &quot;Ocean perch, Atlantic&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   801,   412 ],[ &quot;Ocean perch, Pacific&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 47249,  1528 ],[ &quot;Pollock, Atlantic&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10569,  5399 ],[ &quot;Pollock, Alaska&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3618e+06,2.0318e+05 ],[ &quot;Rockfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35544, 15724 ],[ &quot;Sablefish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 47901,1.0019e+05 ],[ &quot;Salmon&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.7412e+05,2.0089e+05 ],[ &quot;Scup or porgy&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10408,  6409 ],[ &quot;Sea trout, gray&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2001,  1494 ],[ &quot;Shark, Dogfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5529,  1173 ],[ &quot;Snapper, red&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2834,  6838 ],[ &quot;Swordfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9356, 18059 ],[ &quot;Tuna&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61886, 86882 ],[ &quot;Whiting (Atlantic, silver)&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19066,  9330 ],[ &quot;Whiting (Pacific, hake)&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.0936e+05, 17153 ],[ &quot;Clams&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2781e+05,1.6249e+05 ],[ &quot;Crabs&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3207e+05,4.8084e+05 ],[ &quot;Lobsters: American&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 73657,2.9215e+05 ],[ &quot;Oysters&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 37103,1.036e+05 ],[ &quot;Scallops, Calico&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 56023,2.2917e+05 ],[ &quot;Shrimp&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1527e+05,4.2070e+05 ],[ &quot;Squid, Atlantic&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40732, 24251 ],[ &quot;Squid, Pacific&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.0071e+05, 25433 ],[ &quot;Anchovies&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15474,   819 ],[ &quot;Bluefish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8202,  2303 ],[ &quot;Butterfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2447,  1071 ],[ &quot;Cod, Atlantic&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16069, 21691 ],[ &quot;Cod, Pacific&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.9065e+05,1.4898e+05 ],[ &quot;Croaker&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25650,  8709 ],[ &quot;Flounders&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.5978e+05,1.2396e+05 ],[ &quot;Haddock&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18171, 18529 ],[ &quot;Halibut&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 80056,1.7640e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.8928e+05, 15084 ],[ &quot;Herring, sea; Pacific&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75330, 15246 ],[ &quot;Jack mackerel&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2672,   275 ],[ &quot;Mackerel, Chub&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8125,   573 ],[ &quot;Menhaden&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.4976e+06, 72447 ],[ &quot;Mullet&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16445, 10371 ],[ &quot;Ocean perch, Atlantic&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   877,   458 ],[ &quot;Ocean perch, Pacific&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45421,  4886 ],[ &quot;Pollock, Atlantic&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11177,  5610 ],[ &quot;Pollock, Alaska&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3534e+06,2.7163e+05 ],[ &quot;Rockfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31081, 13358 ],[ &quot;Sablefish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 52862,1.3547e+05 ],[ &quot;Salmon&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.3873e+05,3.0264e+05 ],[ &quot;Scup or porgy&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9717,  6456 ],[ &quot;Sea trout, gray&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1579,  1275 ],[ &quot;Shark, Dogfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5179,  1412 ],[ &quot;Snapper, red&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4847, 12161 ],[ &quot;Swordfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6389, 14639 ],[ &quot;Tuna&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 56541, 91138 ],[ &quot;Whiting (Atlantic, silver)&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18965,  9918 ],[ &quot;Whiting (Pacific, hake)&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.7453e+05, 21823 ],[ &quot;Clams&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1941e+05,1.6641e+05 ],[ &quot;Crabs&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1564e+05,4.4982e+05 ],[ &quot;Lobsters: American&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 88386,3.6601e+05 ],[ &quot;Oysters&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38654,1.1212e+05 ],[ &quot;Scallops, Calico&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 64580,3.2138e+05 ],[ &quot;Shrimp&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.093e+05,4.2762e+05 ],[ &quot;Squid, Atlantic&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 90185, 42614 ],[ &quot;Squid, Pacific&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 89580, 19831 ],[ &quot;Anchovies&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25021,  1122 ],[ &quot;Bluefish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7184,  2491 ],[ &quot;Butterfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1039,   825 ],[ &quot;Cod, Atlantic&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13910, 20816 ],[ &quot;Cod, Pacific&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.4875e+05,1.5074e+05 ],[ &quot;Croaker&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 24210,  9055 ],[ &quot;Flounders&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.1941e+05,1.351e+05 ],[ &quot;Haddock&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16627, 19023 ],[ &quot;Halibut&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 76955,1.7716e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.1556e+05, 20467 ],[ &quot;Herring, sea; Pacific&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 87295, 13801 ],[ &quot;Jack mackerel&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   656,    76 ],[ &quot;Mackerel, Chub&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7852,   576 ],[ &quot;Menhaden&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2437e+06, 62455 ],[ &quot;Mullet&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10697,  7318 ],[ &quot;Ocean perch, Atlantic&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1243,   715 ],[ &quot;Ocean perch, Pacific&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 42935,  5755 ],[ &quot;Pollock, Atlantic&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14350,  7878 ],[ &quot;Pollock, Alaska&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.4105e+06,3.0693e+05 ],[ &quot;Rockfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30008, 12220 ],[ &quot;Sablefish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 51083,1.3623e+05 ],[ &quot;Salmon&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.9944e+05,3.3067e+05 ],[ &quot;Scup or porgy&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10071,  7735 ],[ &quot;Sea trout, gray&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1294,  1062 ],[ &quot;Shark, Dogfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4993,  1244 ],[ &quot;Snapper, red&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4188, 11579 ],[ &quot;Swordfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6980, 17189 ],[ &quot;Tuna&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44394, 85707 ],[ &quot;Whiting (Atlantic, silver)&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16561,  8284 ],[ &quot;Whiting (Pacific, hake)&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6693e+05, 29047 ],[ &quot;Clams&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.0562e+05,1.7354e+05 ],[ &quot;Crabs&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9775e+05,4.1304e+05 ],[ &quot;Lobsters: American&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 87550,4.1419e+05 ],[ &quot;Oysters&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33957,1.1061e+05 ],[ &quot;Scallops, Calico&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 56704,4.3352e+05 ],[ &quot;Shrimp&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.6112e+05,4.0651e+05 ],[ &quot;Squid, Atlantic&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 63422, 37392 ],[ &quot;Squid, Pacific&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2571e+05, 31670 ] ];data.addColumn('string','species');data.addColumn('number','year');data.addColumn('string','type');data.addColumn('string','var');data.addColumn('number','quantity_1000lbs');data.addColumn('number','value_1000dollars');data.addRows(datajson);var chart = new google.visualization.MotionChart(   document.getElementById('MotionChart_2011-01-17-08-09-24'));var options ={};options[&quot;width&quot;] =    600;options[&quot;height&quot;] =    500;chart.draw(data,options);}&lt;/script&gt;&lt;br /&gt;&lt;div id=&quot;MotionChart_2011-01-17-08-09-24&quot; style=&quot;height: 500px; width: 600px;&quot;&gt;&lt;/div&gt;Data: fishdata, Chart ID: MotionChart_2011-01-17-08-09-24&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;R version 2.12.1 (2010-12-16),&lt;br /&gt;&lt;a href=&quot;http://code.google.com/apis/visualization/terms.html&quot;&gt;&lt;br /&gt;Google Terms of Use&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;fishdatagg2 &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;species&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/var&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;var&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;fishdatagg2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdatagg2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fishdatagg2$var %in% &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;quantity_1000lbs&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;value_1000dollars&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;limit3 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; + se&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; - se&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;bysppfgrid &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdatagg2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;species&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rank&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rank&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=species&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limit3&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet_grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;. ~ &lt;a href=&quot;http://inside-r.org/r-doc/stats/var&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;var&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; scales=&lt;span style=&quot;color: blue;&quot;&gt;&quot;free&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;legend.position=&lt;span style=&quot;color: blue;&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale_y_continuous&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trans=&lt;span style=&quot;color: blue;&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;bysppfgrid.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/_fANWq796z-w/TTRvw6n41xI/AAAAAAAAEYk/aaoDVQ_C8kk/s1600/bysppfgrid.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://2.bp.blogspot.com/_fANWq796z-w/TTRvw6n41xI/AAAAAAAAEYk/aaoDVQ_C8kk/s640/bysppfgrid.jpeg&quot; width=&quot;500&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API: Wikispeedia</title>
   <link href="http://schamberlain.github.com/2011/01/r-and-google-visualization-api-wikispeedia/"/>
   <updated>2011-01-17T17:48:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/r-and-google-visualization-api-wikispeedia</id>
   <content type="html">&lt;p&gt;Wikispeedia is a website trying to gather all speed limit signs on Earth.  I recently created a Google Visualization for some of their data, specifically on speed limit signs that change speed throughout the day.  Check it out &lt;a href=&quot;http://groups.google.com/group/wikispeedia/browse_thread/thread/c9c712125a597b16&quot;&gt;here&lt;/a&gt;.  Here is how to see and comment on what they are doing: &lt;a href=&quot;http://www.wikispeedia.org/&quot;&gt;website&lt;/a&gt;, and &lt;a href=&quot;http://groups.google.com/group/wikispeedia?lnk=&quot;&gt;Google groups&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Bipartite networks and R</title>
   <link href="http://schamberlain.github.com/2011/01/bipartite-networks-and-r/"/>
   <updated>2011-01-14T07:05:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/bipartite-networks-and-r</id>
   <content type="html">&lt;p&gt;Earlier, I posted about &lt;a href=&quot;http://r-ecology.blogspot.com/2011/01/ecological-networks-from-abundance.html&quot;&gt;generating networks from abundance distributions that you specify&lt;/a&gt;. If this post was interesting, check out Jeff Kilpatrick's website, where he provides code he produced in R and Octave to compare real bipartite networks to ones generated based on ecological variables measured in the field (in our case it was abundance, body size, and nectar production). We used that code for a paper we published]&lt;a href=&quot;http://www.springerlink.com/content/1055615l6m74mp30/&quot;&gt;paper&lt;/a&gt;. Code was modified from code produced by &lt;a href=&quot;http://www.cricyt.edu.ar/interactio/dvazquez/html/index_e.html&quot;&gt;Diego P. Vazquez&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Just for fun: Recovery.gov data snooping</title>
   <link href="http://schamberlain.github.com/2011/01/just-for-fun-recoverygov-data-snooping/"/>
   <updated>2011-01-11T08:52:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/just-for-fun-recoverygov-data-snooping</id>
   <content type="html">&lt;script async=&quot;true&quot; src=&quot;http://pixel.propublica.org/pixel.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;


&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;a href=&quot;http://projects.propublica.org/docdollars/&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TS_ACipsARI/AAAAAAAAEYA/s0V0Qr5GY0g/s1600/data-by-propublica.jpg&quot; style=&quot;cursor: move;&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Okay, so this isn't ecology related at all, but I like exploring data sets. So here goes...&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Propublica has some awesome data sets available at their website: http://www.propublica.org/tools/&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;I played around with their data set on Recovery.gov (see hyperlink below in code). Here's some figures:&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Mean award amount, ranked by mean amount, and also categorized by number of grants received (&quot;nfund&quot;) by state (by size and color of point).&amp;nbsp; Yes, there are 56 &quot;states&quot;, which includes things like Northern Marian Islands (MP). Notice that California got the largest number of awards, but the mean award size was relatively small. &lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TSuMsqigYNI/AAAAAAAAEXo/XIv_2rHJ_J8/s1600/awardbystate.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TSuMsqigYNI/AAAAAAAAEXo/XIv_2rHJ_J8/s640/awardbystate.jpeg&quot; width=&quot;572&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Here is a figure by government organization that awarded each award, by mean award size (y-axis), number of awards (x-axis), and number of jobs created (numjobs=text size). Notice that the FCC (Federal Communications Commission) created nearly the most jobs despite not giving very large awards (although they did give a lot of awards). &lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSyI0xFggbI/AAAAAAAAEX0/36J9f_n89tY/s1600/awardbyagency.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSyI0xFggbI/AAAAAAAAEX0/36J9f_n89tY/s640/awardbyagency.jpeg&quot; width=&quot;609&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Here is a figure of mean awards by state on a map of the US:&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TSuf8AnHDHI/AAAAAAAAEXs/pGxY_7ej7e8/s1600/bystatemapmeans.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;537&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TSuf8AnHDHI/AAAAAAAAEXs/pGxY_7ej7e8/s640/bystatemapmeans.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;And by number of awards by state:&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSuf9SKo2KI/AAAAAAAAEXw/QxDiC-DbvFc/s1600/bystatemapnumber.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;537&quot; src=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSuf9SKo2KI/AAAAAAAAEXw/QxDiC-DbvFc/s640/bystatemapnumber.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is the code:&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#################### Propublica Recovery.gov data           ####################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################################################################################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;maps&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;stringr&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/maps&quot;&gt;maps&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/stringr&quot;&gt;stringr&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Mac/R_stuff/Blog_etc&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set working directory&lt;/span&gt;&lt;br /&gt;theme_set&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Read propublica data from file (download from here: http://propublica.s3.amazonaws.com/assets/recoverygov/propublica-recoverygov-primary-2.xls&lt;/span&gt;&lt;br /&gt;propubdat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;propublica-recoverygov-primary-2.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Summarize data&lt;/span&gt;&lt;br /&gt;fundbystate &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prime_state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; meanfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; sefund = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; nfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; numjobs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;number_of_jobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fundbyagency &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding_agency_name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; meanfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; sefund = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; nfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; numjobs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;number_of_jobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fun1 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;a&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;str_c&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/na.omit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;na.omit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;str_extract&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/unlist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;unlist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;str_split&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/unlist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;unlist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/as.character&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.character&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;a&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&quot;[A-Z]{1}&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/nlme/collapse&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;collapse&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Fxn to make funding agency name abbreviations within ddply below&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fundbyagency2 &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbyagency&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding_agency_name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/transform&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;transform&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# add to table funding agency name abbreviations&lt;/span&gt;&lt;br /&gt; agency_abbrev = fun1&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding_agency_name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data, means and se's by state&lt;/span&gt;&lt;br /&gt;limits &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = meanfund + sefund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = meanfund - sefund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;awardbystate &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbystate&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prime_state&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;meanfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=meanfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;legend.position=&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&quot;State&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Mean grant amount awarded +/- 1 s.e.&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;awardbystate.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data, means and se's by funding agency&lt;/span&gt;&lt;br /&gt;limits2 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = meanfund + sefund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = meanfund - sefund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;awardbyagency &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbyagency2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=&lt;a href=&quot;http://inside-r.org/r-doc/base/log&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;meanfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/base/log&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;label=agency_abbrev&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=numjobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;awardbyagency.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# On US map&lt;/span&gt;&lt;br /&gt;fundbystate2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;fundbystate.csv&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;states &amp;lt;- map_data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# get state geographic data from the maps package&lt;/span&gt;&lt;br /&gt;recovmap &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fundbystate2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/by&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;by&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&quot;region&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# merage datasets&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt;=recovmap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;group=group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fill=meanfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;geom=&lt;span style=&quot;color: blue;&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;bystatemapmeans.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt;=recovmap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;group=group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fill=nfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;geom=&lt;span style=&quot;color: blue;&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;bystatemapnumber.jpeg&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;And the text file fundbystate2 &lt;a href=&quot;http://web.me.com/scott_c1/Scott_Chamberlain/Other_files/fundbystate.csv&quot;&gt;here&lt;/a&gt;. I had the make this file separately so I could get in the spelled out state names as they were not provided in the propublica dataset.&lt;br /&gt;&lt;br /&gt;Source and disclaimer:&lt;br /&gt;Data provided by &lt;a href=&quot;http://www.propublica.org/&quot;&gt;Propublica&lt;/a&gt;. Data may contain errors and/or omissions.

</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API</title>
   <link href="http://schamberlain.github.com/2011/01/r-and-google-visualization-api/"/>
   <updated>2011-01-08T17:33:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/r-and-google-visualization-api</id>
   <content type="html">&lt;p&gt;R interfaces with the powerful Google Visualization API with the package googleVis (see &lt;a href=&quot;http://code.google.com/p/google-motion-charts-with-r/&quot;&gt;here&lt;/a&gt;). It's relatively easy to convert your graphics in R to interactive graphics to post on a web browser. And the graphics are quite nice, as seen below in a simple graph of some of my data collected from this summer on seed predation to &lt;i&gt;Helianthus annuus&lt;/i&gt; seeds in Texas:&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;http://www.google.com/jsapi&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;script type=&quot;text/javascript&quot;&gt;google.load(&quot;visualization&quot;, &quot;1&quot;, { packages:[&quot;motionchart&quot;] });google.setOnLoadCallback(drawChart);function drawChart() {var data = new google.visualization.DataTable();var datajson = [ [ &quot;Site 1&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;far&quot;,2.7558, 119.7 ],[ &quot;Site 1&quot;,new Date(2009,0,8),&quot;beall&quot;,&quot;near&quot;,0.53571,128.83 ],[ &quot;Site 1&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,0.36207,103.23 ],[ &quot;Site 2&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;near&quot;,0.051212,82.188 ],[ &quot;Site 2&quot;,new Date(2009,0,8),&quot;mine field&quot;,&quot;far&quot;,     0,45.664 ],[ &quot;Site 2&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,     0,50.319 ],[ &quot;Site 3&quot;,new Date(2007,0,8),&quot;beall&quot;,&quot;far&quot;,0.30909,94.639 ],[ &quot;Site 3&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;near&quot;,0.02439,137.54 ],[ &quot;Site 3&quot;,new Date(2009,0,8),&quot;mine field&quot;,&quot;far&quot;,0.85294,97.058 ],[ &quot;Site 3&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,0.050633,127.31 ],[ &quot;Site 4&quot;,new Date(2007,0,8),&quot;beall&quot;,&quot;far&quot;,0.34539,109.48 ],[ &quot;Site 4&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;near&quot;,0.27667,127.04 ],[ &quot;Site 4&quot;,new Date(2009,0,8),&quot;mine field&quot;,&quot;far&quot;,0.69652,138.99 ],[ &quot;Site 4&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,0.16392,153.22 ],[ &quot;Site 5&quot;,new Date(2007,0,8),&quot;mine field&quot;,&quot;far&quot;,0.060811,124.68 ],[ &quot;Site 5&quot;,new Date(2008,0,8),&quot;mine field&quot;,&quot;near&quot;,0.12821, 103.6 ] ];data.addColumn('string','site2');data.addColumn('date','years');data.addColumn('string','seed_source');data.addColumn('string','near_far');data.addColumn('number','meanholes');data.addColumn('number','meanseeds');data.addRows(datajson);var chart = new google.visualization.MotionChart(   document.getElementById('MotionChart_2011-01-08-19-31-57'));var options ={};options[&quot;width&quot;] =    600;options[&quot;height&quot;] =    500;chart.draw(data,options);}&lt;/script&gt;&lt;br /&gt;&lt;div id=&quot;MotionChart_2011-01-08-19-31-57&quot; style=&quot;height: 500px; width: 600px;&quot;&gt;&lt;/div&gt;Data: data2, Chart ID: MotionChart_2011-01-08-19-31-57&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;R version 2.12.1 (2010-12-16),&lt;br /&gt;&lt;a href=&quot;http://code.google.com/apis/visualization/terms.html&quot;&gt;&lt;br /&gt;Google Terms of Use&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;%@include file=&quot;../src/simpleFooter.rsp&quot;%&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecological networks from abundance distributions</title>
   <link href="http://schamberlain.github.com/2011/01/ecological-networks-from-abundance/"/>
   <updated>2011-01-06T06:58:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/ecological-networks-from-abundance</id>
   <content type="html">&lt;p&gt;Another grad student and I tried recently to make a contribution to our understanding of the relationship between ecological network structure (e.g., nestedness) and community structure (e.g., evenness)...&lt;/p&gt;

&lt;p&gt;...Alas, I had no luck making new insights. However, I am providing the code used for this failed attempt in hopes that someone may find it useful. This is very basic code. It was roughly based off of the paper by Bluthgen et al. 2008 Ecology (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/07-2121.1?journalCode=ecol&quot;&gt;here&lt;/a&gt;). In my code the number of interactions is set to 600, and there are 30 plant species, and 10 animal species. This assumes they share the same abundance distributions and sigma values.&lt;/p&gt;

&lt;p&gt;UPDATE: I changed the below code a bit to just output the metrics links per species, interaction evenness and H2.&lt;/p&gt;

&lt;p&gt;UPDATE on 27-Aug-12: Now using a github gist, which should actually work:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3493789.js?file=matricesfromabddist.r&quot;&gt;&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>R-bloggers</title>
   <link href="http://schamberlain.github.com/2011/01/r-bloggers/"/>
   <updated>2011-01-05T06:11:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/r-bloggers</id>
   <content type="html">&lt;p&gt;Just a quick FYI note in case you haven't seen this site.&lt;/p&gt;

&lt;p&gt;R-bloggers is an awesome site, bringing together more than 140 blogs (including mine) about R in a single location. See Tal Galili's motivation for creating the site, and his notes on the site &lt;a href=&quot;http://www.r-bloggers.com/r-bloggers-in-2010-top-14-r-posts-site-statistics-and-invitation-for-sponsors/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>New approach to analysis of phylogenetic community structure</title>
   <link href="http://schamberlain.github.com/2011/01/new-approach-to-analysis-of-phylogenetic-community-structure/"/>
   <updated>2011-01-05T05:54:00-08:00</updated>
   <id>http://schamberlain.github.com/2011/01/new-approach-to-analysis-of-phylogenetic-community-structure</id>
   <content type="html">&lt;p&gt;Anthony Ives, of University of Wisconsin-Madison, and Matthew Helmus of the Xishuangbanna Tropical Botanical Garden, present a new statistical method for analyzing phylogenetic community structure in an early view paper in Ecological Monographs. See the abstract &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/10-1264.1&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Up to now, most phylogenetic community structure papers have calculated metrics and used randomization tests to determine if observed metrics are different from random. The approach of Ives and Helmus fits models to observed data, instead of calculating single metrics.&lt;/p&gt;

&lt;p&gt;Furthermore, their approach gets around the limitation in studies of phylogenetic community structure of conducting many separate statistical tests, thereby inflating your chances of finding a significant effect purely by chance.&lt;/p&gt;

&lt;p&gt;Their approach uses generalized linear mixed models (GLMMs). They provide Matlab code for running these models, but R code will be available in the Picante package in the future.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ngram ecological terms</title>
   <link href="http://schamberlain.github.com/2010/12/ngram-ecological-terms/"/>
   <updated>2010-12-29T18:43:00-08:00</updated>
   <id>http://schamberlain.github.com/2010/12/ngram-ecological-terms</id>
   <content type="html">&lt;p&gt;The recent availability of google ngram data is a great source of data on language use. Here are some terms from ecology from 1890 to 2000 (from here: http://ngrams.googlelabs.com/). Note that the word &quot;ecology&quot; doesn't appear at all until about 1890.&lt;/p&gt;

&lt;p&gt;Notice the close alignment of &quot;ecology&quot; and &quot;ecosystem&quot;, while &quot;predation&quot; and &quot;facilitation&quot; put in somewhat equal showings. &quot;Parasitism&quot; is almost constant through time, while &quot;mutualism&quot; falls way below predation and facilitation and parasitism.&amp;nbsp; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;float: left; margin-right: 1em; text-align: left;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRv09kGgUxI/AAAAAAAAEXA/BXoTvjPhq3Y/s1600/chart.png&quot; style=&quot;clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;145&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRv09kGgUxI/AAAAAAAAEXA/BXoTvjPhq3Y/s400/chart.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;Google Ngram plot of six ecological terms + environmentalism for giggles&lt;br /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic meta-analysis in R using Phylometa</title>
   <link href="http://schamberlain.github.com/2010/12/phylogenetic-meta-analysis-in-r-using-phylometa/"/>
   <updated>2010-12-28T05:15:00-08:00</updated>
   <id>http://schamberlain.github.com/2010/12/phylogenetic-meta-analysis-in-r-using-phylometa</id>
   <content type="html">&lt;p&gt;Here is some code to run Phylometa from R. Phylometa is a program that conducts phylogenetic meta-analyses. The great advantage of the approach below is that you can easily run Phylometa from R, and manipulate the output from Phylometa in R. &lt;br /&gt;&lt;br /&gt;Phylometa was created by Marc Lajeunesse at University of South Florida, and is described in his 2009 AmNat &lt;a href=&quot;http://lajeunesse.myweb.usf.edu/publications.html&quot;&gt;paper&lt;/a&gt;. Phylometa can be downloaded free &lt;a href=&quot;http://lajeunesse.myweb.usf.edu/publications.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Save phylometa_fxn.R&amp;nbsp;(get &lt;a href=&quot;https://gist.github.com/939970&quot;&gt;here&lt;/a&gt;) to your working directory.&amp;nbsp; Then use the  block of code below to call the functions within phylometa_fxn.R.&lt;/p&gt;

&lt;p&gt;The program Phylometa needs to be in the working directory you are calling from.&lt;br /&gt;&lt;br /&gt;Let me know what doesn't work, and what improvements can be made; I'm sure there are many! &lt;br /&gt;&lt;br /&gt;---This code below is also available &lt;a href=&quot;https://gist.github.com/939971&quot;&gt;here&lt;/a&gt; on Github.&lt;/p&gt;

&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Directions&lt;/span&gt;&amp;nbsp;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Place phylometa software to your working directory&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Put your phylogeny, in format required by phylometa, in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Put your meta-analysis dataset, in format required by phylometa, in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Set working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Use below functions&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Beware: only use a moderator variable with up to 6 groups &lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Install packages&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;plyr&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/plyr&quot;&gt;plyr&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Set the working directory [NOTE:CHANGE TO YOUR WORKING DIRECTORY]&lt;/span&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;/Users/Scott/Documents/phylometa&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Call and run functions (used below) in the working directory [NOTE:CHANGE TO YOUR WORKING DIRECTORY]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/source&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;source&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;/Users/Scott/Documents/phylometa&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;nbsp;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;###########################Functions to to a phylogenetic meta-analysis&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Define number of groups in moderator variable&lt;/span&gt;&lt;br /&gt;groups &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Run phylometa. Change file names as needed&lt;/span&gt;&lt;br /&gt;phylometa.run &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;'&quot;phyloMeta_v1-2_beta.exe&quot; phylogeny.txt metadata_2g.txt'&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;intern=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Process phylometa output &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#E.g.&lt;/span&gt;&lt;br /&gt;myoutput &amp;lt;- phylometa.process&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylometa.run&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Get output from phylometa.run&lt;/span&gt;&lt;br /&gt;phylometa.output&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Prints all five tables&lt;/span&gt;&lt;br /&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Prints the table you specify, from 1 to 5, in this example, table 2 is output&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;###################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#########Plot effect sizes. These are various ways to look at the data. Go through them to see what they do. Output pdf's are in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Make table for plotting&lt;/span&gt;&lt;br /&gt;analysis &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;fixed&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups+&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;random&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups+&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;trad_effsizes &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Tradiational effect size table&lt;/span&gt;&lt;br /&gt;phylog_effsizes &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Phylogenetic effect size table&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The arrange method&lt;/span&gt;&lt;br /&gt;limits &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = effsize + &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;CI_high-effsize&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = effsize - &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;effsize-CI_low&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot01 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trad_effsizes&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Traditional meta-analysis&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Group&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Effect size&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot02 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylog_effsizes&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Phylogenetic meta-analysis&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Group&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Effect size&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;plots_effsizes_arrange.pdf&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;width = &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; height = &lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;arrange&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plot01&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;plot02&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/ncol&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;ncol&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#used in the two plotting methods below&lt;/span&gt;&lt;br /&gt;bothanalyses&amp;lt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;tradphy=&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;Traditional&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;groups*&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;+&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;Phylogenetic&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;groups*&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;+&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fixrand=&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;rbind.fill&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Table of both trad and phylo&lt;/span&gt;&lt;br /&gt;limits2 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = effsize + &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;CI_high-effsize&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = effsize - &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;effsize-CI_low&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The grid/wrap method, version 1&lt;/span&gt;&lt;br /&gt;plot03 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;bothanalyses&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=tradphy&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Group&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Effect size&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet_grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;.~fixrand&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;plots_effsizes_wrap1.pdf&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot03&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The grid/wrap method, version 2 (excuse the sloppy x-axis labels)&lt;/span&gt;&lt;br /&gt;plot04 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;bothanalyses&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=Group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=tradphy&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Group&quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&quot;Effect size&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet_grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;.~fixrand&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&quot;plots_effsizes_wrap2.pdf&quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot04&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Below is an example output figure from the code. This example is from an analysis using 5 groups (i.e., 5 levels in the explanatory variable). &lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRjJtgRlZOI/AAAAAAAAEW4/203ZMnCQUjM/s1600/Untitled.001.001.jpg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRjJtgRlZOI/AAAAAAAAEW4/203ZMnCQUjM/s1600/Untitled.001.001.jpg&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;span id=&quot;goog_1471819853&quot;&gt;&lt;/span&gt;&lt;span id=&quot;goog_1471819854&quot;&gt;&lt;/span&gt;

</content>
 </entry>
 
 <entry>
   <title>A new blog about using R for ecology and evolution</title>
   <link href="http://schamberlain.github.com/2010/12/a-new-blog-about-using-r-for-ecology-and-evolution/"/>
   <updated>2010-12-27T09:42:00-08:00</updated>
   <id>http://schamberlain.github.com/2010/12/a-new-blog-about-using-r-for-ecology-and-evolution</id>
   <content type="html">&lt;p&gt;I am starting this blog not because I am a seasoned code writer, but because I am learning how to use R specifically for ecology and evolution, and figured many others might have the same questions I have. If I find cool solutions I will post them here for all to view, criticize, improve, etc.&lt;/p&gt;
</content>
 </entry>
 
 
</feed>